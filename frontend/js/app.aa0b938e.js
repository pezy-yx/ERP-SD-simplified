(function(){var e={47:function(e,t,a){"use strict";e.exports=a.p+"img/material-documents-overview.d491c0d1.svg"},271:function(e,t,a){"use strict";e.exports=a.p+"img/posting-incoming-payments.c1c9e4f7.svg"},527:function(e,t,a){var n={"./closed-eye.svg":6107,"./create-BP-relationship.svg":5373,"./create-billing-documents.svg":4440,"./create-inquiry.svg":908,"./create-outbound-deliveries.svg":4429,"./default-app-icon.svg":2134,"./maintain-BP.svg":2407,"./manage-outbound-deliveries.svg":8196,"./manage-sales-orders.svg":3413,"./manage-sales-quotations.svg":7299,"./material-documents-overview.svg":47,"./open-eye.svg":7887,"./posting-incoming-payments.svg":271};function l(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}l.keys=function(){return Object.keys(n)},l.resolve=o,e.exports=l,l.id=527},908:function(e,t,a){"use strict";e.exports=a.p+"img/create-inquiry.28074726.svg"},1282:function(e,t,a){"use strict";var n=a(5796);const l={id:"app"};function o(e,t,a,o,s,i){const r=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.bF)(r)])}var s=(0,n.pM)({name:"App"}),i=a(1241);const r=(0,i.A)(s,[["render",o]]);var c=r,u=a(2142);window.API_BASE_URL="http://localhost:3000",(0,n.Ef)(c).use(u.A).mount("#app")},1740:function(e,t,a){"use strict";a.d(t,{n:function(){return n}});a(8111),a(1701);function n(e,t){return e.root?0==t.length?l(e.root.name):l(e.root.name)+"-"+t.map(e=>l(e)).join("-"):"no root"}function l(e){return e.replace(/[-.]/g,e=>"."+e)}},1750:function(e,t,a){"use strict";a.d(t,{$e:function(){return c},ab:function(){return s},bM:function(){return r},fO:function(){return i},fV:function(){return d},sm:function(){return p},wK:function(){return o}});var n=a(1114),l=(a(4114),a(8111),a(2489),a(116),a(7588),a(1701),a(5796));class o{constructor(e="leaf",t="string",a="",l=null,o=!1,s=[],i=null,r,c){(0,n.A)(this,"nodeType",void 0),(0,n.A)(this,"varType",void 0),(0,n.A)(this,"name",void 0),(0,n.A)(this,"nameDisplay",void 0),(0,n.A)(this,"defaultValue",void 0),(0,n.A)(this,"readonly",void 0),(0,n.A)(this,"children",void 0),(0,n.A)(this,"index",void 0),(0,n.A)(this,"config",void 0),(0,n.A)(this,"iconPath",void 0),(0,n.A)(this,"_currentValue",{}),this.nodeType=e,this.varType=t,this.name=a,this.nameDisplay=r||"",this.defaultValue=l,this.readonly=o,this.children=s||[],this.index=-1,this.config=i?{...i}:{},this.iconPath=c,"leaf"===this.nodeType&&(this.currentValue=l)}get currentValue(){if("dict"===this.nodeType){const e={};return this.children.forEach(t=>{e[t.name]=t.currentValue}),e}return"list"===this.nodeType?this.children.map(e=>e.currentValue):this._currentValue}set currentValue(e){if("dict"===this.nodeType&&"object"===typeof e&&null!==e)this.children.forEach(t=>{e.hasOwnProperty(t.name)&&(t.currentValue=e[t.name])});else if("list"===this.nodeType&&Array.isArray(e)){const t=[];this.children.forEach((a,n)=>{n<e.length?a.currentValue=e[n]:(a.currentValue=null,t.push(a))}),this.children=this.children.filter(e=>!t.includes(e));for(let a=this.children.length;a<e.length;a++){const t=new o("leaf",this.varType,"",e[a],this.readonly,[],{...this.config},this.nameDisplay,this.iconPath);this.children.push(t)}}else this._currentValue=e}getValue(){return this.currentValue}setValue(e){this.currentValue=e}forceSetValue(e){if("dict"===this.nodeType&&"object"===typeof e&&null!==e)for(const t of this.children){const a=e[t.name];void 0!==a?t.forceSetValue(a):"list"===t.nodeType?t.children=[]:t.forceSetValue(t.defaultValue)}else if("list"===this.nodeType&&Array.isArray(e)){this.children=[];for(let t=0;t<e.length;t++)if(this.config?.childTemplate){const a=r(this.config.childTemplate).clone();a&&(a.forceSetValue(e[t]),this.addChild(a))}else{const a=new o("leaf",this.varType,"",null,this.readonly,[],{...this.config},"",this.iconPath);a.forceSetValue(e[t]),this.addChild(a)}}else this.currentValue=e}addChild(e){this.children.push(e)}removeChild(e){e>=0&&e<this.children.length&&this.children.splice(e,1)}getSelectedChildren(){return this.children.filter(e=>e.config.selected)}setSelection(e){this.config.selected=e}selectChild(e,t){this.children.length<=e||e<0||this.children[e].setSelection(t)}isLeaf(){return"leaf"===this.nodeType}getNameDisplay(){return""==this.nameDisplay?this.name||"":this.nameDisplay}clone(){const e=this.children.map(e=>e.clone()),t=new o(this.nodeType,this.varType,this.name,this.defaultValue,this.readonly,e,{...this.config},this.nameDisplay,this.iconPath);return"leaf"===t.nodeType&&(t.currentValue=this.currentValue),t}template(){const e=this.children.map(e=>e.isLeaf()?new o(e.nodeType,e.varType,e.name,null,e.readonly,[],{...e.config},e.nameDisplay,e.iconPath):e.template());return new o(this.nodeType,this.varType,this.name,null,this.readonly,e,{...this.config},this.nameDisplay,this.iconPath)}findNodeByPath(e){if(!this||!e||0===e.length)return this;let t=this;for(const a of e){if(!t||!t.children)return null;if("dict"===t.nodeType)t=t.children.find(e=>e.name===a);else if("list"===t.nodeType){const e=parseInt(a);t=t.children[e]}if(!t)return null}return t}}class s{constructor(e=null){(0,n.A)(this,"root",void 0),(0,n.A)(this,"nodeIndex",void 0),(0,n.A)(this,"forceUpdateKey",void 0),this.root=e,this.nodeIndex=0,this.forceUpdateKey=(0,l.KR)(0),this.root&&this._initializeTree()}forceUpdate(){this.forceUpdateKey.value++}getValue(){return this.root?this.root.currentValue:{}}setValue(e){this.root&&(this.root.currentValue=e)}forceSetValue(e){this.root&&this.root.forceSetValue(e)}setRoot(e){this.root=e,this._initializeTree()}getChildren(e){return e&&e.children&&("dict"===e.nodeType||"list"===e.nodeType)?e.children.filter(e=>"leaf"!==e.nodeType):[]}getRoot(){return this.root}cloneRoot(){return this.root?this.root.clone():null}_initializeTree(){this.nodeIndex=0,this.root&&this._inorderTraversal(this.root)}_inorderTraversal(e){if(e){if("dict"===e.nodeType&&e.children)for(const t of e.children)this._inorderTraversal(t);if("list"===e.nodeType&&e.children)for(const t of e.children)this._inorderTraversal(t);e.index=this.nodeIndex++,e.name||(e.name=`value_${e.index}`)}}getAllNodes(){const e=[];return this.root&&this._preorderTraversal(this.root,e),e}_preorderTraversal(e,t){if(e&&(t.push(e),e.children&&e.children.length>0))for(const a of e.children)this._preorderTraversal(a,t)}setValueByJson(e){this.root&&this._setValueByJson(this.root,e)}_setValueByJson(e,t){if("dict"===e.nodeType&&"object"===typeof t&&null!==t)for(const a in t){const n=e.children.find(e=>e.name===a);n&&this._setValueByJson(n,t[a])}else if("list"===e.nodeType&&Array.isArray(t))for(let a=0;a<t.length;a++)if(e.children[a])this._setValueByJson(e.children[a],t[a]);else if(e.config?.childTemplate){const n=r(e.config.childTemplate).clone();n&&(n.setValue(t[a]),e.addChild(n))}else{const n=new o("leaf",e.varType,"",null,e.readonly,[],{...e.config},"",e.iconPath);n.setValue(t[a]),e.addChild(n)}else"leaf"===e.nodeType&&(e.currentValue=t)}replaceNodeByPath(e,t){if(!this.root||!t||0===t.length)return this.root=e,void this._initializeTree();if(1===t.length){this.root.children||(this.root.children=[]);const a=t[0];if("dict"===this.root.nodeType){const t=this.root.children.findIndex(e=>e.name===a);-1!==t?this.root.children[t]=e:(e.name=a,this.root.children.push(e))}else if("list"===this.root.nodeType){const t=parseInt(a);if(isNaN(t)||t<0)throw new Error(`Invalid list index: ${a}`);while(this.root.children.length<=t)this.root.children.push(new o);this.root.children[t]=e}return void this._initializeTree()}const a=t.slice(0,-1),n=t[t.length-1],l=this.findNodeByPath(a);if(!l)throw new Error(`Parent node not found at path: ${a.join("/")}`);if(l.children||(l.children=[]),"dict"===l.nodeType){const t=l.children.findIndex(e=>e.name===n);-1!==t?l.children[t]=e:(e.name=n,l.children.push(e))}else{if("list"!==l.nodeType)throw new Error(`Cannot add child to leaf node at path: ${a.join("/")}`);{const t=parseInt(n);if(isNaN(t)||t<0)throw new Error(`Invalid list index: ${n}`);while(l.children.length<=t)l.children.push(new o);l.children[t]=e}}this._initializeTree()}findNodeByPath(e){if(!this.root||!e||0===e.length)return this.root;let t=this.root;for(const a of e){if(!t||!t.children)return null;if("dict"===t.nodeType)t=t.children.find(e=>e.name===a);else if("list"===t.nodeType){const e=parseInt(a);t=t.children[e]}if(!t)return null}return t}findPathToNode(e){if(!this.root)return null;const t=(a,n)=>{if(a===e)return n;if(a.children&&a.children.length>0)for(let e=0;e<a.children.length;e++){const l=a.children[e];let o;if("dict"===a.nodeType)o=l.name;else{if("list"!==a.nodeType)continue;o=String(e)}const s=t(l,[...n,o]);if(s)return s}return null};return t(this.root,[])}}const i={date:e=>{if(!e)return!0;const t=new Date(e);return!isNaN(t.getTime())},number:e=>""===e||null===e||void 0===e||!isNaN(Number(e)),required:e=>void 0!==e&&null!==e&&""!==e,email:e=>{if(!e)return!0;const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},url:e=>{if(!e)return!0;try{return new URL(e),!0}catch{return!1}}};function r(e){const{varType:t="string",nodeType:a=("dict"===t?"dict":"dynamiclist"===t||"fixlist"===t?"list":"leaf"),name:n="",nameDisplay:l="",defaultValue:s=null,readonly:i=!1,config:c=null,children:u,iconPath:d=""}=e;let p=[];return"dict"===a&&u&&"object"===typeof u&&!Array.isArray(u)?(p=Object.entries(u).map(([e,t])=>{if("object"===typeof t&&null!==t){const a=t,n={name:e,varType:a.type??a.varType??"string",...a,iconPath:a.iconPath||""};return r(n)}return r({name:e,varType:"string",defaultValue:String(t),iconPath:t.iconPath||""})}),new o(a,t,n,s,i,p,c,l,d)):Array.isArray(u)&&u.length>0&&"leaf"!==a?(p=u.map(e=>r(e)),new o(a,t,n,s,i,p,c,l,d)):new o(a,t,n,s,i,[],c,l,d)}function c(e){const t=r(e),a=new s(t);return a._initializeTree(),a}function u(e,t="leaf",a="",n=null,l=!1,o=null,s=[],i="",r=""){return{varType:e,nodeType:t,name:a,defaultValue:n,readonly:l,config:o||{},children:s,nameDisplay:i,iconPath:r}}const d=u;function p(e){if(e?.children&&Array.isArray(e.children))for(const t of e.children)if(!p(t))return!1;return e&&"object"===typeof e&&"varType"in e&&"nodeType"in e}},2134:function(e,t,a){"use strict";e.exports=a.p+"img/default-app-icon.85082f4e.svg"},2142:function(e,t,a){"use strict";a.d(t,{A:function(){return Hi}});var n=a(1387),l=a(5796),o=(a(4114),"data:image/png;base64,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"),s="data:image/png;base64,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",i="data:image/png;base64,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",r="data:image/png;base64,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";const c={class:"nav-title"},u={class:"nav-right"},d={class:"search-container"};var p=(0,l.pM)({__name:"NavigationBar",props:{pageTitle:{default:"页面标题"}},emits:["profile-click","search"],setup(e,{emit:t}){const a=t,p=(0,l.KR)(!1),f=(0,l.KR)(""),v=(0,n.rd)(),g=(0,n.lq)(),m=e=>{e.preventDefault(),v.push("/application")},h=()=>{console.log("点击用户图标：跳转到用户主页"),a("profile-click")},y=()=>{console.log("点击返回箭头：返回上一个页面"),window.history.back()},k=()=>{if(g.path.startsWith("/application")){const e="/application/home";console.log(`点击主页图标：回到应用程序主页 (${e})`),v.push(e)}else{const e="/home";console.log(`点击主页图标：回到系统主页 (${e})`),v.push(e)}},A=()=>{p.value=!p.value,p.value&&(0,l.dY)(()=>{const e=document.querySelector(".search-input");e&&e.focus()})},b=()=>{console.log("执行搜索，搜索内容:",f.value),alert(`执行搜索：${f.value} (功能待实现)`),a("search",f.value)};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"navigation-bar",id:"navigation-bar",onContextmenu:m},[(0,l.Lk)("div",{class:"nav-left"},[(0,l.Lk)("div",{class:"icon-wrapper",onClick:h},t[2]||(t[2]=[(0,l.Lk)("img",{src:o,alt:"User",class:"nav-icon"},null,-1)])),(0,l.Lk)("div",{class:"icon-wrapper",onClick:y},t[3]||(t[3]=[(0,l.Lk)("img",{src:s,alt:"Back",class:"nav-icon"},null,-1)])),(0,l.Lk)("div",{class:"icon-wrapper",onClick:k},t[4]||(t[4]=[(0,l.Lk)("img",{src:i,alt:"Home",class:"nav-icon"},null,-1)]))]),(0,l.Lk)("div",c,(0,l.v_)(e.pageTitle),1),(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[p.value?(0,l.bo)(((0,l.uX)(),(0,l.CE)("input",{key:0,type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),placeholder:"Search Apps...",class:"search-input",onKeyup:(0,l.jR)(b,["enter"]),onBlur:t[1]||(t[1]=e=>p.value=!1)},null,544)),[[l.Jo,f.value]]):(0,l.Q3)("",!0),(0,l.Lk)("div",{class:"icon-wrapper search-icon",onClick:A},t[5]||(t[5]=[(0,l.Lk)("img",{src:r,alt:"Search",class:"nav-icon"},null,-1)]))])])],32))}}),f=a(1241);const v=(0,f.A)(p,[["__scopeId","data-v-459f89e1"]]);var g=v,m=a(1114);a(8111),a(2489);class h{constructor(){(0,m.A)(this,"storageKey",void 0),(0,m.A)(this,"maxHistorySize",void 0),this.storageKey="application_visit_history",this.maxHistorySize=10}getHistory(){try{const e=localStorage.getItem(this.storageKey);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("获取应用程序历史记录失败:",e),[]}}addVisitRecord(e){try{const t=this.getHistory(),a={applicationName:e.applicationName,routePath:e.routePath,lore:e.lore||"",tags:e.tags||[],visitTime:(new Date).toISOString(),visitCount:1},n=t.findIndex(t=>t.routePath===e.routePath);if(-1!==n){const e=t[n];e.visitTime=a.visitTime,e.visitCount=(e.visitCount||1)+1,t.splice(n,1),t.unshift(e)}else t.unshift(a);t.length>this.maxHistorySize&&t.splice(this.maxHistorySize),localStorage.setItem(this.storageKey,JSON.stringify(t)),console.log("应用程序访问记录已添加:",a)}catch(t){console.error("添加应用程序访问记录失败:",t)}}clearHistory(){try{localStorage.removeItem(this.storageKey),console.log("应用程序历史记录已清除")}catch(e){console.error("清除应用程序历史记录失败:",e)}}removeHistoryRecord(e){try{const t=this.getHistory(),a=t.filter(t=>t.routePath!==e);localStorage.setItem(this.storageKey,JSON.stringify(a)),console.log("已删除应用程序历史记录:",e)}catch(t){console.error("删除应用程序历史记录失败:",t)}}getRecentApplications(e=5){const t=this.getHistory();return t.slice(0,e)}async syncToServer(e){console.log("同步历史记录到服务器 (功能待实现)",e)}async fetchFromServer(e){console.log("从服务器获取历史记录 (功能待实现)",e)}}const y=new h;var k=y;const A={class:"recent-applications"},b={class:"recent-header"},V={class:"header-buttons"},L={key:0,class:"empty-state"},C={key:1,class:"recent-list"},T=["onClick"],w={class:"app-info"},S={class:"app-name"},P={key:0,class:"app-lore"},D={class:"app-meta"},I={class:"visit-time"},x={key:0,class:"visit-count"},E={class:"app-actions"},B=["onClick"];var R=(0,l.pM)({__name:"RecentApplications",emits:["navigate"],setup(e,{emit:t}){const a=t,o=(0,l.KR)([]),s=(0,n.rd)(),i=()=>{o.value=k.getRecentApplications(8)},r=e=>{const t=`/application${e.routePath}`;console.log(`从历史记录导航到应用: ${e.applicationName} -> ${t}`),k.addVisitRecord(e),s.push(t),a("navigate")},c=e=>{k.removeHistoryRecord(e),i()},u=()=>{confirm("确定要清除所有历史记录吗？")&&(k.clearHistory(),i())},d=()=>{confirm("确定要登出吗？")&&(localStorage.removeItem("token"),s.push("/login"),a("navigate"))},p=e=>{const t=new Date,a=new Date(e),n=t.getTime()-a.getTime(),l=Math.floor(n/6e4),o=Math.floor(n/36e5),s=Math.floor(n/864e5);return l<1?"刚刚":l<60?`${l}分钟前`:o<24?`${o}小时前`:s<7?`${s}天前`:a.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})};return(0,l.sV)(()=>{i(),(0,l.wB)(s.currentRoute,()=>{i()})}),(e,t)=>((0,l.uX)(),(0,l.CE)("div",A,[(0,l.Lk)("div",b,[t[0]||(t[0]=(0,l.Lk)("h3",null,"最近访问",-1)),(0,l.Lk)("div",V,[o.value.length>0?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:u,class:"clear-btn",title:"清除历史记录"}," 清除 ")):(0,l.Q3)("",!0),(0,l.Lk)("button",{onClick:d,class:"logout-btn",title:"登出"}," 登出 ")])]),0===o.value.length?((0,l.uX)(),(0,l.CE)("div",L,t[1]||(t[1]=[(0,l.Lk)("p",null,"暂无访问记录",-1)]))):((0,l.uX)(),(0,l.CE)("div",C,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.routePath,class:"recent-item",onClick:t=>r(e)},[(0,l.Lk)("div",w,[(0,l.Lk)("div",S,(0,l.v_)(e.applicationName),1),e.lore?((0,l.uX)(),(0,l.CE)("div",P,(0,l.v_)(e.lore),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",D,[(0,l.Lk)("span",I,(0,l.v_)(p(e.visitTime)),1),e.visitCount>1?((0,l.uX)(),(0,l.CE)("span",x," 访问 "+(0,l.v_)(e.visitCount)+" 次 ",1)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",E,[(0,l.Lk)("button",{onClick:(0,l.D$)(t=>c(e.routePath),["stop"]),class:"remove-btn",title:"从历史记录中移除"}," × ",8,B)])],8,T))),128))]))]))}});const N=(0,f.A)(R,[["__scopeId","data-v-1498ae1a"]]);var Q=N;const M={class:"application-layout",id:"application-layout"};var U=(0,l.pM)({__name:"Application",setup(e){const t=(0,l.KR)("Application"),a=(0,l.KR)(!1),o=(0,l.KR)(0),s=(0,n.lq)(),i=e=>{console.log("全局搜索:",e)},r=e=>{t.value=e},c=()=>{const e=s.meta;if(e&&e.title)t.value=e.title;else switch(s.name){case"MaintainBusinessPartner":t.value="Maintain Business Partner";break;case"TestPageErp":t.value="Test Page";break;default:t.value="Application"}},u=()=>{a.value=!a.value,a.value&&(o.value+=1)},d=()=>{a.value=!1},p=()=>{a.value=!1},f=e=>{"Escape"===e.key&&a.value&&(a.value=!1)};return(0,l.sV)(()=>{c(),document.addEventListener("keydown",f)}),(0,l.hi)(()=>{document.removeEventListener("keydown",f)}),(0,l.wB)(s,()=>{c()}),(e,n)=>{const s=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",M,[(0,l.bF)(g,{pageTitle:t.value,onSearch:i,onProfileClick:u},null,8,["pageTitle"]),(0,l.Lk)("div",{class:(0,l.C4)("application-content-container "+(a.value?"showingSideZone":"")),id:"application-content-container"},[(0,l.bF)(s,{onUpdateTitle:r,class:"application-content",id:"application-content"})],2),(0,l.Lk)("span",{class:(0,l.C4)("side-zone-bg "+(a.value?"showing":"")),onClick:p},null,2),(0,l.Lk)("div",{class:(0,l.C4)("side-zone-container "+(a.value?"showing":"")),onClick:p},[(0,l.Lk)("div",{class:"side-zone-content-container",onClick:n[0]||(n[0]=(0,l.D$)(()=>{},["stop"]))},[((0,l.uX)(),(0,l.Wv)(Q,{onNavigate:d,key:o.value}))])],2)])}}});const F=(0,f.A)(U,[["__scopeId","data-v-70f1cdfa"]]);var K=F;a(7588),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);const O={class:"page-content"},X={class:"tag-filter-section"},W={class:"tag-filter-container"},_=["onClick"],G={class:"applications-grid"},q=["onClick"],J={class:"application-header"},j={class:"application-name"},Y={key:0,class:"application-lore"},$={class:"directory-stats"};var z=(0,l.pM)({__name:"ApplicationDirectory",emits:["update-title"],setup(e,{emit:t}){const a=t,o=(0,l.KR)(null),s=(0,l.KR)([{applicationName:"Curricular Material PDF",lore:"Download Curricula",routePath:"/curricular-material-pdf",tags:["chore"]},{applicationName:"Maintain Business Partner",lore:"",routePath:"/maintain-business-partner",tags:["customer management"]},{applicationName:"Create BP relationship",lore:"",routePath:"/create-bp-relationship",tags:["customer management"]},{applicationName:"Display BP relationship",lore:"",routePath:"/display-bp-relationship",tags:["customer management"]},{applicationName:"Change BP relationship",lore:"",routePath:"/change-bp-relationship",tags:["customer management"]},{applicationName:"Create Inquiry",lore:"",routePath:"/create-inquiry",tags:["order management"]},{applicationName:"Change Inquiry",lore:"",routePath:"/change-inquiry",tags:["order management"]},{applicationName:"Display Inquiry",lore:"",routePath:"/display-inquiry",tags:["order management"]},{applicationName:"Manage Sales Quotations",lore:"",routePath:"/manage-sales-quotations",tags:["order management"]},{applicationName:"Create Sales Order",lore:"",routePath:"/create-sales-order",tags:["order management"]},{applicationName:"Sales Order Fulfillment",lore:"All issues",routePath:"/sales-order-fulfillment",tags:["order management","delivery management"]},{applicationName:"List Sales Orders",lore:"",routePath:"/list-sales-orders",tags:["order management"]},{applicationName:"Manage Sales Orders",lore:"",routePath:"/manage-sales-orders",tags:["order management"]},{applicationName:"Create Outbound Delivery",lore:"Create deliveries from sales orders",routePath:"/create-outbound-delivery",tags:["delivery management"]},{applicationName:"Manage Outbound Deliveries",lore:"Manage and process existing deliveries",routePath:"/manage-outbound-deliveries",tags:["delivery management"]},{applicationName:"Pick Outbound Delivery",lore:"From Sales Orders",routePath:"/pick-outbound-delivery",tags:["delivery management"]},{applicationName:"Material Documents Overview",lore:"",routePath:"/material-documents-overview",tags:["chore"]},{applicationName:"Manage Stock",lore:"",routePath:"/manage-stock",tags:["chore"]},{applicationName:"Display Stock Overview",lore:"",routePath:"/display-stock-overview",tags:["chore"]},{applicationName:"Create Billing Documents VRF11",lore:"VRF11",routePath:"/create-billing-document",tags:["financial management"]},{applicationName:"Display Billing Documents",lore:"76\nBilling Due List Items",routePath:"/display-billing-document",tags:["financial management"]},{applicationName:"Change Billing Document VR02",lore:"VR02",routePath:"/change-billing-document",tags:["financial management"]},{applicationName:"Display Billing Document VR03",lore:"VR03",routePath:"/display-billing-document",tags:["financial management"]},{applicationName:"Manage Billing Documents",lore:"",routePath:"/manage-billing-documents",tags:["financial management"]},{applicationName:"Post Incoming Payments",lore:"",routePath:"/post-incoming-payments",tags:["financial management"]},{applicationName:"AppContent Component Test",lore:"测试AppContent组件的stage管理功能",routePath:"/test/app-content",tags:["test"]},{applicationName:"Example Application",lore:"展示VarTree/VarBox、ApplicationContent和SearchModal的综合应用示例",routePath:"/example",tags:["example"]},{applicationName:"VarBox Tutorial",lore:"VarBox的所有用法",routePath:"/vartree-&-varinput-tutorial",tags:["example"]},{applicationName:"ItemConditionKit Test",lore:"测试新的ItemConditionKit工具类架构",routePath:"/test/item-condition-kit",tags:["test"]}]),i=(0,n.rd)(),r=(0,l.EW)(()=>{const e=new Set;return s.value.forEach(t=>{t.tags?.forEach(t=>e.add(t))}),Array.from(e).sort()}),c=(0,l.EW)(()=>o.value?s.value.filter(e=>e.tags?.includes(o.value)):s.value),u=e=>{o.value=e},d=e=>{const t={"customer management":"客户管理","order management":"订单管理","delivery management":"交付管理","financial management":"财务管理",chore:"其他",test:"测试",example:"示例"};return t[e]||e},p=e=>{const t=`/application${e.routePath}`;console.log(`导航到应用: ${e.applicationName} -> ${t}`),k.addVisitRecord(e),i.push(t)};return(0,l.sV)(()=>{a("update-title","应用程序目录")}),(e,t)=>((0,l.uX)(),(0,l.CE)("div",O,[(0,l.Lk)("div",null,[(0,l.Lk)("div",X,[(0,l.Lk)("div",W,[(0,l.Lk)("button",{class:(0,l.C4)(["tag-filter-button",{active:null===o.value}]),onClick:t[0]||(t[0]=e=>u(null))}," 全部 ",2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.value,e=>((0,l.uX)(),(0,l.CE)("button",{key:e,class:(0,l.C4)(["tag-filter-button",{active:o.value===e}]),onClick:t=>u(e)},(0,l.v_)(d(e)),11,_))),128))])]),(0,l.Lk)("div",G,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.applicationName,class:"application-card",onClick:t=>p(e)},[(0,l.Lk)("div",J,[(0,l.Lk)("p",j,(0,l.v_)(e.applicationName),1)]),t[1]||(t[1]=(0,l.Lk)("span",{class:"spacer"},null,-1)),e.lore?((0,l.uX)(),(0,l.CE)("div",Y,(0,l.v_)(e.lore),1)):(0,l.Q3)("",!0)],8,q))),128))]),(0,l.Lk)("div",$,[(0,l.Lk)("span",null,"显示 "+(0,l.v_)(c.value.length)+" / "+(0,l.v_)(s.value.length)+" 个应用程序",1)])])]))}});const H=(0,f.A)(z,[["__scopeId","data-v-7462cc68"]]);var Z=H;const ee={class:"maintain-business-partner-view"},te={class:"bp-page-content"},ae={key:0,class:"business-partner-search",style:{width:"100%"}},ne={class:"input-with-icon",style:{width:"100%"}},le={key:0,class:"query-results-list"},oe={class:"business-partner-rows-container"},se=["onClick"],ie={class:"row-item customer-id"},re={class:"row-item name"},ce={class:"row-item city"},ue={class:"row-item country"},de={class:"row-item bp-role"},pe={key:1,class:"no-results"},fe={key:2,class:"initial-output-message"},ve={key:1,class:"business-partner-detail-view"},ge={key:0,class:"detail-page-actions"},me={class:"bottom-actions"};function he(e,t,a,n,o,s){const i=(0,l.g2)("FilterTabs"),r=(0,l.g2)("VarBox");return(0,l.uX)(),(0,l.CE)("div",ee,[(0,l.bF)(i,{tabs:o.businessPartnerTabs,onTabSelected:s.handleTabSelected},null,8,["tabs","onTabSelected"]),(0,l.Lk)("div",te,["sales_and_dist"!==o.activeContentKey||o.showDetailView?"sales_and_dist"===o.activeContentKey&&o.showDetailView||["person","org","group"].includes(o.activeContentKey)?((0,l.uX)(),(0,l.CE)("div",ve,["sales_and_dist"===o.activeContentKey&&o.showDetailView?((0,l.uX)(),(0,l.CE)("div",ge,[(0,l.Lk)("button",{class:"back-button",onClick:t[0]||(t[0]=(...e)=>s.backToSearchResults&&s.backToSearchResults(...e))},"← Back to Search Results")])):(0,l.Q3)("",!0),((0,l.uX)(),(0,l.Wv)(r,{tree:"sales_and_dist"===o.activeContentKey&&o.showDetailView?o.customerDetailTree:o.customerCreateTree,class:"bp-detail-var-input",key:o.customerVarBoxKey},null,8,["tree"]))])):(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",ae,[(0,l.Lk)("div",ne,[(0,l.bF)(r,{tree:o.customerQueryTree,class:"bp-input-var-input"},null,8,["tree"])]),o.searchPerformed&&o.businessPartnerResults&&o.businessPartnerResults.length>0?((0,l.uX)(),(0,l.CE)("div",le,[(0,l.Lk)("div",oe,[t[3]||(t[3]=(0,l.Fv)('<div class="business-partner-row-header" data-v-646f482c><div class="header-item customer-id" data-v-646f482c>Customer ID</div><div class="header-item name" data-v-646f482c>Name</div><div class="header-item city" data-v-646f482c>City</div><div class="header-item country" data-v-646f482c>Country</div><div class="header-item bp-role" data-v-646f482c>BP Role</div><div class="header-item" data-v-646f482c></div></div>',1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.businessPartnerResults,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.customerId,class:"business-partner-row",onClick:t=>s.viewBusinessPartnerDetail(e.customerId)},[(0,l.Lk)("span",ie,(0,l.v_)(e.customerId),1),(0,l.Lk)("span",re,(0,l.v_)(e.name),1),(0,l.Lk)("span",ce,(0,l.v_)(e.city),1),(0,l.Lk)("span",ue,(0,l.v_)(e.country),1),(0,l.Lk)("span",de,(0,l.v_)(e.bpRole),1),t[2]||(t[2]=(0,l.Lk)("span",{class:"row-item arrow-icon"},"▶",-1))],8,se))),128))])])):o.searchPerformed&&o.businessPartnerResults&&0===o.businessPartnerResults.length?((0,l.uX)(),(0,l.CE)("div",pe,t[4]||(t[4]=[(0,l.Lk)("p",null,"No business partners found matching your criteria.",-1)]))):((0,l.uX)(),(0,l.CE)("div",fe,t[5]||(t[5]=[(0,l.Lk)("p",null,'Enter query criteria and click "Execute" to see results.',-1)])))]))]),(0,l.Lk)("div",me,[(0,l.Lk)("button",{class:"search-enter-button",onClick:t[1]||(t[1]=(...e)=>s.handleActionButtonClick&&s.handleActionButtonClick(...e))},(0,l.v_)(s.actionButtonText),1)])])}const ye={class:"filter-tabs-container"},ke={class:"filter-tabs-row"},Ae=["onClick"];function be(e,t,a,n,o,s){return(0,l.uX)(),(0,l.CE)("div",ye,[t[0]||(t[0]=(0,l.Lk)("div",{class:"horizontal-line top-line"},null,-1)),(0,l.Lk)("div",ke,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.tabs,(e,t)=>((0,l.uX)(),(0,l.CE)("button",{key:t,class:(0,l.C4)(["tab-button",{active:o.activeTab===e.value}]),onClick:t=>s.selectTab(e.value)},(0,l.v_)(e.label),11,Ae))),128))]),t[1]||(t[1]=(0,l.Lk)("div",{class:"horizontal-line bottom-line"},null,-1))])}var Ve={name:"FilterTabs",props:{tabs:{type:Array,required:!0,default:()=>[{label:"sales and dist",value:"sales_and_dist"},{label:"person",value:"person"},{label:"group",value:"group"},{label:"org",value:"org"},{label:"company code",value:"company_code"},{label:"more",value:"more"}]},initialActiveTab:{type:[String,Number,Object],default:"sales_and_dist"}},data(){return{activeTab:this.initialActiveTab}},watch:{initialActiveTab(e){this.activeTab=e}},methods:{selectTab(e){this.activeTab!==e&&(this.activeTab=e,this.$emit("tab-selected",e),console.log("Tab selected:",e))}},created(){this.$emit("tab-selected",this.activeTab)}};const Le=(0,f.A)(Ve,[["render",be],["__scopeId","data-v-7e8b969f"]]);var Ce=Le,Te=a(7998),we=a(1750),Se=a(2697);const Pe="http://localhost:3000",De=(0,we.fV)("dict","dict","query",null,!1,{hideLabel:!0},[(0,we.fV)("string","leaf","customerId","",!1,{searchMethods:Se.bk},[],"Customer ID")]),Ie=(0,we.fV)("dict","dict","customer",null,!1,{hideLabel:!0},[(0,we.fV)("dict","dict","bpIdAndRoleSection",null,!1,{hideLabel:!0},[(0,we.fV)("string","leaf","customerId",null,!0,{},[],"Business Partner:"),(0,we.fV)("selection","leaf","bpRole","",!1,{options:["Business Partner","Customer","FI Customer"]},[],"Create in BP role:")],""),(0,we.fV)("dict","dict","name",null,!1,{},[(0,we.fV)("selection","leaf","title",null,!1,{options:["Mr.","Mrs.","Ms.","Company"]},[],"Title:"),(0,we.fV)("string","leaf","name",null,!1,{},[],"Name:")],"Name"),(0,we.fV)("dict","dict","searchTerms",null,!1,{},[(0,we.fV)("string","leaf","searchTerm",null,!1,{},[],"Search Term:")],"Search Terms"),(0,we.fV)("dict","dict","address",null,!1,{},[(0,we.fV)("string","leaf","country","",!1,{searchMethods:Se.bk},[]),(0,we.fV)("string","leaf","street",null,!1,{},[],"Street:"),(0,we.fV)("string","leaf","postalCode",null,!1,{},[],"Postal Code:"),(0,we.fV)("string","leaf","city",null,!1,{},[],"City:")],"Address")]);var xe={name:"MaintainBusinessPartnerView",components:{FilterTabs:Ce,VarBox:Te.A},data(){return{activeContentKey:"sales_and_dist",businessPartnerTabs:[{label:"sales and dist",value:"sales_and_dist"},{label:"person",value:"person"},{label:"group",value:"group"},{label:"org",value:"org"}],customerQueryTree:(0,we.$e)(De),customerCreateTree:(0,we.$e)(Ie),customerDetailTree:(0,we.$e)(Ie),businessPartnerResults:[],searchPerformed:!1,showDetailView:!1,selectedBusinessPartnerId:null,customerVarBoxKey:0}},computed:{actionButtonText(){return["person","group","org"].includes(this.activeContentKey)||"sales_and_dist"===this.activeContentKey&&this.showDetailView?"Save":"Execute"}},methods:{handleTabSelected(e){this.activeContentKey=e,this.showDetailView=!1,this.searchPerformed=!1,this.businessPartnerResults=[],this.customerCreateTree.root?.forceSetValue({}),this.customerDetailTree.root?.forceSetValue({}),this.selectedBusinessPartnerId=null,this.customerVarBoxKey++,console.log("Tab selected:",e)},async handleActionButtonClick(){console.log("--- 准备执行操作 ---"),console.log("当前激活内容键 (activeContentKey):",this.activeContentKey),console.log("是否显示详情页 (showDetailView):",this.showDetailView),"sales_and_dist"!==this.activeContentKey||this.showDetailView?["person","group","org"].includes(this.activeContentKey)?await this.createBusinessPartner(this.activeContentKey):"sales_and_dist"===this.activeContentKey&&this.showDetailView&&await this.saveBusinessPartnerDetail():await this.performBusinessPartnerSearch(),console.log("--- 操作流程结束 ---")},async performBusinessPartnerSearch(){console.log("执行业务伙伴查询..."),this.searchPerformed=!0,this.businessPartnerResults=[];const e=this.customerQueryTree.root?.getValue();console.log("提交的查询数据结构:",JSON.stringify(e,null,2));try{const t=await fetch(`${Pe}/api/bp/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();a.success&&Array.isArray(a.data)?(this.businessPartnerResults=a.data,console.log("查询结果:",this.businessPartnerResults)):(console.error("业务伙伴查询失败:",a.message||"API返回数据异常"),this.businessPartnerResults=[])}catch(t){console.error("业务伙伴查询发生错误:",t),this.businessPartnerResults=[],alert("查询业务伙伴失败: "+(t.message||"网络错误"))}},async viewBusinessPartnerDetail(e){console.log(`进入业务伙伴详情页，ID: ${e}`),this.selectedBusinessPartnerId=e,this.showDetailView=!0,this.customerVarBoxKey++,await this.fetchBusinessPartnerDetail(e)},async fetchBusinessPartnerDetail(e){console.log(`获取业务伙伴 ${e} 的详情数据...`);try{const t=await fetch(`${Pe}/api/bp/get/${e}`),a=await t.json();a.success&&a.data?(this.customerDetailTree.root?.forceSetValue(a.data),console.log("业务伙伴详情数据加载成功:",a.data)):(console.error("获取业务伙伴详情失败:",a.message||"API返回数据异常"),this.showDetailView=!1,alert("获取业务伙伴详情失败: "+(a.message||"未知错误")))}catch(t){console.error("获取业务伙伴详情发生错误:",t),this.showDetailView=!1,alert("获取业务伙伴详情失败: "+(t.message||"网络错误"))}},backToSearchResults(){console.log("返回搜索结果列表"),this.showDetailView=!1,this.selectedBusinessPartnerId=null,this.customerDetailTree.root?.forceSetValue({}),this.customerVarBoxKey++},async createBusinessPartner(e){console.log(`执行创建 ${e} 业务伙伴...`);const t=this.customerCreateTree.root?.getValue();t&&(t.bpIdAndRoleSection||(t.bpIdAndRoleSection={}),t.bpIdAndRoleSection.type=e),console.log("提交的创建数据:",JSON.stringify(t,null,2));try{const e=await fetch(`${Pe}/api/bp/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await e.json();a.success?(alert(a.message+" New Customer ID: "+a.data.customerId),this.customerCreateTree.root?.forceSetValue({}),this.customerVarBoxKey++):alert("创建失败: "+(a.message||"未知错误"))}catch(a){console.error("创建业务伙伴失败:",a),alert("创建业务伙伴失败: "+(a.message||"网络错误"))}},async saveBusinessPartnerDetail(){console.log(`执行保存业务伙伴 ${this.selectedBusinessPartnerId} 的详情...`);const e=this.customerDetailTree.root?.getValue();if(this.selectedBusinessPartnerId)if(e&&e.bpIdAndRoleSection){e.bpIdAndRoleSection.customerId=this.selectedBusinessPartnerId,console.log("提交的详情数据进行保存:",JSON.stringify(e,null,2));try{const t=await fetch(`${Pe}/api/bp/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();a.success?(alert(a.message),this.backToSearchResults()):alert("保存失败: "+(a.message||"未知错误"))}catch(t){console.error("保存业务伙伴详情失败:",t),alert("保存业务伙伴详情失败: "+(t.message||"网络错误"))}}else alert("无法保存：数据结构异常。");else alert("无法保存：未选择业务伙伴ID。")}}};const Ee=(0,f.A)(xe,[["render",he],["__scopeId","data-v-646f482c"]]);var Be=Ee;const Re={class:"testcase-demo-root"},Ne={class:"testcase-nav"},Qe=["href"],Me={class:"testcase-list"},Ue=["id"],Fe={class:"result-preview"};function Ke(e,t,a,n,o,s){const i=(0,l.g2)("var-box");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",Re,[(0,l.Lk)("nav",Ne,[t[0]||(t[0]=(0,l.Lk)("div",{class:"testcase-nav-title"},"VarBox TestCase目录",-1)),(0,l.Lk)("ul",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.testcaseNames,e=>((0,l.uX)(),(0,l.CE)("li",{key:e},[(0,l.Lk)("a",{href:"#testcase-"+e},(0,l.v_)(e),9,Qe)]))),128))])]),(0,l.Lk)("div",Me,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.testcaseNames,e=>((0,l.uX)(),(0,l.CE)("div",{key:e,class:"testcase-item",id:"testcase-"+e},[(0,l.Lk)("h3",null,(0,l.v_)(e),1),(0,l.bF)(i,{tree:o.testCases[e].tree,nodePath:[]},null,8,["tree"]),(0,l.Lk)("div",Fe,[t[1]||(t[1]=(0,l.Lk)("strong",null,"当前值：",-1)),(0,l.Lk)("pre",null,(0,l.v_)(JSON.stringify(o.testCases[e].tree.root?.currentValue,null,2)),1)])],8,Ue))),128))])])])}var Oe=a(6177);const Xe={style:{border:"1px dashed #409EFF",padding:"10px"}},We=["value","readonly"],_e={style:{color:"#888","font-size":"12px"}};var Ge=(0,l.pM)({__name:"MyCustomInput",props:{varTree:{},nodePath:{},readonly:{type:Boolean},contentValidator:{type:[Function,null]},config:{},indentLevel:{},showLabel:{type:Boolean},wrapperStyle:{}},emits:["update"],setup(e,{emit:t}){const a=e,n=(0,l.EW)(()=>a.varTree.findNodeByPath(a.nodePath)),o=(0,l.EW)(()=>n.value?.currentValue||"");function s(e){const t=e.target.value;i("update",t)}const i=t;return(e,t)=>((0,l.uX)(),(0,l.CE)("div",Xe,[t[0]||(t[0]=(0,l.Lk)("div",null,"🌟 这是外部钩子自定义组件",-1)),(0,l.Lk)("input",{value:o.value,onInput:s,readonly:e.readonly,style:{width:"200px"}},null,40,We),(0,l.Lk)("div",_e,"当前值："+(0,l.v_)(o.value),1)]))}});const qe=Ge;var Je=qe;const je={"客户":{tree:(0,we.$e)((0,we.fV)("dict","dict","all1",null,!1,{hideLabel:!0},[(0,we.fV)("dict","dict","name",null,!1,{},[(0,we.fV)("string","leaf","title","Default Title",!1,{},[],"Title:"),(0,we.fV)("string","leaf","name",null,!1,{},[],"Name:")],"Name"),(0,we.fV)("dict","dict","searchTerms",null,!1,{},[(0,we.fV)("string","leaf","searchTerm",null,!1,{},[],"Search Term:")],"Search Terms"),(0,we.fV)("dict","dict","address",null,!1,{},[(0,we.fV)("string","leaf","street",null,!1,{},[],"Street:"),(0,we.fV)("string","leaf","postalCode",null,!1,{},[],"Postal Code:"),(0,we.fV)("string","leaf","city",null,!1,{},[],"City:")],"Address"),(0,we.fV)("dynamiclist","list","testList",null,!1,{childTemplate:(0,we.bM)((0,we.fV)("dict","dict","template",null,!1,{},[(0,we.fV)("string","leaf","searchTerm",null,!1,{},[],"Search Term"),(0,we.fV)("string","leaf","city",null,!1,{},[],"City"),(0,we.fV)("string","leaf","postalCode",null,!1,{},[],"Postal Code"),(0,we.fV)("string","leaf","searchTerm1",null,!1,{},[],"Search Term"),(0,we.fV)("string","leaf","city1",null,!1,{},[],"City"),(0,we.fV)("string","leaf","postalCode1",null,!1,{},[],"Postal Code"),(0,we.fV)("string","leaf","searchTerm2",null,!1,{},[],"Search Term"),(0,we.fV)("string","leaf","city2",null,!1,{},[],"City"),(0,we.fV)("string","leaf","postalCode2",null,!1,{},[],"Postal Code"),(0,we.fV)("string","leaf","searchTerm3",null,!1,{},[],"Search Term"),(0,we.fV)("string","leaf","city3",null,!1,{},[],"City"),(0,we.fV)("string","leaf","postalCode3",null,!1,{},[],"Postal Code")]))},[],"表格渲染组件")]))},"客户2":{tree:(0,we.$e)((0,we.fV)("dict","dict","all",null,!1,{},[(0,we.fV)("dict","dict","name",null,!1,{},[(0,we.fV)("string","leaf","title",null,!1,{},[],"Title:"),(0,we.fV)("string","leaf","name",null,!1,{},[],"Name:"),(0,we.fV)("date","leaf","birthday",null,!1,{},[],"Birthday:")],"Name"),(0,we.fV)("dict","dict","searchTerms",null,!1,{},[(0,we.fV)("string","leaf","searchTerm",null,!1,{},[],"Search Term:")],"Search Terms"),(0,we.fV)("dict","dict","address",null,!1,{},[(0,we.fV)("string","leaf","street",null,!1,{},[],"Street:"),(0,we.fV)("string","leaf","postalCode",null,!1,{},[],"Postal Code:"),(0,we.fV)("string","leaf","city",null,!1,{},[],"City:")],"Address")]))},"cns-嵌套字典":{tree:(0,we.$e)({...(0,we.fV)("dict","dict","cnsDict",null,!1,{},[{...(0,we.fV)("number","leaf","age",3.14,!1),nameDisplay:"年龄"},(0,we.fV)("string","leaf","desc","111",!1)])})},"客户查询":{tree:(0,we.$e)((0,we.fV)("string","leaf","customer_id",null,!1,{validators:[{creteria:e=>"string"===typeof e&&/^\d{6}$/.test(e),message:"客户ID必须是六位数字"}]}))},"带默认值的列表":{tree:(0,we.$e)((0,we.fV)("dynamiclist","list","searchResults",[],!0,{},[(0,we.fV)("dict","dict","result1",{},!1,{},[(0,we.fV)("string","leaf","id","001",!0),(0,we.fV)("string","leaf","name","示例结果1",!0),(0,we.fV)("string","leaf","description","这是一个搜索结果示例",!0)]),(0,we.fV)("dict","dict","result2",{},!1,{},[(0,we.fV)("string","leaf","id","002",!0),(0,we.fV)("string","leaf","name","示例结果2",!0),(0,we.fV)("string","leaf","description","这是另一个搜索结果示例",!0)])],"搜索结果"))}};var Ye={name:"NewTestPage",components:{VarInput:Oe.A,VarBox:Te.A,MyCustomInput:Je},data(){return{validators:we.fO,testcaseNames:Object.keys(je),testCases:je,testResults:{simpleString:"",simpleNumber:0,simpleDate:"",simpleSelection:"",threeLevelDict:{},threeLevelList:[],mixed:{},readonly:{},dynamicList:[],tableTest:[],configBased:{},searchInput:"",numberInput:0,fileInput:""},configObject:{varType:"dict",name:"employee",children:[{varType:"dict",name:"basicInfo",children:[{varType:"string",name:"name",defaultValue:"张三"},{varType:"number",name:"age",defaultValue:28},{varType:"selection",name:"gender",defaultValue:"男",config:{options:["男","女","其他"]}},{varType:"date",name:"birthDate",defaultValue:"1995-01-01"}]},{varType:"dict",name:"workInfo",children:[{varType:"string",name:"department",defaultValue:"技术部"},{varType:"string",name:"position",defaultValue:"软件工程师"},{varType:"number",name:"salary",defaultValue:8e3},{varType:"fixlist",name:"skills",children:[{varType:"string",defaultValue:"JavaScript"},{varType:"string",defaultValue:"Vue.js",readonly:!0},{varType:"string",defaultValue:"Python"},{varType:"number",defaultValue:123}]}]},{varType:"dynamiclist",name:"projects",children:[{varType:"dict",name:"lan",children:[{varType:"string",name:"projectName",defaultValue:"项目A"},{varType:"string",name:"role",defaultValue:"开发",config:{customComponent:(0,l.IG)(Je)}},{varType:"date",name:"startDate",defaultValue:"2023-01-01"},{varType:"date",name:"endDate",defaultValue:"2023-12-31"}]},{varType:"dict",name:"lan",children:[{varType:"string",name:"projectName",defaultValue:"项目B"},{varType:"string",name:"role",defaultValue:"测试"},{varType:"date",name:"startDate",defaultValue:"2024-01-01"},{varType:"date",name:"endDate",defaultValue:"2024-12-31"}]}],config:{childTemplate:{varType:"dict",children:[{varType:"string",name:"projectName",defaultValue:""},{varType:"string",name:"role",defaultValue:""},{varType:"date",name:"startDate",defaultValue:""},{varType:"date",name:"endDate",defaultValue:""}]}}}]}}},computed:{simpleStringTree(){const e={varType:"string",name:"用户名",defaultValue:"",nameDisplay:"用户名:",config:{validators:[{creteria:e=>{const t="123"===e;return t},message:"值不是123"}]}};return(0,we.$e)(e)},simpleNumberTree(){const e={varType:"number",name:"年龄",defaultValue:0};return(0,we.$e)(e)},simpleDateTree(){const e={varType:"date",name:"birthday",defaultValue:""};return(0,we.$e)(e)},simpleSelectionTree(){const e={varType:"selection",name:"级别",defaultValue:"选项1"};return(0,we.$e)(e)},threeLevelDictTree(){const e={varType:"dict",name:"user",children:[{varType:"string",name:"id",defaultValue:"user_001"},{varType:"dict",name:"personal",children:[{varType:"string",name:"name",defaultValue:"张三"},{varType:"number",name:"age",defaultValue:25},{varType:"dict",name:"address",children:[{varType:"string",name:"province",defaultValue:"广东省"},{varType:"string",name:"city",defaultValue:"深圳市"},{varType:"string",name:"district",defaultValue:"南山区"}]}]},{varType:"string",name:"email",defaultValue:"test@example.com"}]};return(0,we.$e)(e)},threeLevelListTree(){const e={varType:"fixlist",name:"matrix",children:[{varType:"fixlist",children:[{varType:"fixlist",children:[{varType:"string",defaultValue:"item1"},{varType:"string",defaultValue:"item2"}]},{varType:"fixlist",children:[{varType:"string",defaultValue:"item3"},{varType:"string",defaultValue:"item4"}]}]}]};return(0,we.$e)(e)},mixedTree(){const e={varType:"dict",name:"student",children:[{varType:"string",name:"name",defaultValue:"李四"},{varType:"string",name:"class",defaultValue:"三年级一班"},{varType:"date",name:"birthday",defaultValue:"2004/03/14"},{varType:"dynamiclist",name:"scores",children:[{varType:"dict",name:"math",children:[{varType:"string",name:"subject",defaultValue:"数学"},{varType:"number",name:"score",defaultValue:95}]},{varType:"dict",name:"english",children:[{varType:"string",name:"subject",defaultValue:"英语"},{varType:"number",name:"score",defaultValue:88}]}]}]};return(0,we.$e)(e)},readonlyTree(){const e={varType:"dict",name:"readonly_data",readonly:!0,children:[{varType:"string",name:"系统版本",defaultValue:"v1.0.0",readonly:!0},{varType:"string",name:"创建时间",defaultValue:"2024-01-01",readonly:!0},{varType:"number",name:"用户数量",defaultValue:1e3,readonly:!0}]};return(0,we.$e)(e)},dynamicListTree(){const e={varType:"dynamiclist",nodeType:"list",name:"students",children:[{varType:"dict",children:[{varType:"string",name:"name",defaultValue:"学生姓名"},{varType:"number",name:"score",defaultValue:100}]}],config:{childTemplate:{varType:"dict",children:[{varType:"string",name:"name"},{varType:"number",name:"score"}]},maxLength:10}};return(0,we.$e)(e)},tableTestTree(){const e={varType:"fixlist",name:"student_table",children:[{varType:"dict",children:[{varType:"string",name:"name",defaultValue:"张三"},{varType:"number",name:"age",defaultValue:20},{varType:"string",name:"major",defaultValue:"计算机科学"}]},{varType:"dict",children:[{varType:"string",name:"name",defaultValue:"李四"},{varType:"number",name:"age",defaultValue:21},{varType:"string",name:"major",defaultValue:"软件工程"}]},{varType:"dict",children:[{varType:"string",name:"name",defaultValue:"王五"},{varType:"number",name:"age",defaultValue:19},{varType:"string",name:"major",defaultValue:"数据科学"}]}]};return(0,we.$e)(e)},configBasedTree(){return(0,we.$e)(this.configObject)}},mounted(){this.initializeComplexData()},methods:{initializeComplexData(){const e=["threeLevelDict","threeLevelList","mixed","readonly","dynamicList","tableTest","configBased"];e.forEach(e=>{const t=this.getTreeByKey(e);t&&t.root&&(this.testResults[e]=t.root.currentValue)})},handleUpdate(e,t){const a=this.getTreeByKey(e);a&&a.root&&(a.root.isLeaf()?this.testResults[e]=t.value:this.testResults[e]=a.root.currentValue)},getTreeByKey(e){const t={simpleString:this.simpleStringTree,simpleNumber:this.simpleNumberTree,simpleDate:this.simpleDateTree,simpleSelection:this.simpleSelectionTree,threeLevelDict:this.threeLevelDictTree,threeLevelList:this.threeLevelListTree,mixed:this.mixedTree,readonly:this.readonlyTree,dynamicList:this.dynamicListTree,tableTest:this.tableTestTree,configBased:this.configBasedTree,searchInput:this.simpleStringTree,numberInput:this.simpleNumberTree};return t[e]},handleSearch(e){alert(`搜索内容: ${e.currentNode?.currentValue||"空"}`)},handleClear(e){e.currentNode&&e.setNodeValue("")},increment(e){if(e.currentNode){const t=e.getNodeValue(),a=Number(t)+1;e.setNodeValue(a)}},decrement(e){if(e.currentNode){const t=e.getNodeValue(),a=Number(t)-1;e.setNodeValue(a)}}}};const $e=(0,f.A)(Ye,[["render",Ke],["__scopeId","data-v-124cd054"]]);var ze=$e;const He={class:"search-test-page"},Ze={class:"test-section"},et={class:"test-item"},tt={class:"test-item"},at={class:"test-item"},nt={class:"test-item"},lt={class:"custom-handler-log"};var ot=(0,l.pM)({__name:"SearchModalTest",setup(e){const t=(0,l.KR)(0),a=()=>{t.value++},n=(0,l.KR)([]),o=(e,t)=>{const a=(new Date).toLocaleTimeString();n.value.push(`[${a}] 搜索方法: ${e.method.name}`),n.value.push(`[${a}] 参数: ${JSON.stringify(e.params)}`),n.value.push(`[${a}] 选中结果数量: ${e.selectedResults.length}`),e.firstSelectedResult&&(n.value.push(`[${a}] 第一个选中结果: ${JSON.stringify(e.firstSelectedResult)}`),e.firstSelectedResult.name&&(t.currentValue=`自定义处理: ${e.firstSelectedResult.name}`,n.value.push(`[${a}] 设置节点值为: ${t.currentValue}`))),n.value.length>10&&(n.value=n.value.slice(-10))},s=()=>[{name:"简单搜索",paramTree:null,serviceUrl:"/api/search/mock/simple"},{name:"高级搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","searchParams",{},!1,{},[(0,we.fV)("string","leaf","keyword","",!1,{},[],"关键词"),(0,we.fV)("string","leaf","category","",!1,{},[],"分类"),(0,we.fV)("date","leaf","startDate",null,!1,{},[],"开始日期"),(0,we.fV)("date","leaf","endDate",null,!1,{},[],"结束日期"),(0,we.fV)("boolean","leaf","strict",!1,!1,{},[],"完全匹配")],"搜索参数")),serviceUrl:"/api/search/mock/advanced"},{name:"业务伙伴搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","bpSearchParams",{},!1,{},[(0,we.fV)("string","leaf","bpId","",!1,{},[],"业务伙伴ID"),(0,we.fV)("string","leaf","companyName","",!1,{},[],"公司名称"),(0,we.fV)("selection","leaf","bpType","",!1,{options:["客户","供应商","合作伙伴"]},[],"业务伙伴类型")],"业务伙伴搜索参数")),serviceUrl:"/api/search/mock/business-partner"},{name:"产品搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","productSearchParams",{},!1,{},[(0,we.fV)("string","leaf","productCode","",!1,{},[],"产品编码"),(0,we.fV)("string","leaf","productName","",!1,{},[],"产品名称"),(0,we.fV)("number","leaf","minPrice",null,!1,{},[],"最低价格"),(0,we.fV)("number","leaf","maxPrice",null,!1,{},[],"最高价格")],"产品搜索参数")),serviceUrl:"/api/search/mock/product"}],i=()=>[{name:"快速搜索",paramTree:null,serviceUrl:"/api/search/mock/simple"},{name:"精确搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","exactParams",{},!1,{},[(0,we.fV)("string","leaf","id","",!1,{},[],"ID"),(0,we.fV)("string","leaf","code","",!1,{},[],"编码")],"精确搜索参数")),serviceUrl:"/api/search/mock/business-partner"},{name:"模糊搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","fuzzyParams",{},!1,{},[(0,we.fV)("string","leaf","text","",!1,{},[],"搜索文本"),(0,we.fV)("number","leaf","similarity",.8,!1,{},[],"相似度阈值")],"模糊搜索参数")),serviceUrl:"/api/search/mock/product"},{name:"业务伙伴高级搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","bpAdvancedParams",{},!1,{},[(0,we.fV)("string","leaf","bpId","",!1,{},[],"业务伙伴ID"),(0,we.fV)("string","leaf","companyName","",!1,{},[],"公司名称"),(0,we.fV)("selection","leaf","bpType","",!1,{options:["客户","供应商","合作伙伴"]},[],"业务伙伴类型"),(0,we.fV)("string","leaf","contactPerson","",!1,{},[],"联系人"),(0,we.fV)("selection","leaf","status","",!1,{options:["活跃","暂停","停用"]},[],"状态")],"业务伙伴高级搜索参数")),serviceUrl:"/api/search/mock/business-partner"},{name:"产品高级搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","productAdvancedParams",{},!1,{},[(0,we.fV)("string","leaf","productCode","",!1,{},[],"产品编码"),(0,we.fV)("string","leaf","productName","",!1,{},[],"产品名称"),(0,we.fV)("selection","leaf","category","",!1,{options:["电子产品","可穿戴设备","音频设备","办公设备"]},[],"产品分类"),(0,we.fV)("number","leaf","minPrice",null,!1,{},[],"最低价格"),(0,we.fV)("number","leaf","maxPrice",null,!1,{},[],"最高价格"),(0,we.fV)("number","leaf","minStock",null,!1,{},[],"最低库存"),(0,we.fV)("selection","leaf","status","",!1,{options:["在售","缺货","停产"]},[],"产品状态")],"产品高级搜索参数")),serviceUrl:"/api/search/mock/product"}],r=(0,we.$e)((0,we.fV)("dict","dict","testData",{},!1,{},[(0,we.fV)("string","leaf","searchField","",!1,{searchMethods:s()},[],"带搜索的字段")],"测试数据")),c=(0,we.$e)((0,we.fV)("dict","dict","testData",{},!1,{},[(0,we.fV)("string","leaf","normalField","",!1,{},[],"普通字段")],"测试数据")),u=(0,we.$e)((0,we.fV)("dict","dict","testData",{},!1,{},[(0,we.fV)("string","leaf","multiSearchField","",!1,{searchMethods:i()},[],"多搜索方式字段")],"测试数据")),d=(0,we.$e)((0,we.fV)("dict","dict","testData",{},!1,{},[(0,we.fV)("string","leaf","customHandlerField","",!1,{searchMethods:s(),customSearchResultHandler:o},[],"自定义处理字段")],"测试数据"));function p(e){console.log("VarBox更新:",e),a()}return(e,a)=>((0,l.uX)(),(0,l.CE)("div",He,[a[10]||(a[10]=(0,l.Lk)("h1",null,"SearchModal 测试页面",-1)),(0,l.Lk)("div",Ze,[a[9]||(a[9]=(0,l.Lk)("h2",null,"测试搜索功能",-1)),(0,l.Lk)("div",et,[a[1]||(a[1]=(0,l.Lk)("h3",null,"1. 带搜索功能的输入框",-1)),(0,l.bF)(Te.A,{tree:(0,l.R1)(r),onUpdate:p},null,8,["tree"]),((0,l.uX)(),(0,l.CE)("div",{class:"result-preview",key:t.value},[a[0]||(a[0]=(0,l.Lk)("strong",null,"当前值：",-1)),(0,l.eW)((0,l.v_)(JSON.stringify((0,l.R1)(r).root?.currentValue)),1)]))]),(0,l.Lk)("div",tt,[a[3]||(a[3]=(0,l.Lk)("h3",null,"2. 不带搜索功能的输入框（无searchMethods配置）",-1)),(0,l.bF)(Te.A,{tree:(0,l.R1)(c),onUpdate:p},null,8,["tree"]),((0,l.uX)(),(0,l.CE)("div",{class:"result-preview",key:t.value},[a[2]||(a[2]=(0,l.Lk)("strong",null,"当前值：",-1)),(0,l.eW)((0,l.v_)(JSON.stringify((0,l.R1)(c).root?.currentValue)),1)]))]),(0,l.Lk)("div",at,[a[5]||(a[5]=(0,l.Lk)("h3",null,"3. 多种搜索方式的输入框",-1)),(0,l.bF)(Te.A,{tree:(0,l.R1)(u),onUpdate:p},null,8,["tree"]),((0,l.uX)(),(0,l.CE)("div",{class:"result-preview",key:t.value},[a[4]||(a[4]=(0,l.Lk)("strong",null,"当前值：",-1)),(0,l.eW)((0,l.v_)(JSON.stringify((0,l.R1)(u).root?.currentValue)),1)]))]),(0,l.Lk)("div",nt,[a[8]||(a[8]=(0,l.Lk)("h3",null,"4. 自定义搜索结果处理的输入框",-1)),(0,l.bF)(Te.A,{tree:(0,l.R1)(d),onUpdate:p},null,8,["tree"]),((0,l.uX)(),(0,l.CE)("div",{class:"result-preview",key:t.value},[a[6]||(a[6]=(0,l.Lk)("strong",null,"当前值：",-1)),(0,l.eW)((0,l.v_)(JSON.stringify((0,l.R1)(d).root?.currentValue)),1)])),(0,l.Lk)("div",lt,[a[7]||(a[7]=(0,l.Lk)("strong",null,"自定义处理日志：",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.value,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"log-item"},(0,l.v_)(e),1))),128))])])])]))}});const st=(0,f.A)(ot,[["__scopeId","data-v-7009c770"]]);var it=st;const rt={class:"page-content"},ct={class:"test-section"},ut={class:"test-container"},dt={class:"stage-content"},pt={class:"form-group"},ft={class:"form-group"},vt={class:"status-info"},gt={class:"stage-content"},mt={class:"processing-display"},ht={class:"progress-bar"},yt={class:"processing-details"},kt={class:"stage-content"},At={class:"result-display"},bt={class:"result-summary"},Vt={class:"result-data"},Lt={class:"result-actions"},Ct={class:"footer-info"},Tt={class:"stage-indicator"},wt={class:"stage-dots"},St={class:"control-panel"},Pt={class:"control-buttons"},Dt={class:"status-panel"},It={class:"status-grid"},xt={class:"status-item"},Et={class:"status-item"},Bt={class:"status-item"},Rt={class:"status-item"},Nt={class:"hook-controls"},Qt={class:"event-log"},Mt={class:"log-container"},Ut={class:"log-time"},Ft={class:"log-message"};function Kt(e,t,a,n,o,s){const i=(0,l.g2)("AppContent");return(0,l.uX)(),(0,l.CE)("div",rt,[t[28]||(t[28]=(0,l.Lk)("h1",null,"AppContent组件测试",-1)),(0,l.Lk)("div",ct,[t[19]||(t[19]=(0,l.Lk)("h2",null,"基本Stage管理功能测试",-1)),(0,l.Lk)("div",ut,[(0,l.bF)(i,{ref:"appContentRef",stages:["参数输入","数据处理","结果确认"],"footer-config":[{nextText:"开始处理"},{},{prevText:"返回修改",showNext:!1}],"before-next":s.beforeNextHook,"before-prev":s.beforePrevHook,onStageChange:s.onStageChange,onNext:s.onNext,onPrev:s.onPrev},{"stage-参数输入":(0,l.k6)(({currentStage:e,stageName:a,isFirstStage:n,isLastStage:s})=>[(0,l.Lk)("div",dt,[(0,l.Lk)("h3",null,(0,l.v_)(a)+" (Stage "+(0,l.v_)(e+1)+")",1),t[13]||(t[13]=(0,l.Lk)("p",null,"这里是参数输入界面",-1)),(0,l.Lk)("div",pt,[t[10]||(t[10]=(0,l.Lk)("label",null,"测试参数:",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.testInput=e),placeholder:"请输入测试参数",class:"form-input"},null,512),[[l.Jo,o.testInput]])]),(0,l.Lk)("div",ft,[t[12]||(t[12]=(0,l.Lk)("label",null,"处理类型:",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>o.processType=e),class:"form-select"},t[11]||(t[11]=[(0,l.Lk)("option",{value:"fast"},"快速处理",-1),(0,l.Lk)("option",{value:"normal"},"标准处理",-1),(0,l.Lk)("option",{value:"detailed"},"详细处理",-1)]),512),[[l.u1,o.processType]])]),(0,l.Lk)("div",vt,[(0,l.Lk)("p",null,"当前输入: "+(0,l.v_)(o.testInput),1),(0,l.Lk)("p",null,"处理类型: "+(0,l.v_)(o.processType),1),(0,l.Lk)("p",null,"是否第一步: "+(0,l.v_)(n),1),(0,l.Lk)("p",null,"是否最后一步: "+(0,l.v_)(s),1)])])]),"stage-数据处理":(0,l.k6)(({currentStage:e,stageName:a})=>[(0,l.Lk)("div",gt,[(0,l.Lk)("h3",null,(0,l.v_)(a)+" (Stage "+(0,l.v_)(e+1)+")",1),t[14]||(t[14]=(0,l.Lk)("p",null,"正在处理数据...",-1)),(0,l.Lk)("div",mt,[(0,l.Lk)("div",ht,[(0,l.Lk)("div",{class:"progress-fill",style:(0,l.Tr)({width:o.processingProgress+"%"})},null,4)]),(0,l.Lk)("p",null,"处理进度: "+(0,l.v_)(o.processingProgress)+"%",1),(0,l.Lk)("div",yt,[(0,l.Lk)("p",null,"输入参数: "+(0,l.v_)(o.testInput),1),(0,l.Lk)("p",null,"处理类型: "+(0,l.v_)(o.processType),1),(0,l.Lk)("p",null,"处理状态: "+(0,l.v_)(o.processingStatus),1),(0,l.Lk)("p",null,"预计完成时间: "+(0,l.v_)(o.estimatedTime)+"秒",1)])])])]),"stage-结果确认":(0,l.k6)(({currentStage:e,stageName:a})=>[(0,l.Lk)("div",kt,[(0,l.Lk)("h3",null,(0,l.v_)(a)+" (Stage "+(0,l.v_)(e+1)+")",1),t[18]||(t[18]=(0,l.Lk)("p",null,"处理完成，请确认结果",-1)),(0,l.Lk)("div",At,[(0,l.Lk)("div",bt,[t[15]||(t[15]=(0,l.Lk)("h4",null,"处理摘要",-1)),(0,l.Lk)("p",null,"输入参数: "+(0,l.v_)(o.testInput),1),(0,l.Lk)("p",null,"处理类型: "+(0,l.v_)(o.processType),1),(0,l.Lk)("p",null,"处理时长: "+(0,l.v_)(o.actualProcessTime)+"秒",1)]),(0,l.Lk)("div",Vt,[t[16]||(t[16]=(0,l.Lk)("h4",null,"处理结果",-1)),(0,l.Lk)("pre",null,(0,l.v_)(JSON.stringify(o.processResult,null,2)),1)]),(0,l.Lk)("div",Lt,[(0,l.Lk)("label",null,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>o.resultConfirmed=e)},null,512),[[l.lH,o.resultConfirmed]]),t[17]||(t[17]=(0,l.eW)(" 我确认以上结果无误 "))])])])])]),"footer-content-left":(0,l.k6)(({currentStage:e,totalStages:t})=>[(0,l.Lk)("div",Ct,[(0,l.Lk)("span",Tt," 步骤 "+(0,l.v_)(e+1)+" / "+(0,l.v_)(t),1),(0,l.Lk)("span",wt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.stages,(t,a)=>((0,l.uX)(),(0,l.CE)("span",{key:a,class:(0,l.C4)(["stage-dot",{active:a===e,completed:a<e}])},null,2))),128))])])]),_:1},8,["before-next","before-prev","onStageChange","onNext","onPrev"])])]),(0,l.Lk)("div",St,[t[26]||(t[26]=(0,l.Lk)("h3",null,"控制面板",-1)),(0,l.Lk)("div",Pt,[(0,l.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>s.resetToFirst&&s.resetToFirst(...e)),class:"control-btn"},"重置到第一步"),(0,l.Lk)("button",{onClick:t[4]||(t[4]=e=>s.goToStage(1)),class:"control-btn"},"跳转到第二步"),(0,l.Lk)("button",{onClick:t[5]||(t[5]=e=>s.goToStage(2)),class:"control-btn"},"跳转到第三步"),(0,l.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>s.toggleNavButtons&&s.toggleNavButtons(...e)),class:"control-btn"},(0,l.v_)(o.showNavButtons?"隐藏":"显示")+"导航按钮 ",1),(0,l.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>s.simulateProcessing&&s.simulateProcessing(...e)),class:"control-btn"},"模拟处理")]),(0,l.Lk)("div",Dt,[t[25]||(t[25]=(0,l.Lk)("h4",null,"组件状态",-1)),(0,l.Lk)("div",It,[(0,l.Lk)("div",xt,[t[20]||(t[20]=(0,l.Lk)("label",null,"当前Stage:",-1)),(0,l.Lk)("span",null,(0,l.v_)(o.currentAppStage),1)]),(0,l.Lk)("div",Et,[t[21]||(t[21]=(0,l.Lk)("label",null,"导航按钮:",-1)),(0,l.Lk)("span",null,(0,l.v_)(o.showNavButtons?"显示":"隐藏"),1)]),(0,l.Lk)("div",Bt,[t[22]||(t[22]=(0,l.Lk)("label",null,"最后操作:",-1)),(0,l.Lk)("span",null,(0,l.v_)(o.lastAction),1)]),(0,l.Lk)("div",Rt,[t[23]||(t[23]=(0,l.Lk)("label",null,"钩子验证:",-1)),(0,l.Lk)("span",null,(0,l.v_)(o.hookValidation?"启用":"禁用"),1)])]),(0,l.Lk)("div",Nt,[(0,l.Lk)("label",null,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=e=>o.hookValidation=e)},null,512),[[l.lH,o.hookValidation]]),t[24]||(t[24]=(0,l.eW)(" 启用钩子验证（需要确认才能切换） "))])])])]),(0,l.Lk)("div",Qt,[t[27]||(t[27]=(0,l.Lk)("h3",null,"事件日志",-1)),(0,l.Lk)("div",Mt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.eventLogs,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,l.C4)(["log-entry",e.type])},[(0,l.Lk)("span",Ut,(0,l.v_)(e.time),1),(0,l.Lk)("span",Ft,(0,l.v_)(e.message),1)],2))),128))]),(0,l.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>s.clearLogs&&s.clearLogs(...e)),class:"clear-logs-btn"},"清空日志")])])}var Ot=a(5691),Xt={name:"AppContentTest",components:{AppContent:Ot.A},data(){return{testInput:"",processType:"normal",resultConfirmed:!1,processingProgress:0,processingStatus:"等待开始",estimatedTime:0,actualProcessTime:0,processResult:null,currentAppStage:0,showNavButtons:!0,lastAction:"无",hookValidation:!1,eventLogs:[],stages:["参数输入","数据处理","结果确认"]}},methods:{async beforeNextHook(e,t){if(this.addLog("info",`执行beforeNext钩子: ${e} -> ${t}`),!this.hookValidation)return!0;if(0===e){if(!this.testInput.trim())return this.addLog("error","参数输入验证失败: 请输入测试参数"),alert("请输入测试参数"),!1}else if(1===e&&this.processingProgress<100)return this.addLog("error","数据处理验证失败: 处理未完成"),alert("请等待数据处理完成"),!1;return confirm(`确认从 "${this.stages[e]}" 进入下一步 "${this.stages[t]}" 吗？`)},async beforePrevHook(e,t){return this.addLog("info",`执行beforePrev钩子: ${e} -> ${t}`),!this.hookValidation||confirm(`确认从 "${this.stages[e]}" 返回到 "${this.stages[t]}" 吗？`)},onStageChange(e,t){this.currentAppStage=e,this.addLog("success",`Stage切换: ${t} -> ${e} (${this.stages[e]})`),1===e&&this.startProcessing()},onNext(e){this.lastAction=`下一步 (从Stage ${e})`,this.addLog("info",`点击下一步: Stage ${e}`)},onPrev(e){this.lastAction=`上一步 (从Stage ${e})`,this.addLog("info",`点击上一步: Stage ${e}`)},resetToFirst(){this.$refs.appContentRef.goToStage(0),this.resetProcessingState(),this.addLog("info","重置到第一步")},goToStage(e){this.$refs.appContentRef.goToStage(e),this.addLog("info",`手动跳转到Stage ${e}`)},toggleNavButtons(){this.showNavButtons=!this.showNavButtons,this.addLog("info","导航按钮"+(this.showNavButtons?"显示":"隐藏"))},async startProcessing(){this.processingProgress=0,this.processingStatus="正在处理...",this.estimatedTime=this.getEstimatedTime();const e=Date.now(),t=setInterval(()=>{this.processingProgress+=10*Math.random(),this.processingProgress>=100&&(this.processingProgress=100,this.processingStatus="处理完成",this.actualProcessTime=Math.round((Date.now()-e)/1e3),this.processResult=this.generateResult(),clearInterval(t),this.addLog("success","数据处理完成"))},200)},simulateProcessing(){1===this.currentAppStage?this.startProcessing():this.addLog("warning","请先切换到数据处理阶段")},resetProcessingState(){this.processingProgress=0,this.processingStatus="等待开始",this.estimatedTime=0,this.actualProcessTime=0,this.processResult=null,this.resultConfirmed=!1},getEstimatedTime(){const e={fast:3,normal:5,detailed:8};return e[this.processType]||5},generateResult(){return{input:this.testInput,type:this.processType,processedAt:(new Date).toISOString(),result:`处理结果: ${this.testInput.toUpperCase()}`,metadata:{processingTime:this.actualProcessTime,algorithm:this.processType,success:!0}}},addLog(e,t){this.eventLogs.unshift({type:e,message:t,time:(new Date).toLocaleTimeString()}),this.eventLogs.length>50&&(this.eventLogs=this.eventLogs.slice(0,50))},clearLogs(){this.eventLogs=[],this.addLog("info","日志已清空")}},mounted(){this.addLog("info","AppContent测试组件已加载"),this.$emit("update-title","AppContent组件测试")}};const Wt=(0,f.A)(Xt,[["render",Kt],["__scopeId","data-v-4e456819"]]);var _t=Wt,Gt=(0,l.pM)({__name:"Main",setup(e,{expose:t}){const a=window.API_BASE_URL||"",n=(0,l.KR)(null),o=(0,l.KR)("create"),s=(0,l.EW)(()=>"create"===o.value),i=(0,l.EW)(()=>"change"===o.value),r=(0,l.EW)(()=>"display"===o.value);function c(e){o.value=e;let t="display"===e;v.forEach(e=>{e.root.readonly=t}),n.value.forceUpdate()}const u=(0,we.$e)((0,we.fV)("dict","dict","initialScreen",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","relation",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","relationShipCategory","",!1,{searchMethods:Se.oX},[],"Relationship Category:")]),(0,we.fV)("dict","dict","default",{},!1,{},[(0,we.fV)("string","leaf","businessPartner1","",!1,{searchMethods:Se.bk},[],"Business Partner 1:"),(0,we.fV)("string","leaf","businessPartner2","",!1,{searchMethods:Se.bk},[],"Business Partner 2:"),(0,we.fV)("date","leaf","validFrom","",!1,{},[],"Valid From:"),(0,we.fV)("date","leaf","validTo","",!1,{},[],"Valid To:")],"Default")])),d=(0,we.$e)((0,we.fV)("dict","dict","initialScreen",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","relationshipId","",!1,{},[],"Relationship ID:")])),p=(0,we.$e)((0,we.fV)("dict","dict","bpRelationshipData",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","meta",{},!1,{hideSelf:!0},[(0,we.fV)("string","leaf","id","",!1,{},[])]),(0,we.fV)("dict","dict","basicInfo",{},!1,{},[(0,we.fV)("dict","dict","relation",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","relationShipCategory","",!1,{searchMethods:Se.oX},[],"Relationship Category:")]),(0,we.fV)("dict","dict","default",{},!1,{},[(0,we.fV)("string","leaf","businessPartner1","",!1,{searchMethods:Se.bk},[],"Business Partner 1:"),(0,we.fV)("string","leaf","businessPartner2","",!1,{searchMethods:Se.bk},[],"Business Partner 2:"),(0,we.fV)("date","leaf","validFrom","",!1,{},[],"Valid From:"),(0,we.fV)("date","leaf","validTo","",!1,{},[],"Valid To:")],"Default")],"Basic Information")])),f=(0,we.$e)((0,we.fV)("dict","dict","generalData",{},!1,{},[(0,we.fV)("string","leaf","vip","",!1,{},[],"(Default) VIP: "),(0,we.fV)("string","leaf","department","",!1,{},[],"(Default) Department: "),(0,we.fV)("string","leaf","function","",!1,{},[],"(Default) Function: ")],"(Default) General Data")),v=[p,f],g=(0,l.KR)(!1);async function m(){const e=await fetch(`${a}/api/app/bp-relationship/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("申请失败:",e),{success:!1}));if(console.log("返回的数据",e),!e.success)return!1;const t=u.getValue();p.findNodeByPath(["basicInfo"])?.forceSetValue(t);const n=e.data.formStruct;return(0,we.sm)(n)&&(f.setRoot((0,we.bM)(n)),f.root.readonly=r.value),!0}async function h(){const e=await fetch(`${a}/api/app/bp-relationship/get`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("申请失败:",e),{success:!1}));if(console.log("返回的数据",e),!e.success)return!1;const t=e.data.content.basicInfo;p.forceSetValue(t);const l=e.data.formStruct;return(0,we.sm)(l)&&(f.setRoot((0,we.bM)(l)),f.root.readonly=r.value),e.data.content.generalData&&(console.log("generalData",e.data.content.generalData),console.log("cur",f.getValue()),f.forceSetValue(e.data.content.generalData)),n.value.forceUpdate(),!0}const y=(0,l.EW)(()=>s.value?"Initialize":"Load"),k=(0,l.EW)(()=>(s.value,"Back")),A=(0,l.EW)(()=>r.value?"Edit":s.value?"Create":"Save");async function b(e,t){if(1===e){if(s.value){const e=confirm("Cancel the creation?");return e&&(n.value.footerMessage=""),e}if(i.value){const e=confirm("Cancel the changes?");return e&&(n.value.footerMessage="",c("display")),e}}return!0}async function V(e,t){if(console.log("try: stage change:",e,"->",t),0===e)return s.value?g.value=await m():g.value=await h(),g.value;if(1===e){if(r.value)return console.log("切换到修改状态"),c("change"),!1;if(s.value||i.value){console.log(p.getValue());const e={bpRelationshipData:p.getValue(),generalData:f.getValue()},t=await fetch(`${a}/api/app/bp-relationship/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("创建/修改BP关系失败:",e),{success:!1}));console.log("返回的数据",t),t.success&&(n.value.footerMessage=t.data.message,t.data.content?.id&&p.findNodeByPath(["meta","id"])?.setValue(t.data.content.id),console.log(p.getValue()),c("display"))}return!1}return!1}return t({appToState:c}),(e,t)=>((0,l.uX)(),(0,l.Wv)(Ot.A,{stages:["initialScreen","information"],"before-next":V,"before-prev":b,"footer-config":[{nextText:y.value},{prevText:k.value,nextText:A.value}],ref_key:"appContentRef",ref:n},{["stage-initialScreen"]:(0,l.k6)(()=>[s.value?((0,l.uX)(),(0,l.Wv)(Te.A,{key:0,tree:(0,l.R1)(u)},null,8,["tree"])):(0,l.Q3)("",!0),r.value||i.value?((0,l.uX)(),(0,l.Wv)(Te.A,{key:1,tree:(0,l.R1)(d)},null,8,["tree"])):(0,l.Q3)("",!0)]),["stage-information"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:(0,l.R1)(p)},null,8,["tree"]),(0,l.bF)(Te.A,{tree:(0,l.R1)(f)},null,8,["tree"])]),["footer-content-right"]:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(n.value?.getCurrentStageName()),1)]),_:2},1032,["footer-config"]))}});const qt=Gt;var Jt=qt,jt=(0,l.pM)({__name:"Create",setup(e){const t=(0,l.KR)(null);return(0,l.sV)(()=>{t.value.appToState("create")}),(e,a)=>((0,l.uX)(),(0,l.Wv)(Jt,{ref_key:"mainRef",ref:t},null,512))}});const Yt=jt;var $t=Yt,zt=(0,l.pM)({__name:"Display",setup(e){const t=(0,l.KR)(null);return(0,l.sV)(()=>{t.value.appToState("display")}),(e,a)=>((0,l.uX)(),(0,l.Wv)(Jt,{ref_key:"mainRef",ref:t},null,512))}});const Ht=zt;var Zt=Ht,ea=(0,l.pM)({__name:"Change",setup(e){const t=(0,l.KR)(null);return(0,l.sV)(()=>{t.value.appToState("change")}),(e,a)=>((0,l.uX)(),(0,l.Wv)(Jt,{ref_key:"mainRef",ref:t},null,512))}});const ta=ea;var aa=ta;const na={class:"bp-relationship-test"},la={class:"test-buttons"},oa={class:"test-content"},sa={key:0};var ia=(0,l.pM)({__name:"BPRelationshipTest",setup(e){const t=(0,l.KR)(""),a=(0,l.KR)(!1);function n(){t.value="create",a.value=!0}function o(){t.value="display",a.value=!0}function s(){t.value="change",a.value=!0}return(e,i)=>((0,l.uX)(),(0,l.CE)("div",na,[i[1]||(i[1]=(0,l.Lk)("h1",null,"BP Relationship Test Page",-1)),(0,l.Lk)("div",la,[(0,l.Lk)("button",{onClick:n,class:"test-btn create"},"Test Create Mode"),(0,l.Lk)("button",{onClick:o,class:"test-btn display"},"Test Display Mode"),(0,l.Lk)("button",{onClick:s,class:"test-btn change"},"Test Change Mode"),(0,l.Lk)("button",{onClick:i[0]||(i[0]=(...t)=>e.testAPI&&e.testAPI(...t)),class:"test-btn api"},"Test API Direct")]),(0,l.Lk)("div",oa,[(0,l.Lk)("h2",null,"Current Mode: "+(0,l.v_)(t.value),1),a.value?((0,l.uX)(),(0,l.CE)("div",sa,["create"===t.value?((0,l.uX)(),(0,l.Wv)($t,{key:0})):(0,l.Q3)("",!0),"display"===t.value?((0,l.uX)(),(0,l.Wv)(Zt,{key:1})):(0,l.Q3)("",!0),"change"===t.value?((0,l.uX)(),(0,l.Wv)(aa,{key:2})):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])]))}});const ra=(0,f.A)(ia,[["__scopeId","data-v-10611076"]]);var ca=ra;a(116),a(3579);const ua={class:"example-application"},da={class:"stage-content"},pa={class:"stage-header"},fa={class:"progress-indicator"},va={class:"progress-text"},ga={class:"progress-bar"},ma={class:"stage-content"},ha={class:"stage-header"},ya={class:"progress-indicator"},ka={class:"progress-text"},Aa={class:"progress-bar"},ba={class:"form-container"},Va={class:"stage-content"},La={class:"stage-header"},Ca={class:"progress-indicator"},Ta={class:"progress-text"},wa={class:"progress-bar"},Sa={class:"form-container"},Pa={class:"stage-content"},Da={class:"stage-header"},Ia={class:"progress-indicator"},xa={class:"progress-text"},Ea={class:"progress-bar"},Ba={class:"preview-container"},Ra={class:"preview-section"},Na={class:"preview-section"},Qa={class:"preview-section"},Ma={class:"stage-content"},Ua={class:"stage-header"},Fa={class:"result-container"},Ka={key:0,class:"success-message"},Oa={key:1,class:"error-message"},Xa={key:0,class:"stage-actions"};var Wa=(0,l.pM)({__name:"ExampleApplication",setup(e){const t=(0,n.rd)(),a=(0,l.KR)(),o=(0,l.KR)(["基本信息录入","部门职位","技能经验","预览确认","提交结果"]),s=(0,l.KR)(!1),i=(0,l.KR)(!1),r=(0,l.KR)(""),c=(0,l.KR)(""),u=(0,l.KR)(""),d=(0,l.EW)(()=>{T.value;const e=f.root?.currentValue;if(!e)return!1;const t=["name","email","phone"],a=t.every(t=>{const a=e[t];return a&&String(a).trim().length>0});return console.log("基本信息验证:",{basicInfo:e,hasCoreFields:a,name:e.name,email:e.email,phone:e.phone,forceUpdateKey:T.value}),a}),p=(0,l.EW)(()=>{T.value;const e=k.root?.currentValue;if(!e)return!1;const t=e.department&&String(e.department).trim().length>0&&e.position&&String(e.position).trim().length>0;return console.log("部门信息验证:",{deptInfo:e,isValid:t,department:e?.department,position:e?.position,forceUpdateKey:T.value}),t}),f=(0,we.$e)((0,we.fV)("dict","dict","basicInfo",{},!1,{},[(0,we.fV)("string","leaf","name","",!1,{},[],"姓名"),(0,we.fV)("string","leaf","email","",!1,{},[],"邮箱"),(0,we.fV)("string","leaf","phone","",!1,{},[],"电话"),(0,we.fV)("date","leaf","birthDate",null,!1,{},[],"出生日期"),(0,we.fV)("selection","leaf","gender","",!1,{options:["男","女","其他"]},[],"性别"),(0,we.fV)("dict","dict","address",{},!1,{},[(0,we.fV)("string","leaf","province","",!1,{},[],"省份"),(0,we.fV)("string","leaf","city","",!1,{},[],"城市"),(0,we.fV)("string","leaf","district","",!1,{},[],"区县"),(0,we.fV)("string","leaf","street","",!1,{},[],"详细地址"),(0,we.fV)("string","leaf","zipCode","",!1,{},[],"邮政编码")],"地址信息"),(0,we.fV)("string","leaf","idCard","",!1,{},[],"身份证号"),(0,we.fV)("dict","dict","emergencyContact",{},!1,{},[(0,we.fV)("string","leaf","name","",!1,{},[],"紧急联系人姓名"),(0,we.fV)("string","leaf","relationship","",!1,{},[],"关系"),(0,we.fV)("string","leaf","phone","",!1,{},[],"联系电话")],"紧急联系人")],"基本信息")),v=()=>[{name:"部门搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","deptSearchParams",{},!1,{},[(0,we.fV)("string","leaf","deptName","",!1,{},[],"部门名称"),(0,we.fV)("selection","leaf","deptType","",!1,{options:["技术部","市场部","人事部","财务部","运营部","产品部"]},[],"部门类型")],"部门搜索参数")),serviceUrl:"/api/search/mock/department",resultHeaderDisplay:{id:"ID",result:"部门名称",description:"描述",deptType:"部门类型",headCount:"人数"}},{name:"职位搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","positionSearchParams",{},!1,{},[(0,we.fV)("string","leaf","positionName","",!1,{},[],"职位名称"),(0,we.fV)("selection","leaf","level","",!1,{options:["初级","中级","高级","专家","管理"]},[],"职位级别"),(0,we.fV)("number","leaf","minSalary",null,!1,{},[],"最低薪资"),(0,we.fV)("number","leaf","maxSalary",null,!1,{},[],"最高薪资")],"职位搜索参数")),serviceUrl:"/api/search/mock/position",resultHeaderDisplay:{id:"ID",result:"职位名称",description:"描述",level:"职位级别",department:"所属部门",suggestedSalary:"建议薪资",requirements:"任职要求"}}],g=()=>[{name:"员工搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","managerSearchParams",{},!1,{},[(0,we.fV)("string","leaf","employeeName","",!1,{},[],"员工姓名"),(0,we.fV)("string","leaf","employeeId","",!1,{},[],"员工ID"),(0,we.fV)("selection","leaf","department","",!1,{options:["技术部","市场部","人事部","财务部","运营部","产品部"]},[],"所在部门")],"员工搜索参数")),serviceUrl:"/api/search/mock/employee",resultHeaderDisplay:{id:"ID",result:"员工姓名",description:"描述",position:"职位",department:"所在部门",level:"职级"}}],m=(e,t)=>{console.log("部门搜索结果处理:",e),e.firstSelectedResult&&(t.currentValue=e.firstSelectedResult.result)},h=(e,t)=>{if(console.log("职位搜索结果处理:",e),e.firstSelectedResult&&(t.currentValue=e.firstSelectedResult.result,e.firstSelectedResult.suggestedSalary)){const t=k.root?.children.find(e=>"salary"===e.name);t&&(t.currentValue=e.firstSelectedResult.suggestedSalary)}},y=(e,t)=>{console.log("上级搜索结果处理:",e),e.firstSelectedResult&&(t.currentValue=e.firstSelectedResult.result)},k=(0,we.$e)((0,we.fV)("dict","dict","departmentInfo",{},!1,{},[(0,we.fV)("string","leaf","department","",!1,{searchMethods:v(),customSearchResultHandler:m},[],"部门"),(0,we.fV)("string","leaf","position","",!1,{searchMethods:v().slice(1),customSearchResultHandler:h},[],"职位"),(0,we.fV)("date","leaf","hireDate",null,!1,{validators:[{creteria:e=>{if(!e)return!1;const t=new Date(e),a=new Date;return t<=a},message:"入职日期不能晚于今天"}]},[],"入职日期"),(0,we.fV)("number","leaf","salary",null,!1,{validators:[{creteria:e=>!e||e>=3e3&&e<=1e5,message:"薪资范围应在3000-100000之间"}]},[],"薪资"),(0,we.fV)("string","leaf","manager","",!1,{searchMethods:g(),customSearchResultHandler:y},[],"直属上级")],"部门职位信息")),A=()=>[{name:"技能库搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","skillSearchParams",{},!1,{},[(0,we.fV)("string","leaf","skillName","",!1,{},[],"技能名称"),(0,we.fV)("selection","leaf","category","",!1,{options:["编程语言","框架技术","数据库","工具软件","软技能","认证证书"]},[],"技能分类"),(0,we.fV)("selection","leaf","level","",!1,{options:["初级","中级","高级","专家"]},[],"要求级别")],"技能搜索参数")),serviceUrl:"/api/search/mock/skill",resultHeaderDisplay:{id:"ID",result:"技能名称",description:"描述",category:"技能分类",suggestedLevel:"建议级别"}}],b=()=>[{name:"公司搜索",paramTree:(0,we.$e)((0,we.fV)("dict","dict","companySearchParams",{},!1,{},[(0,we.fV)("string","leaf","companyName","",!1,{},[],"公司名称"),(0,we.fV)("selection","leaf","industry","",!1,{options:["互联网","金融","制造业","教育","医疗","零售","咨询"]},[],"行业"),(0,we.fV)("selection","leaf","scale","",!1,{options:["创业公司","中小企业","大型企业","跨国公司"]},[],"公司规模")],"公司搜索参数")),serviceUrl:"/api/search/mock/company",resultHeaderDisplay:{id:"ID",result:"公司名称",description:"描述",industry:"行业",scale:"规模"}}],V=(e,t)=>{if(console.log("技能搜索结果处理:",e),e.firstSelectedResult&&(t.currentValue=e.firstSelectedResult.result,e.firstSelectedResult.suggestedLevel)){const a=t.parent,n=a?.children.find(e=>"level"===e.name);n&&(n.currentValue=e.firstSelectedResult.suggestedLevel)}},L=(e,t)=>{console.log("公司搜索结果处理:",e),e.firstSelectedResult&&(t.currentValue=e.firstSelectedResult.result)},C=(0,we.$e)((0,we.fV)("dict","dict","skillsInfo",{},!1,{},[(0,we.fV)("dynamiclist","list","skills",[],!1,{},[(0,we.fV)("dict","dict","skill",{},!1,{},[(0,we.fV)("string","leaf","skillName","",!1,{searchMethods:A(),customSearchResultHandler:V},[],"技能名称"),(0,we.fV)("selection","leaf","level","",!1,{options:["初级","中级","高级","专家"]},[],"熟练程度"),(0,we.fV)("number","leaf","experience",null,!1,{validators:[{creteria:e=>!e||e>=0&&e<=50,message:"经验年限应在0-50年之间"}]},[],"经验年限")])],"技能列表"),(0,we.fV)("dynamiclist","list","workExperience",[],!1,{},[(0,we.fV)("dict","dict","experience",{},!1,{},[(0,we.fV)("string","leaf","company","",!1,{searchMethods:b(),customSearchResultHandler:L},[],"公司名称"),(0,we.fV)("string","leaf","position","",!1,{},[],"职位"),(0,we.fV)("date","leaf","startDate",null,!1,{validators:[{creteria:e=>{if(!e)return!1;const t=new Date(e),a=new Date;return t<=a},message:"开始时间不能晚于今天"}]},[],"开始时间"),(0,we.fV)("date","leaf","endDate",null,!1,{validators:[{creteria:e=>{if(!e)return!0;const t=new Date(e),a=new Date;return t<=a},message:"结束时间不能晚于今天"}]},[],"结束时间"),(0,we.fV)("string","leaf","description","",!1,{},[],"工作描述")])],"工作经历")],"技能经验")),T=(0,l.KR)(0),w=()=>{T.value++};function S(e){console.log("基本信息更新:",e),w()}function P(e){console.log("部门信息更新:",e),w()}function D(e){console.log("技能信息更新:",e),w()}function I(e,t){console.log(`阶段变更: ${t} -> ${e}`)}function x(e){console.log("下一步:",e)}function E(e){console.log("上一步:",e)}async function B(e,t){switch(console.log(`准备从阶段 ${e} 前进到 ${t}`),e){case 0:if(!d.value)return alert("请完善基本信息（姓名、邮箱、电话）后再继续"),!1;console.log("基本信息验证通过");break;case 1:if(!p.value)return alert("请完善部门职位信息（部门、职位）后再继续"),!1;console.log("部门职位信息验证通过");break;case 2:const e=C.root?.currentValue;if(e?.skills&&e.skills.length>0){const t=e.skills.some(e=>!e.skillName||!e.level);if(t){const e=confirm("技能列表中有未完成的项目，是否继续？");if(!e)return!1}}console.log("技能经验信息检查完成");break;case 3:const t=await N();if(!t)return console.log("提交失败，停留在当前阶段"),!1;console.log("数据提交成功");break;default:break}return!0}async function R(e,t){switch(console.log(`准备从阶段 ${e} 返回到 ${t}`),e){case 4:const e=confirm("返回将丢失提交结果，是否确认？");if(!e)return!1;break;case 3:console.log("返回编辑模式");break;default:break}return!0}async function N(){s.value=!0;try{const e={basicInfo:f.root?.currentValue,departmentInfo:k.root?.currentValue,skillsInfo:C.root?.currentValue};console.log("提交员工数据:",e);const t=await fetch("http://localhost:3000/api/employee/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();if(!a.success)throw new Error(a.message||"提交失败");return i.value=!0,c.value=a.data.employeeId,u.value=(new Date).toLocaleString(),console.log("员工创建成功:",a.data),!0}catch(e){return console.error("提交失败:",e),i.value=!1,r.value=e instanceof Error?e.message:"网络错误，请检查后端服务是否启动",!0}finally{s.value=!1}}function Q(){f.root&&(f.root.currentValue={}),k.root&&(k.root.currentValue={}),C.root&&(C.root.currentValue={}),s.value=!1,i.value=!1,r.value="",c.value="",u.value="",a.value?.goToStage(0)}function M(){t.push("/application")}return(0,l.sV)(()=>{console.log("Example Application 已加载")}),(e,t)=>((0,l.uX)(),(0,l.CE)("div",ua,[(0,l.bF)(Ot.A,{stages:o.value,showNavButtons:!0,beforeNext:B,beforePrev:R,prevText:"上一步",nextText:"下一步",onStageChange:I,onNext:x,onPrev:E,ref_key:"appContentRef",ref:a},{"stage-基本信息录入":(0,l.k6)(({currentStage:e,stageName:a,totalStages:n})=>[(0,l.Lk)("div",da,[(0,l.Lk)("div",pa,[(0,l.Lk)("div",fa,[(0,l.Lk)("span",va,"步骤 "+(0,l.v_)(e+1)+" / "+(0,l.v_)(n),1),(0,l.Lk)("div",ga,[(0,l.Lk)("div",{class:"progress-fill",style:(0,l.Tr)({width:(e+1)/n*100+"%"})},null,4)])]),(0,l.Lk)("h2",null,(0,l.v_)(a),1),t[0]||(t[0]=(0,l.Lk)("p",{class:"stage-description"},"请填写员工的基本信息，包括个人资料和联系方式",-1))]),((0,l.uX)(),(0,l.CE)("div",{class:"form-container",key:T.value},[(0,l.bF)(Te.A,{tree:(0,l.R1)(f),onUpdate:S},null,8,["tree"])]))])]),"stage-部门职位":(0,l.k6)(({currentStage:e,stageName:a,totalStages:n})=>[(0,l.Lk)("div",ma,[(0,l.Lk)("div",ha,[(0,l.Lk)("div",ya,[(0,l.Lk)("span",ka,"步骤 "+(0,l.v_)(e+1)+" / "+(0,l.v_)(n),1),(0,l.Lk)("div",Aa,[(0,l.Lk)("div",{class:"progress-fill",style:(0,l.Tr)({width:(e+1)/n*100+"%"})},null,4)])]),(0,l.Lk)("h2",null,(0,l.v_)(a),1),t[1]||(t[1]=(0,l.Lk)("p",{class:"stage-description"},"选择员工的部门和职位信息，支持搜索功能",-1))]),(0,l.Lk)("div",ba,[(0,l.bF)(Te.A,{tree:(0,l.R1)(k),onUpdate:P},null,8,["tree"])])])]),"stage-技能经验":(0,l.k6)(({currentStage:e,stageName:a,totalStages:n})=>[(0,l.Lk)("div",Va,[(0,l.Lk)("div",La,[(0,l.Lk)("div",Ca,[(0,l.Lk)("span",Ta,"步骤 "+(0,l.v_)(e+1)+" / "+(0,l.v_)(n),1),(0,l.Lk)("div",wa,[(0,l.Lk)("div",{class:"progress-fill",style:(0,l.Tr)({width:(e+1)/n*100+"%"})},null,4)])]),(0,l.Lk)("h2",null,(0,l.v_)(a),1),t[2]||(t[2]=(0,l.Lk)("p",{class:"stage-description"},"添加员工的技能和工作经验，支持动态列表管理",-1))]),(0,l.Lk)("div",Sa,[(0,l.bF)(Te.A,{tree:(0,l.R1)(C),onUpdate:D},null,8,["tree"])])])]),"stage-预览确认":(0,l.k6)(({currentStage:e,stageName:a,totalStages:n})=>[(0,l.Lk)("div",Pa,[(0,l.Lk)("div",Da,[(0,l.Lk)("div",Ia,[(0,l.Lk)("span",xa,"步骤 "+(0,l.v_)(e+1)+" / "+(0,l.v_)(n),1),(0,l.Lk)("div",Ea,[(0,l.Lk)("div",{class:"progress-fill",style:(0,l.Tr)({width:(e+1)/n*100+"%"})},null,4)])]),(0,l.Lk)("h2",null,(0,l.v_)(a),1),t[3]||(t[3]=(0,l.Lk)("p",{class:"stage-description"},"请确认所有信息无误后提交",-1))]),(0,l.Lk)("div",Ba,[(0,l.Lk)("div",Ra,[t[4]||(t[4]=(0,l.Lk)("h3",null,"基本信息",-1)),(0,l.bF)(Te.A,{tree:(0,l.R1)(f),readonly:!0},null,8,["tree"])]),(0,l.Lk)("div",Na,[t[5]||(t[5]=(0,l.Lk)("h3",null,"部门职位",-1)),(0,l.bF)(Te.A,{tree:(0,l.R1)(k),readonly:!0},null,8,["tree"])]),(0,l.Lk)("div",Qa,[t[6]||(t[6]=(0,l.Lk)("h3",null,"技能经验",-1)),(0,l.bF)(Te.A,{tree:(0,l.R1)(C),readonly:!0},null,8,["tree"])])])])]),"stage-提交结果":(0,l.k6)(({stageName:e})=>[(0,l.Lk)("div",Ma,[(0,l.Lk)("div",Ua,[(0,l.Lk)("h2",null,(0,l.v_)(e),1)]),(0,l.Lk)("div",Fa,[i.value?((0,l.uX)(),(0,l.CE)("div",Ka,[t[7]||(t[7]=(0,l.Lk)("div",{class:"success-icon"},"✓",-1)),t[8]||(t[8]=(0,l.Lk)("h3",null,"员工信息提交成功！",-1)),(0,l.Lk)("p",null,"员工ID: "+(0,l.v_)(c.value),1),(0,l.Lk)("p",null,"提交时间: "+(0,l.v_)(u.value),1)])):((0,l.uX)(),(0,l.CE)("div",Oa,[t[9]||(t[9]=(0,l.Lk)("div",{class:"error-icon"},"✗",-1)),t[10]||(t[10]=(0,l.Lk)("h3",null,"提交失败",-1)),(0,l.Lk)("p",null,(0,l.v_)(r.value),1)]))])])]),"footer-content-right":(0,l.k6)(({currentStage:e})=>[4===e?((0,l.uX)(),(0,l.CE)("div",Xa,[(0,l.Lk)("button",{class:"btn btn-primary",onClick:Q}," 重新开始 "),(0,l.Lk)("button",{class:"btn btn-secondary",onClick:M}," 返回应用目录 ")])):(0,l.Q3)("",!0)]),_:1},8,["stages"])]))}});const _a=(0,f.A)(Wa,[["__scopeId","data-v-5fc5d545"]]);var Ga=_a,qa=a(7294),Ja=a(1740);const ja={class:"string-input-container"},Ya=["type","readonly","placeholder"],$a="Only letters, numbers and special characters like !@#$%^&* are allowed.",za="Password must be 8 characters or less.";var Ha=(0,l.pM)({__name:"customeStringInput",props:{...qa.m_,modelValue:{type:[String,Number],default:""},Type:{type:String,default:"text"}},emits:qa.md,setup(e,{emit:t}){const a=e,n=t,o=(0,l.EW)(()=>({blur:p,handleEnter:v,allProps:a,internalValue:i,inputTypeRef:c,handleInput:g,togglePasswordVisibility:f})),s=(0,l.EW)(()=>(0,Ja.n)(a.tree,a.nodePath)),i=(0,l.KR)("number"===typeof a.modelValue||"string"===typeof a.modelValue?String(a.modelValue):""),r=(0,l.EW)(()=>({"string-input":!0,readonly:a.readonly})),c=(0,l.KR)(a.Type),u=/^[a-zA-Z0-9!@#$%^&*]*$/;function d(e){return u.test(e)?"password"===a.Type&&e.length>8?{isValid:!1,message:za}:{isValid:!0,message:""}:{isValid:!1,message:$a}}function p(){n("blur",i.value)}function f(){console.log("切换密码可见性"),console.log("当前输入类型:",c.value),c.value="password"===c.value?"text":"password"}function v(){n("enter",i.value)}function g(e){const t=e.target,a=t.value,{isValid:l,message:o}=d(a);l?(i.value=a,n("validation-error","")):(t.value=i.value,n("validation-error",o))}return(0,l.wB)(()=>a.Type,e=>{c.value=e},{immediate:!0}),(0,l.wB)(i,e=>{n("update:modelValue",e)}),(0,l.wB)(()=>a.modelValue,e=>{const t="number"===typeof e||"string"===typeof e?String(e):"";i.value!==t&&(console.log("Prop modelValue 变化，同步到 inputValue:",t),i.value=t)},{immediate:!0}),(e,t)=>((0,l.uX)(),(0,l.CE)("div",ja,[(0,l.RG)(e.$slots,`${s.value}--simple`,(0,l._B)((0,l.Ng)(o.value)),()=>[(0,l.bo)((0,l.Lk)("input",{type:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),readonly:e.readonly,placeholder:e.placeholder,class:(0,l.C4)(r.value),onBlur:p,onKeyup:(0,l.jR)(v,["enter"]),onInput:g},null,42,Ya),[[l.hp,i.value]])])]))}});const Za=(0,f.A)(Ha,[["__scopeId","data-v-0054ac62"]]);var en=Za;window.API_BASE_URL;async function tn(e,t){return{success:!0,message:"Registered Successfully"}}async function an(e,t){return"admin"===e&&"123456"===t?{success:!0,token:"fake-token",message:"Login Successfully"}:{success:!1,message:"Wrong username or password"}}const nn={id:"welcome-page-up"},ln={style:{width:"25%",margin:"50px auto",padding:"20px",display:"flex","flex-direction":"column","align-items":"center"}},on={class:"account-input"},sn={class:"account-input"},rn={style:{width:"100%","margin-top":"10px","margin-bottom":"20px",display:"flex"}},cn={style:{"margin-right":"auto"}},un={style:{"margin-left":"auto"}},dn=["disabled"];var pn=(0,l.pM)({__name:"Login",setup(e){const t=(0,we.$e)({varType:"dict",nodeType:"dict",name:"form",children:[(0,we.fV)("string","leaf","username","1",!1,{validators:[{creteria:we.fO.required,message:"Username cannot be empty"}],classPrefix:"username",hideLabel:!1},[],"用户名"),(0,we.fV)("string","leaf","password","",!1,{validators:[{creteria:we.fO.required,message:"Password cannot be empty"}],classPrefix:"password",hideLabel:!1},[],"密码")]}),a=(0,l.KR)(!1),o=(0,l.KR)(""),s=(0,l.KR)("success"),i=(0,n.rd)(),r=(0,l.KR)(!1),c=(0,l.KR)(""),u=(0,l.KR)("");function d(e){e?(o.value=e,s.value="error"):o.value=""}async function p(){o.value="",s.value="error";const e=t.findNodeByPath(["username"]),n=t.findNodeByPath(["password"]);e.currentValue=c.value,n.currentValue=u.value;let l=!0;const r=[e,n];for(const t of r){if(t.config?.validators)for(const e of t.config.validators)if(!e.creteria(t.currentValue)){o.value=e.message||`${t.name} 验证失败`,l=!1;break}if(!l)break}if(l){a.value=!0;try{const e=await an(c.value,u.value);a.value=!1,o.value=e.message,s.value=e.success?"success":"error",e.success&&(localStorage.setItem("token",e.token??""),setTimeout(()=>i.push("/application/home"),1e3))}catch(d){a.value=!1,o.value=d.response?.data?.message||"登录失败，请稍后再试。",s.value="error",console.error("Login error:",d)}}}return(e,n)=>{const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",nn,[(0,l.Lk)("div",ln,[n[4]||(n[4]=(0,l.Lk)("h1",{style:{"margin-bottom":"40px","font-size":"39px"}},"WELCOME TO LOGIN",-1)),(0,l.Lk)("div",on,[(0,l.bF)(en,{Type:"text",node:(0,l.R1)(t).findNodeByPath(["username"]),tree:(0,l.R1)(t),nodePath:["username"],modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e),placeholder:"Please enter username",readonly:r.value,onValidationError:d},null,8,["node","tree","modelValue","readonly"])]),(0,l.Lk)("div",sn,[(0,l.bF)(en,{Type:"password",node:(0,l.R1)(t).findNodeByPath(["password"]),tree:(0,l.R1)(t),nodePath:["password"],modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=e=>u.value=e),placeholder:"Please enter password",readonly:r.value,onValidationError:d},null,8,["node","tree","modelValue","readonly"])]),(0,l.Lk)("div",rn,[(0,l.Lk)("div",cn,[(0,l.bF)(i,{to:"/register"},{default:(0,l.k6)(()=>n[2]||(n[2]=[(0,l.eW)("Get an account")])),_:1,__:[2]})]),(0,l.Lk)("div",un,[(0,l.bF)(i,{to:"/getMyPassBack"},{default:(0,l.k6)(()=>n[3]||(n[3]=[(0,l.eW)("Forgot password")])),_:1,__:[3]})])]),(0,l.Lk)("button",{onClick:p,disabled:a.value,class:"login-button"},(0,l.v_)(a.value?"login...":"你给我摇滚出去🤘"),9,dn),o.value?((0,l.uX)(),(0,l.CE)("div",{key:0,style:(0,l.Tr)({color:"error"===s.value?"red":"white",marginTop:"10px"})},(0,l.v_)(o.value),5)):(0,l.Q3)("",!0)])]),n[5]||(n[5]=(0,l.Lk)("div",{id:"welcome-page-down"},[(0,l.Lk)("span",{style:{color:"var(--login-bg)",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[(0,l.Lk)("p",{style:{"font-size":"xx-large","font-weight":"bold",margin:"0px"}},"TEAM CCC"),(0,l.Lk)("br"),(0,l.Lk)("p",{style:{width:"50%","justify-content":"center"}}," Our Sales & Distribution (SD) System empowers businesses with end-to-end automation, from customer inquiries to payment collection. Manage customers, orders, shipments, and finances seamlessly in one integrated platform. Boost efficiency, reduce errors, and gain real-time insights-making global sales faster and smarter than ever. "),(0,l.Lk)("br"),(0,l.Lk)("span",null,"© 2025 Team CCC. All rights reserved.")])],-1))],64)}}});const fn=(0,f.A)(pn,[["__scopeId","data-v-185ad690"]]);var vn=fn,gn=a(7887),mn=a(6107);const hn={id:"register-page-up"},yn={style:{width:"25%",margin:"50px auto",padding:"20px",display:"flex","flex-direction":"column","align-items":"center"}},kn={class:"account-input"},An={class:"account-input"},bn={class:"password-input-wrapper"},Vn=["type","onUpdate:modelValue","onKeyup","placeholder","readonly","onInput"],Ln=["onClick"],Cn={key:"open-eye",src:gn,alt:"显示密码",class:"password-icon"},Tn={key:"closed-eye",src:mn,alt:"隐藏密码",class:"password-icon"},wn={style:{width:"100%","margin-top":"10px","margin-bottom":"20px",display:"flex"}},Sn={style:{"margin-left":"auto",display:"flex"}},Pn=["disabled"];var Dn=(0,l.pM)({__name:"Register",setup(e){const t=(0,we.$e)({varType:"dict",nodeType:"dict",name:"form",children:[(0,we.fV)("string","leaf","username","",!1,{validators:[{creteria:we.fO.required,message:"用户名不能为空"}],classPrefix:"username",hideLabel:!1},[],"用户名"),(0,we.fV)("string","leaf","password","",!1,{validators:[{creteria:we.fO.required,message:"密码不能为空"}],classPrefix:"password",hideLabel:!1},[],"密码")]}),a=(0,l.KR)(!1),o=(0,l.KR)(""),s=(0,l.KR)("success"),i=(0,n.rd)(),r=(0,l.KR)(""),c=(0,l.KR)(""),u=(0,l.KR)(!1);function d(e){e?(o.value=e,s.value="error"):o.value=""}function p(e){console.log("Password input blurred:",e)}function f(e){console.log("Password input entered:",e),v()}async function v(){o.value="",s.value="error";const e=t.findNodeByPath(["username"]),n=t.findNodeByPath(["password"]);e.currentValue=r.value,n.currentValue=c.value;let l=!0;const u=[e,n];for(const t of u){if(t.config?.validators)for(const e of t.config.validators)if(!e.creteria(t.currentValue)){o.value=e.message||`${t.name} 验证失败`,l=!1;break}if(!l)break}if(l){a.value=!0;try{const e=await tn(r.value,c.value);a.value=!1,o.value=e.message,s.value=e.success?"success":"error",e.success&&setTimeout(()=>i.push("/login"),1e3)}catch(d){a.value=!1,o.value=d.response?.data?.message||"Registration failed, please try again later.",s.value="error",console.error("Register error:",d)}}}return(e,n)=>{const i=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",hn,[(0,l.Lk)("div",yn,[n[4]||(n[4]=(0,l.Lk)("h1",{style:{"margin-bottom":"40px","font-size":"39px"}},"WELCOME TO US!",-1)),(0,l.Lk)("div",kn,[(0,l.bF)(en,{Type:"text",node:(0,l.R1)(t).findNodeByPath(["username"]),tree:(0,l.R1)(t),nodePath:["username"],modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=e=>r.value=e),placeholder:"Please enter username",readonly:u.value,onValidationError:d},null,8,["node","tree","modelValue","readonly"])]),(0,l.Lk)("div",An,[(0,l.bF)(en,{Type:"password",node:(0,l.R1)(t).findNodeByPath(["password"]),tree:(0,l.R1)(t),nodePath:["password"],modelValue:c.value,"onUpdate:modelValue":n[1]||(n[1]=e=>c.value=e),placeholder:"Please enter password",readonly:u.value,onValidationError:d,onEnter:f,onBlur:p},{"form-password--simple":(0,l.k6)(({handleEnter:e,allProps:t,internalValue:a,inputTypeRef:n,handleInput:o,togglePasswordVisibility:s})=>[(0,l.Lk)("div",bn,[(0,l.bo)((0,l.Lk)("input",{class:"password-input",type:n.value,"onUpdate:modelValue":e=>a.value=e,onKeyup:(0,l.jR)(e,["enter"]),placeholder:t.placeholder,readonly:t.readonly,onInput:o},null,40,Vn),[[l.hp,a.value]]),(0,l.Lk)("span",{class:"password-toggle-icon",onClick:s},[(0,l.bF)(l.eB,{name:"fade",mode:"out-in"},{default:(0,l.k6)(()=>["password"===n.value?((0,l.uX)(),(0,l.CE)("img",Cn)):((0,l.uX)(),(0,l.CE)("img",Tn))]),_:2},1024)],8,Ln)])]),_:1},8,["node","tree","modelValue","readonly"])]),(0,l.Lk)("div",wn,[(0,l.Lk)("div",Sn,[n[3]||(n[3]=(0,l.Lk)("p",{style:{color:"var(--color-link-default)"}},"Already have an account? ",-1)),(0,l.bF)(i,{to:"/login"},{default:(0,l.k6)(()=>n[2]||(n[2]=[(0,l.eW)("Go login!")])),_:1,__:[2]})])]),(0,l.Lk)("button",{onClick:v,disabled:a.value,class:"register-button"},(0,l.v_)(a.value?"Register...":"Register"),9,Pn),o.value?((0,l.uX)(),(0,l.CE)("div",{key:0,style:(0,l.Tr)({color:"error"===s.value?"red":"white",marginTop:"10px"})},(0,l.v_)(o.value),5)):(0,l.Q3)("",!0)])]),n[5]||(n[5]=(0,l.Lk)("div",{id:"register-page-down"},[(0,l.Lk)("span",{style:{color:"var(--login-bg)",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[(0,l.Lk)("p",{style:{"font-size":"xx-large","font-weight":"bold",margin:"0px"}},"TEAM CCC"),(0,l.Lk)("br"),(0,l.Lk)("p",{style:{width:"50%","justify-content":"center"}}," Our Sales & Distribution (SD) System empowers businesses with end-to-end automation, from customer inquiries to payment collection. Manage customers, orders, shipments, and finances seamlessly in one integrated platform. Boost efficiency, reduce errors, and gain real-time insights-making global sales faster and smarter than ever. "),(0,l.Lk)("br"),(0,l.Lk)("span",null,"© 2025 Team CCC. All rights reserved.")])],-1))],64)}}});const In=(0,f.A)(Dn,[["__scopeId","data-v-ecaa0fba"]]);var xn=In;const En={class:"card-content"},Bn={class:"app-text"},Rn={class:"card-icon"},Nn=["src"];function Qn(e,t,a,n,o,s){return(0,l.uX)(),(0,l.CE)("div",{class:"single-app-card",onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[(0,l.Lk)("div",En,[(0,l.RG)(e.$slots,"text",{},()=>[(0,l.Lk)("span",Bn,(0,l.v_)(e.pageName),1)],!0)]),(0,l.Lk)("div",Rn,[(0,l.RG)(e.$slots,"icon",{},()=>[(0,l.Lk)("img",{src:e.resolvedIconPath,alt:"App Icon",class:"default-icon"},null,8,Nn)],!0)])])}const Mn=a(527),Un={};Mn.keys().forEach(e=>{const t=`@/assets/icons/${e.substring(2)}`;Un[t]=Mn(e)});var Fn=(0,l.pM)({name:"SingleApp",props:{pageName:{type:String,required:!0},pagePath:{type:String,required:!0},iconPath:{type:String,required:!1}},setup(e){console.log(Un);const t=(0,n.rd)(),a=(0,l.EW)(()=>{if(e.iconPath&&Un[e.iconPath])return Un[e.iconPath];{console.log(`Could not resolve icon: ${e.iconPath}. Using default icon.`);const t="@/assets/icons/default-app-icon.svg";return Un[t]?Un[t]:(console.error('Default icon itself could not be resolved! Please check "@/assets/icons/default-app-icon.svg" path and require.context configuration.'),"")}}),o=()=>{if(e.pagePath){const a=e.pagePath.startsWith("/application")?e.pagePath.substring(12):e.pagePath,n={applicationName:e.pageName,routePath:a,lore:"",tags:[]};k.addVisitRecord(n),t.push(e.pagePath)}else console.warn(`SingleApp: pagePath for "${e.pageName}" is not defined. Cannot navigate.`)};return{handleClick:o,resolvedIconPath:a}}});const Kn=(0,f.A)(Fn,[["render",Qn],["__scopeId","data-v-4a510771"]]);var On=Kn;const Xn={class:"app-categories"},Wn={class:"app-list"};var _n=(0,l.pM)({__name:"Home",setup(e){const t=(0,we.$e)({varType:"dict",nodeType:"dict",name:"appCategories",children:[(0,we.fV)("dict","dict","Customers",null,!0,{},[{varType:"string",nodeType:"leaf",name:"Maintain Business Partner",readonly:!0,iconPath:"@/assets/icons/maintain-BP.svg"},{varType:"string",nodeType:"leaf",name:"Create BP Relationship",readonly:!0,iconPath:"@/assets/icons/create-BP-relationship.svg"},{varType:"string",nodeType:"leaf",name:"Display BP Relationship",readonly:!0,iconPath:"@/assets/icons/create-BP-relationship.svg"},{varType:"string",nodeType:"leaf",name:"Change BP Relationship",readonly:!0,iconPath:"@/assets/icons/create-BP-relationship.svg"}],"Customer Management"),(0,we.fV)("dict","dict","Orders",null,!0,{},[{varType:"string",nodeType:"leaf",name:"Create Inquiry",readonly:!0,iconPath:"@/assets/icons/create-inquiry.svg"},{varType:"string",nodeType:"leaf",name:"Display Inquiry",readonly:!0,iconPath:"@/assets/icons/create-inquiry.svg"},{varType:"string",nodeType:"leaf",name:"Change Inquiry",readonly:!0,iconPath:"@/assets/icons/create-inquiry.svg"},{varType:"string",nodeType:"leaf",name:"Manage Sales Quotations",readonly:!0,iconPath:"@/assets/icons/manage-sales-quotations.svg"},{varType:"string",nodeType:"leaf",name:"Manage Sales Orders",readonly:!0,iconPath:"@/assets/icons/manage-sales-orders.svg"}],"order management"),(0,we.fV)("dict","dict","Logistics",null,!0,{},[{varType:"string",nodeType:"leaf",name:"Create Outbound Delivery",readonly:!0,iconPath:"@/assets/icons/create-outbound-deliveries.svg"},{varType:"string",nodeType:"leaf",name:"Pick Outbound Delivery",readonly:!0,iconPath:"@/assets/icons/create-outbound-deliveries.svg"},{varType:"string",nodeType:"leaf",name:"Manage Outbound Deliveries",readonly:!0,iconPath:"@/assets/icons/manage-outbound-deliveries.svg"}],"logistics management"),(0,we.fV)("dict","dict","Finance",null,!0,{},[{varType:"string",nodeType:"leaf",name:"Create Billing Document",readonly:!0,iconPath:"@/assets/icons/create-billing-documents.svg"},{varType:"string",nodeType:"leaf",name:"Display Billing Document",readonly:!0,iconPath:"@/assets/icons/create-billing-documents.svg"},{varType:"string",nodeType:"leaf",name:"Change Billing Document",readonly:!0,iconPath:"@/assets/icons/create-billing-documents.svg"},{varType:"string",nodeType:"leaf",name:"Posting Incoming Payments",readonly:!0,iconPath:"@/assets/icons/posting-incoming-payments.svg"},{varType:"string",nodeType:"leaf",name:"Material Documents Overview",readonly:!0,iconPath:"@/assets/icons/material-documents-overview.svg"}],"finance management")]});console.log("应用树结构:",t.getRoot()?.children);const a=(0,l.EW)(()=>t.getRoot()?.children);return(e,t)=>((0,l.uX)(),(0,l.Wv)(Ot.A,{stages:["home"],hideBottomBar:!0},{"stage-home":(0,l.k6)(()=>[(0,l.Lk)("div",Xn,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.name,class:"app-category"},[(0,l.Lk)("h3",null,(0,l.v_)(e.name),1),(0,l.Lk)("div",Wn,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.children,e=>((0,l.uX)(),(0,l.Wv)(On,{key:e.name,pageName:e.name,pagePath:`/application/${e.name.toLowerCase().replace(/\s/g,"-")}`,iconPath:e.iconPath},null,8,["pageName","pagePath","iconPath"]))),128))])]))),128))])]),_:1}))}});const Gn=(0,f.A)(_n,[["__scopeId","data-v-642dc745"]]);var qn=Gn;a(1701);class Jn{constructor(e){(0,m.A)(this,"config",void 0),(0,m.A)(this,"itemsNodeRef",(0,l.KR)(null)),(0,m.A)(this,"detailTrees",{}),(0,m.A)(this,"summonItemsNode",(e,t,a)=>{const n=(0,we.fV)("dict","dict","item",null,!1,{},[(0,we.fV)("string","leaf","item","",!0,{},[],"Item"),(0,we.fV)("string","leaf","material","",!1,{},[],"Material"),(0,we.fV)("string","leaf","orderQuantity","",!1,{},[],"Order Quantity"),(0,we.fV)("string","leaf","orderQuantityUnit","",!1,{hideLabel:!0},[],"SU"),(0,we.fV)("string","leaf","description","",!1,{},[],"Description"),(0,we.fV)("date","leaf","reqDelivDate","",!1,{},[],"Req. Deliv Date"),(0,we.fV)("string","leaf","netValue","",!0,{},[],"Net: "),(0,we.fV)("string","leaf","netValueUnit","",!0,{hideLabel:!0},[],"Net Value Unit"),(0,we.fV)("string","leaf","taxValue","",!0,{},[],"Tax: "),(0,we.fV)("string","leaf","taxValueUnit","",!0,{hideLabel:!0},[],"Tax Value Unit"),(0,we.fV)("date","leaf","pricingDate","",!1,{},[],"Pricing Date"),(0,we.fV)("string","leaf","orderProbability","",!1,{},[],"Order Probability"),(0,we.fV)("dynamiclist","list","pricingElements",null,!0,{rowProvided:0,childTemplate:Jn.defaultDetailStructures.conditions.children[6].config.childTemplate},[],"Pricing Elements")]),l=(0,we.bM)((0,we.fV)("dynamiclist","list","items",null,!1,{hideLabel:!0,hideList:["netValue","netValueUnit","pricingDate","orderProbability","reqDelivDate","taxValue","taxValueUnit","pricingElements"],childTemplate:a||n},[],"Items")),o=e.findNodeByPath(t.slice(0,-1));return o?(l.name=t[t.length-1],o.addChild(l)):e.replaceNodeByPath(l,t),this.itemsNodeRef.value=l,l}),this.config={readonly:!1,navigationLabels:{cancel:"Cancel",save:"Save",previous:"← Previous",next:"Next →"},...e},this.initializeDetailTrees()}initializeDetailTrees(){const e={...Jn.defaultDetailStructures,...this.config.detailStructures};e.header&&(this.detailTrees.header=(0,we.$e)(e.header),this.detailTrees.header.root&&(this.detailTrees.header.root.name="itemDetailHeader")),e.sales&&(this.detailTrees.sales=(0,we.$e)(e.sales),this.detailTrees.sales.root&&(this.detailTrees.sales.root.name="itemDetailSales")),e.conditions&&(this.detailTrees.conditions=(0,we.$e)(e.conditions),this.detailTrees.conditions.root&&(this.detailTrees.conditions.root.name="itemDetailConditions"))}get detailPageConfig(){return{itemsNode:this.itemsNodeRef.value,validationEndpoint:this.config.validationEndpoint,detailTrees:[{name:"sales",tree:this.detailTrees.sales,headerTree:this.detailTrees.header,tabs:[{label:"Sales",value:0},{label:"Conditions",value:1}]},{name:"conditions",tree:this.detailTrees.conditions,headerTree:this.detailTrees.header}],readonly:this.config.readonly,navigationLabels:this.config.navigationLabels}}get selectedItems(){return(0,l.EW)(()=>this.itemsNodeRef.value?.getSelectedChildren()||[])}get itemsNode(){return this.itemsNodeRef.value}setItemsNode(e){this.itemsNodeRef.value=e}updateConfig(e){this.config={...this.config,...e}}getDetailTrees(){return this.detailTrees}}function jn(e){return new Jn(e)}(0,m.A)(Jn,"defaultDetailStructures",{header:(0,we.fV)("dict","dict","itemDetailHeader",{},!0,{childNameDisplayTranslation:{item:"Sales Document Item",material:"Material"}},[(0,we.fV)("string","leaf","item","",!1,{},[]),(0,we.fV)("string","leaf","material","",!1,{},[])]),sales:(0,we.fV)("dict","dict","itemDetailSales",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","orderQuantityAndDeliveryDate",{},!1,{childNameDisplayTranslation:{orderQuantity:"Quantity",reqDelivDate:"First Delivery Date"},hideList:["orderQuantityUnit"]},[(0,we.fV)("string","leaf","orderQuantity","",!1,{},[]),(0,we.fV)("string","leaf","orderQuantityUnit","",!1,{hideLabel:!0},[]),(0,we.fV)("date","leaf","reqDelivDate","",!1,{},[])],"Order Quantity and Delivery Date"),(0,we.fV)("dict","dict","generalSalesData",{},!1,{childNameDisplayTranslation:{pricingDate:"Pricing Date: ",orderProbability:"Order Probability: "},hideList:["netValueUnit"]},[(0,we.fV)("string","leaf","netValue","",!0,{},[]),(0,we.fV)("string","leaf","netValueUnit","",!0,{hideLabel:!0},[]),(0,we.fV)("string","leaf","pricingDate","",!1,{},[]),(0,we.fV)("string","leaf","orderProbability","1",!1,{},[])])]),conditions:(0,we.fV)("dict","dict","itemDetailConditions",{},!1,{childNameDisplayTranslation:{orderQuantity:"Quantity"},hideList:["orderQuantityUnit","netValueUnit","taxValueUnit"]},[(0,we.fV)("string","leaf","orderQuantity","",!1,{},[]),(0,we.fV)("string","leaf","orderQuantityUnit","",!1,{hideLabel:!0},[]),(0,we.fV)("string","leaf","netValue","",!0,{},[]),(0,we.fV)("string","leaf","netValueUnit","",!0,{hideLabel:!0},[]),(0,we.fV)("string","leaf","taxValue","",!0,{},[]),(0,we.fV)("string","leaf","taxValueUnit","",!0,{hideLabel:!0},[]),(0,we.fV)("dynamiclist","list","pricingElements",null,!0,{rowProvided:0,childTemplate:(0,we.fV)("dict","dict","condition",null,!1,{},[(0,we.fV)("string","leaf","cnty","",!1,{},[],"Cnty"),(0,we.fV)("string","leaf","name","",!1,{},[],"Name"),(0,we.fV)("string","leaf","amount","",!1,{},[],"Amount"),(0,we.fV)("string","leaf","city","",!1,{},[],"City"),(0,we.fV)("string","leaf","per","",!1,{},[],"per"),(0,we.fV)("string","leaf","uom","",!1,{},[],"UoM"),(0,we.fV)("string","leaf","conditionValue","",!1,{},[],"Condition Value"),(0,we.fV)("string","leaf","curr","",!1,{},[],"Curr."),(0,we.fV)("string","leaf","status","",!1,{},[],"Status"),(0,we.fV)("string","leaf","numC","",!1,{},[],"NumC"),(0,we.fV)("string","leaf","atoMtsComponent","",!1,{},[],"ATO/MTS Component"),(0,we.fV)("string","leaf","oun","",!1,{},[],"OUn"),(0,we.fV)("string","leaf","cconDe","",!1,{},[],"CConDe"),(0,we.fV)("string","leaf","un","",!1,{},[],"Un"),(0,we.fV)("string","leaf","conditionValue2","",!1,{},[],"Condition Value"),(0,we.fV)("string","leaf","cdCur","",!1,{},[],"CdCur"),(0,we.fV)("boolean","leaf","stat",!1,!1,{},[],"Stat")])},[],"Pricing Elements")])});const Yn={key:0,class:"item-condition-detail"},$n={key:0,class:"item-navigation"},zn=["disabled"],Hn={class:"item-counter"},Zn=["disabled"],el={key:4,class:"item-condition-actions"};var tl=(0,l.pM)({__name:"ItemConditionDetail",props:{kit:{}},emits:["save","cancel","validation-failed","validation-success"],setup(e,{expose:t,emit:a}){const n=e,o=a,s=(0,l.KR)([]),i=(0,l.KR)(0),r=(0,l.KR)(0),c=(0,l.KR)({node:null}),u=(0,l.KR)(!1),d=(0,l.KR)(null),p=(0,l.KR)(!0),f=(0,l.EW)(()=>n.kit.detailPageConfig),v=(0,l.EW)(()=>s.value.length>1),g=(0,l.EW)(()=>i.value>0),m=(0,l.EW)(()=>i.value<s.value.length-1),h=(0,l.EW)(()=>f.value.detailTrees[0]?.tabs&&f.value.detailTrees[0].tabs.length>0),y=(0,l.EW)(()=>f.value.detailTrees[0]?.tabs||[]),k=(0,l.EW)(()=>h.value&&f.value.detailTrees.length>1&&f.value.detailTrees[r.value]||f.value.detailTrees[0]),A=window.API_BASE_URL||"";async function b(){if(!f.value.itemsNode)return void console.error("Items node not found");const e=[...f.value.itemsNode.getSelectedChildren()];if(e&&e.length>0){const t=e.filter(e=>void 0===e.config.data?.validation);if(t.length>0){console.log("发现未验证的item，进行验证...");const e=await V(t);if(!e)return console.log("验证失败，无法继续"),void o("validation-failed",t)}const a=e.some(e=>!1===e.config.data?.validation);if(a)return console.log("存在验证未通过的item，无法继续"),void o("validation-failed",e);s.value=e,i.value=0,r.value=0,await(0,l.dY)(),L(),await(0,l.dY)(),u.value||(console.warn("数据未准备完成，等待..."),await(0,l.dY)()),f.value.itemsNode.children.forEach(e=>{e.setSelection(!1)}),o("validation-success",s.value)}else console.log("No items selected"),o("validation-failed",[])}async function V(e){const t=e.map(e=>e.getValue());try{const a=await fetch(`${A}${f.value.validationEndpoint}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await a.json();return console.log("验证返回的数据",n),!!n.success&&(n.data.breakdowns&&Array.isArray(n.data.breakdowns)&&n.data.breakdowns.forEach((t,a)=>{a<e.length&&e[a].forceSetValue(t)}),n.data.result&&Array.isArray(n.data.result.badRecordIndices)&&(e.forEach(e=>{e.config.data||(e.config.data={}),e.config.data.validation=!0}),n.data.result.badRecordIndices.forEach(t=>{t<e.length&&(e[t].config.data||(e[t].config.data={}),e[t].config.data.validation=!1)})),1===n.data.result.allDataLegal)}catch(a){return console.error("验证失败:",a),!1}}function L(){if(0===s.value.length)return u.value=!1,void(c.value.node=null);u.value=!1;const e=s.value[i.value];c.value.node=e.clone();const t=c.value.node;console.log("editingNode 初始值:",t.getValue());const a=(e,a,n)=>{const l=t.findNodeByPath(e);l&&n.replaceNodeByPath(l,a)};f.value.detailTrees.forEach(e=>{e.headerTree&&(a(["item"],["item"],e.headerTree),a(["material"],["material"],e.headerTree)),"itemDetailSales"===e.tree.root?.name?(a(["orderQuantity"],["orderQuantityAndDeliveryDate","orderQuantity"],e.tree),a(["orderQuantityUnit"],["orderQuantityAndDeliveryDate","orderQuantityUnit"],e.tree),a(["reqDelivDate"],["orderQuantityAndDeliveryDate","reqDelivDate"],e.tree),a(["netValue"],["generalSalesData","netValue"],e.tree),a(["netValueUnit"],["generalSalesData","netValueUnit"],e.tree),a(["pricingDate"],["generalSalesData","pricingDate"],e.tree),a(["orderProbability"],["generalSalesData","orderProbability"],e.tree)):"itemDetailConditions"===e.tree.root?.name&&(a(["orderQuantity"],["orderQuantity"],e.tree),a(["orderQuantityUnit"],["orderQuantityUnit"],e.tree),a(["netValue"],["netValue"],e.tree),a(["netValueUnit"],["netValueUnit"],e.tree),a(["taxValue"],["taxValue"],e.tree),a(["taxValueUnit"],["taxValueUnit"],e.tree),a(["pricingElements"],["pricingElements"],e.tree))}),u.value=!0}async function C(){if(!c.value.node)return!1;if(c.value.node.config.data?.validation)return console.log("数据未更改，无需验证",c.value.node),!0;const e=[c.value.node],t=await V(e);if(t){console.log("数据验证成功");const e=s.value[i.value];e.forceSetValue(c.value.node.getValue())}else console.log("数据验证失败");return t}async function T(){if(!c.value.node)return!1;if(c.value.node.config.data?.validation)return console.log("数据未更改，无需验证"),!0;const e=[c.value.node],t=await V(e);return t?console.log("数据验证成功（仅验证，未同步）"):console.log("数据验证失败"),t}function w(){if(!c.value.node)return;const e=s.value[i.value];e.forceSetValue(c.value.node.getValue()),console.log("数据已同步到原始item")}function S(e,t,a){console.log("用户输入:",e.name,"=",t),c.value.node&&!c.value.node.config.data&&(c.value.node.config.data={}),c.value.node&&(c.value.node.config.data.validation=!1)}async function P(e){if(e>=0&&e<s.value.length){const t=await C();t?(i.value=e,L()):console.log("数据验证失败，无法切换")}}async function D(){await P(i.value-1)}async function I(){await P(i.value+1)}function x(e){r.value=e}async function E(){const e=await T();e?(w(),o("save")):console.log("数据验证失败，无法保存")}function B(){const e=document.querySelector(".app-content-footer-content-right");e?(d.value=".app-content-footer-content-right",p.value=!1,console.log("找到teleport目标，按钮将显示在footer中")):(d.value=null,p.value=!0,console.log("未找到teleport目标，按钮将显示在页面内"))}async function R(){if(!f.value.itemsNode)return void console.error("Items node not found");const e=[...f.value.itemsNode.getSelectedChildren()];e&&e.length>0?(console.log("发现选中的items，自动初始化详细信息页面"),s.value=e,i.value=0,r.value=0,await(0,l.dY)(),L(),await(0,l.dY)(),u.value=!0,o("validation-success",e)):(console.log("没有选中的items，等待用户选择"),u.value=!1)}function N(){s.value.length>0&&s.value.forEach(e=>{!1===e.config.data?.validation&&(e.config.data.validation=void 0)}),s.value=[],c.value={node:null},o("cancel")}return(0,l.sV)(()=>{(0,l.dY)(()=>{B(),R()})}),(0,l.hi)(()=>{d.value=null,p.value=!0}),t({handleItemsTableClick:b,save:E,cancel:N,switchToPreviousItem:D,switchToNextItem:I,selectedItems:(0,l.EW)(()=>s.value),hasSelectedItems:(0,l.EW)(()=>s.value.length>0)}),(e,t)=>u.value?((0,l.uX)(),(0,l.CE)("div",Yn,[v.value?((0,l.uX)(),(0,l.CE)("div",$n,[(0,l.Lk)("button",{class:"item-nav-button item-prev-button",onClick:D,disabled:!g.value},(0,l.v_)(f.value.navigationLabels?.previous),9,zn),(0,l.Lk)("span",Hn," Item "+(0,l.v_)(i.value+1)+" of "+(0,l.v_)(s.value.length),1),(0,l.Lk)("button",{class:"item-nav-button item-next-button",onClick:I,disabled:!m.value},(0,l.v_)(f.value.navigationLabels?.next),9,Zn)])):(0,l.Q3)("",!0),k.value.headerTree&&c.value.node?((0,l.uX)(),(0,l.Wv)(Te.A,{key:1,tree:k.value.headerTree},null,8,["tree"])):(0,l.Q3)("",!0),h.value?((0,l.uX)(),(0,l.Wv)(Ce,{key:2,tabs:y.value,onTabSelected:x,class:"reverse middle hide-bottom-line",initialActiveTab:0},null,8,["tabs"])):(0,l.Q3)("",!0),c.value.node?((0,l.uX)(),(0,l.Wv)(Te.A,{key:3,tree:k.value.tree,onEnterFromNode:T,onInputFromNode:S},(0,l.eX)({["itemDetailSales-orderQuantityAndDeliveryDate-orderQuantity--extra"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:k.value.tree,path:["orderQuantityAndDeliveryDate","orderQuantityUnit"],hideLabel:!0},null,8,["tree"])]),["itemDetailSales-generalSalesData-netValue--extra"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:k.value.tree,path:["generalSalesData","netValueUnit"],hideLabel:!0},null,8,["tree"])]),["itemDetailConditions-orderQuantity--extra"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:k.value.tree,path:["orderQuantityUnit"],hideLabel:!0},null,8,["tree"])]),["itemDetailConditions-netValue--extra"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:k.value.tree,path:["netValueUnit"],hideLabel:!0},null,8,["tree"])]),["itemDetailConditions-taxValue--extra"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:k.value.tree,path:["taxValueUnit"],hideLabel:!0},null,8,["tree"])]),default:(0,l.k6)(()=>[t[0]||(t[0]=(0,l.eW)(" > "))]),_:2},[(0,l.pI)(e.$slots,(t,a)=>({name:a,fn:(0,l.k6)(t=>[(0,l.RG)(e.$slots,a,(0,l._B)((0,l.Ng)(t)))])}))]),1032,["tree"])):(0,l.Q3)("",!0),p.value?((0,l.uX)(),(0,l.CE)("div",el,[(0,l.Lk)("button",{class:"cancel-button",onClick:N},(0,l.v_)(f.value.navigationLabels?.cancel),1),f.value.readonly?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:0,class:"save-button",onClick:E},(0,l.v_)(f.value.navigationLabels?.save),1))])):(0,l.Q3)("",!0),d.value&&!p.value?((0,l.uX)(),(0,l.Wv)(l.Im,{key:5,to:d.value},[(0,l.Lk)("button",{class:"cancel-button",onClick:N},(0,l.v_)(f.value.navigationLabels?.cancel),1),f.value.readonly?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:0,class:"save-button",onClick:E},(0,l.v_)(f.value.navigationLabels?.save),1))],8,["to"])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)}});const al=(0,f.A)(tl,[["__scopeId","data-v-f37d5eba"]]);var nl=al;const ll={class:"manage-sales-orders-view"},ol={key:0,class:"so-page-content"},sl={class:"sales-order-search"},il={key:0,class:"query-results-list",style:{width:"100%"}},rl={class:"sales-order-rows-container"},cl=["onClick"],ul={class:"row-item sales-order-id"},dl={class:"row-item sold-to-party"},pl={class:"row-item customer-reference"},fl={class:"row-item req-delivery-date"},vl={class:"row-item net-value"},gl={class:"row-item doc-date"},ml={key:1,class:"no-results"},hl={key:2,class:"initial-output-message"},yl={key:1,class:"bottom-actions"},kl={key:2,class:"modal-overlay"},Al={class:"modal-content"},bl={key:0,class:"modal-message"},Vl={class:"page-content"},Ll=["disabled"];var Cl=(0,l.pM)({__name:"ManageSalesOrders",setup(e){const t="http://localhost:3000",a=jn({validationEndpoint:"/api/app/sales-order/items-tab-query",readonly:!1,navigationLabels:{cancel:"Cancel",save:"Save",previous:"← Previous",next:"Next →"}}),n=(0,l.KR)(null),o=(0,l.EW)(()=>n.value?.currentStage||0),s=(0,l.KR)(!1),i=(0,l.KR)(!1),r=(0,l.KR)(""),c=(0,we.fV)("dict","dict","quotationQuery",null,!1,{hideLabel:!0},[(0,we.fV)("string","leaf","quotation_id","",!1,{searchMethods:Se.mS},[],"Quotation Number:")]),u=(0,we.$e)(c),d=(0,l.KR)("display"),p=(0,l.KR)(0),f=(0,l.EW)(()=>"create"===d.value),v=(0,l.EW)(()=>"change"===d.value),g=(0,l.EW)(()=>"display"===d.value);function m(e){d.value=e;let t="display"===e;h.forEach(e=>{e.root&&(e.root.readonly=t)})}const h=[],y=(0,we.fV)("dict","dict","salesOrderQuery",null,!1,{hideLabel:!0},[(0,we.fV)("string","leaf","so_id","",!1,{searchMethods:Se.Et},[],"Sales Order:"),(0,we.fV)("selection","leaf","status","",!1,{options:["New","Open","In progress","Completed"]},[],"Overall Status:"),(0,we.fV)("string","leaf","customer_no","",!1,{searchMethods:Se.bk},[],"Sold-To Party:"),(0,we.fV)("string","leaf","customer_reference","",!1,{},[],"Customer Reference:")]),k=(0,we.$e)((0,we.fV)("dict","dict","SOData",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","meta",{},!1,{hideSelf:!0},[(0,we.fV)("string","leaf","id","",!1,{},[])]),(0,we.fV)("dict","dict","basicInfo",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","quotation_id","",!1,{searchMethods:Se.mS},[],"Quotation:"),(0,we.fV)("string","leaf","so_id","",!0,{},[],"Sales Order:"),(0,we.fV)("string","leaf","soldToParty","",!1,{},[],"Sold-To Party:"),(0,we.fV)("string","leaf","shipToParty","",!1,{},[],"Ship-To Party:"),(0,we.fV)("string","leaf","customerReference","",!1,{},[],"Cust. Reference:"),(0,we.fV)("string","leaf","netValue","0.0",!0,{},[],"Net Value:"),(0,we.fV)("string","leaf","netValueUnit","",!0,{hideLabel:!0},[],"Net Value Unit:"),(0,we.fV)("date","leaf","customerReferenceDate","",!1,{},[],"Cust. Ref. Date:")]),(0,we.fV)("dict","dict","itemOverview",{},!1,{},[(0,we.fV)("date","leaf","reqDelivDate","",!1,{},[],"Req. Deliv Date:")],"Item Overview")]));a.summonItemsNode(k,["itemOverview","items"]);const A=(0,we.$e)(y),b=(0,l.KR)([]),V=(0,l.KR)(!1),L=async()=>{console.log("Executing sales order query...");const e=`${t}/api/so/search`;console.log("Attempting to fetch from URL:",e);const a=A.root?.getValue();console.log("Submitting query data:",JSON.stringify(a,null,2)),V.value=!0,b.value=[];try{const t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await t.json();n.success&&Array.isArray(n.data)?b.value=n.data:(console.error("API call failed or returned unexpected data:",n),b.value=[])}catch(n){console.error("Error during sales order search:",n),b.value=[]}},C=(0,l.EW)(()=>"Cancel"),T=(0,l.EW)(()=>f.value?"Create":v.value?"Save":g.value?"Change":"/hide"),w=(0,l.EW)(()=>"/hide"),S=(0,l.EW)(()=>(f.value||v.value,"/hide"));async function P(e,t){return console.log("AppContent handleCancel: currentStage",e,"targetStage",t),0===e?!((f.value||v.value)&&!await j("Are you sure you want to cancel? Any unsaved changes will be lost."))&&(s.value=!1,n.value.goToStage(0),n.value.footerMessage="",!1):1===e?!((f.value||v.value)&&!await j("Are you sure you want to go back? Unsaved item changes will be lost."))&&(n.value.footerMessage="",N.value=[],Q.value=0,!0):(n.value.footerMessage="",!0)}async function D(e,a){if(console.log("AppContent handleExecute: currentStage",e,"targetStage",a),n.value.footerMessage="",0===e){if(g.value)return console.log("Switching to change state..."),m("change"),p.value++,n.value.footerMessage="Switched to Change mode.",!1;if(f.value||v.value){console.log("Saving/Creating sales order...");const e=k.root?.getValue();let a=f.value?`${t}/api/so/create`:`${t}/api/so/edit`,o="POST";if(v.value&&!e?.basicInfo?.so_id)return n.value.footerMessage="Sales Order ID is required for change operations.",!1;try{const t=await fetch(a,{method:o,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=await t.json();return l.success?(n.value.footerMessage=l.message||(f.value?"Sales Order created successfully!":"Sales Order saved successfully!"),f.value&&l.data?.so_id&&(k.findNodeByPath(["basicInfo","so_id"])?.setValue(l.data.so_id),k.findNodeByPath(["meta","id"])?.setValue(l.data.so_id)),m("display"),!1):(n.value.footerMessage=l.message||"Operation failed.",!1)}catch(l){return console.error("Operation failed:",l),n.value.footerMessage=`Operation failed: ${l.message||"Network error"}`,!1}}}if(1===e){console.log("Handling item details confirmation...");const e=await U();return e?(n.value.footerMessage="All item details confirmed and saved.",m("display"),n.value.goToStage(0),!1):(n.value.footerMessage="Some item details are invalid. Please correct them.",!1)}return!1}const I=async e=>{console.log(`Navigating to sales order detail page for SO ID: ${e}`),s.value=!0,m("display"),(0,l.dY)(async()=>{if(n.value){n.value.goToStage(0),n.value.footerMessage="Fetching sales order details...";try{const a=await fetch(`${t}/api/so/get/${e}`),l=await a.json();l.success&&l.data?(k.root?.forceSetValue(l.data),p.value++,n.value.footerMessage="Sales order details loaded."):(n.value.footerMessage=l.message||"Failed to load sales order details.",s.value=!1)}catch(a){n.value.footerMessage=`Error fetching details: ${a.message}`,s.value=!1}}})},x=()=>{console.log("Creating sales order - showing quotation input modal"),i.value=!0,r.value="",u.root?.forceSetValue({quotation_id:""})},E=()=>{i.value=!1,r.value=""},B=async()=>{const e=u.root?.findNodeByPath(["quotation_id"])?.getValue();if(e){r.value="Searching for quotation...";try{const a=await fetch(`${t}/api/quotation/details`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quotation_id:e})}),o=await a.json();if(o.success&&o.data?.quotationData){const e=o.data.quotationData;console.log("Quotation data fetched:",e),i.value=!1,s.value=!0,m("create"),k.root?.forceSetValue({});const t=k.findNodeByPath(["basicInfo"]);t&&e.basicInfo&&(t.findNodeByPath(["quotation_id"])?.setValue(e.basicInfo.quotation),t.findNodeByPath(["soldToParty"])?.setValue(e.basicInfo.soldToParty),t.findNodeByPath(["shipToParty"])?.setValue(e.basicInfo.shipToParty),t.findNodeByPath(["customerReference"])?.setValue(e.basicInfo.customerReference),t.findNodeByPath(["netValue"])?.setValue(e.basicInfo.netValue),t.findNodeByPath(["netValueUnit"])?.setValue(e.basicInfo.netValueUnit),t.findNodeByPath(["customerReferenceDate"])?.setValue(e.basicInfo.customerReferenceDate));const a=k.findNodeByPath(["itemOverview"]);if(a&&e.itemOverview){a.findNodeByPath(["reqDelivDate"])?.setValue(e.itemOverview.reqDelivDate);const t=a.findNodeByPath(["items"]);t&&e.itemOverview.items&&(t.children=[],e.itemOverview.items.forEach((e,a)=>{const n=(0,we.bM)(t.config.childTemplate);n.forceSetValue({...e,item:(a+1).toString()}),t.addChild(n)}))}p.value++,(0,l.dY)(()=>{n.value&&(n.value.goToStage(0),n.value.footerMessage="Quotation data loaded. Ready to create new Sales Order.")})}else r.value=o.message||"Quotation not found or API error.",console.error("Failed to fetch quotation details:",o)}catch(a){r.value=`Error fetching quotation: ${a.message}`,console.error("Error during quotation fetch:",a)}}else r.value="Please enter a Quotation Number."},R=async()=>{m("display"),p.value++};h.push(k);const N=(0,l.KR)([]),Q=(0,l.KR)(0);async function M(e,t,a){a.nodePath.length>2&&"itemOverview"===a.nodePath[0]&&"items"===a.nodePath[1]&&await U()}async function U(){const e=k.findNodeByPath(["itemOverview","items"])?.children||[];return await F(e)}async function F(e){const a=e.map(e=>e.getValue()),l=await fetch(`${t}/api/app/inquiry/items-tab-query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>(console.log("Normal return",e),e.json())).catch(e=>(console.error("Batch query failed:",e),{success:!1}));return console.log("Returned data",l),!!l.success&&(l.data.breakdowns&&Array.isArray(l.data.breakdowns)&&l.data.breakdowns.forEach((t,a)=>{a<e.length&&(console.log("Breakdown data for item",a,":",t),t.pricingElements&&console.log("PricingElements structure:",t.pricingElements),e[a].forceSetValue(t))}),l.data.result&&Array.isArray(l.data.result.badRecordIndices)&&(e.forEach(e=>{e.config.data||(e.config.data={}),e.config.data.validation=!0}),l.data.result.badRecordIndices.forEach(t=>{t<e.length&&(e[t].config.data||(e[t].config.data={}),e[t].config.data.validation=!1)})),n.value.forceUpdate(),1===l.data.result.allDataLegal)}async function K(){const e=k.findNodeByPath(["itemOverview","items"]),t=[...e.getSelectedChildren()];if(t&&t.length>0){const a=t.filter(e=>void 0===e.config.data?.validation);if(a.length>0){console.log("Found unvalidated items, validating...");const e=await F(a);if(!e)return void console.log("Validation failed, cannot proceed")}const l=t.some(e=>!1===e.config.data?.validation);if(l)return void console.log("There are invalid items, cannot proceed");N.value=t,Q.value=0,n.value.goToStage(1),setTimeout(()=>{e.children.forEach(e=>{e.setSelection(!1)})},100)}else console.log("No items selected")}function O(e){console.log("Item condition validation success:",e)}function X(e){console.log("Item condition validation failed:",e)}function W(){console.log("Item condition save"),n.value.goToStage(0)}function _(){console.log("Item condition cancel"),n.value.goToStage(0)}const G=(0,l.KR)(!1),q=(0,l.KR)("");let J=null;function j(e){return q.value=e,G.value=!0,new Promise(e=>{J=e})}return(e,t)=>((0,l.uX)(),(0,l.CE)("div",ll,[s.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",ol,[(0,l.Lk)("div",sl,[(0,l.bF)(Te.A,{tree:(0,l.R1)(A),class:"sales-order-query-varbox"},null,8,["tree"]),(0,l.Lk)("div",{class:"go-button-container",onClick:L},t[1]||(t[1]=[(0,l.Lk)("button",{class:"go-button"},"Go",-1)]))]),V.value&&b.value&&b.value.length>0?((0,l.uX)(),(0,l.CE)("div",il,[(0,l.Lk)("div",rl,[t[3]||(t[3]=(0,l.Fv)('<div class="sales-order-row-header" data-v-2a028a36><div class="header-item sales-order-id" data-v-2a028a36>Sales Order</div><div class="header-item sold-to-party" data-v-2a028a36>Sold-To Party</div><div class="header-item customer-reference" data-v-2a028a36>Customer Reference</div><div class="header-item req-delivery-date" data-v-2a028a36>Requested Delivery Date</div><div class="header-item overall-status" data-v-2a028a36>Overall Status</div><div class="header-item net-value" data-v-2a028a36>Net Value</div><div class="header-item doc-date" data-v-2a028a36>Document Date</div><div class="header-item" data-v-2a028a36></div></div>',1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(b.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.so_id,class:"sales-order-row",onClick:t=>I(e.so_id)},[(0,l.Lk)("span",ul,(0,l.v_)(e.so_id),1),(0,l.Lk)("span",dl,(0,l.v_)(e.soldToPartyName)+" ("+(0,l.v_)(e.customer_no)+")",1),(0,l.Lk)("span",pl,(0,l.v_)(e.customer_reference),1),(0,l.Lk)("span",fl,(0,l.v_)(e.req_delivery_date),1),(0,l.Lk)("span",{class:(0,l.C4)(["row-item overall-status",{"status-open":"Open"===e.status,"status-completed":"Completed"===e.status,"status-in-progress":"In Progress"===e.status,"status-new":"New"===e.status}])},(0,l.v_)(e.status),3),(0,l.Lk)("span",vl,(0,l.v_)(e.net_value)+" "+(0,l.v_)(e.currency),1),(0,l.Lk)("span",gl,(0,l.v_)(e.doc_date),1),t[2]||(t[2]=(0,l.Lk)("span",{class:"row-item arrow-icon"},"▶",-1))],8,cl))),128))])])):V.value&&b.value&&0===b.value.length?((0,l.uX)(),(0,l.CE)("div",ml,t[4]||(t[4]=[(0,l.Lk)("p",null,"No sales orders found matching your criteria.",-1)]))):((0,l.uX)(),(0,l.CE)("div",hl,t[5]||(t[5]=[(0,l.Lk)("p",null,'Enter query criteria and click "Go" to see results.',-1)])))])),s.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",yl,[(0,l.Lk)("button",{class:"create-sales-order-button",onClick:x},"Create Sales Order")])),i.value?((0,l.uX)(),(0,l.CE)("div",kl,[(0,l.Lk)("div",Al,[t[6]||(t[6]=(0,l.Lk)("h4",null,"Enter Quotation",-1)),(0,l.bF)(Te.A,{tree:(0,l.R1)(u),class:"quotation-input-varbox"},null,8,["tree"]),(0,l.Lk)("div",{class:"modal-actions"},[(0,l.Lk)("button",{onClick:E,class:"cancel-button"},"Cancel"),(0,l.Lk)("button",{onClick:B,class:"save-button"},"Confirm")]),r.value?((0,l.uX)(),(0,l.CE)("p",bl,(0,l.v_)(r.value),1)):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),s.value?((0,l.uX)(),(0,l.Wv)(Ot.A,{key:3,stages:["salesOrderForm","itemDetails"],"before-next":D,"before-prev":P,"footer-config":[{prevText:C.value,nextText:T.value},{prevText:w.value,nextText:S.value}],ref_key:"appContentRef",ref:n},{"stage-salesOrderForm":(0,l.k6)(()=>[(0,l.Lk)("div",Vl,[((0,l.uX)(),(0,l.Wv)(Te.A,{tree:(0,l.R1)(k),class:(0,l.C4)({"sales-order-detail-varbox":g.value||v.value,"sales-order-creation-varbox":f.value}),key:p.value,onEnterFromNode:M},{"SOData-itemOverview-items--extra-buttons":(0,l.k6)(()=>[(0,l.Lk)("button",{class:"execute-button table-extra-button",onClick:K,disabled:!(0,l.R1)(k).findNodeByPath(["itemOverview","items"])?.getSelectedChildren().length}," ... ",8,Ll)]),_:1},8,["tree","class"]))])]),"stage-itemDetails":(0,l.k6)(()=>[(0,l.bF)(nl,{kit:(0,l.R1)(a),config:{navigationLabels:{cancel:"Cancel",save:"Save",previous:"← Previous",next:"Next →"}},onValidationSuccess:O,onValidationFailed:X,onSave:W,onCancel:_},{"footer-content-right":(0,l.k6)(()=>[(0,l.RG)(e.$slots,"footer-content-right")]),_:3},8,["kit"])]),"footer-content-right":(0,l.k6)(()=>[0===o.value&&(f.value||g.value)?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t[0]||(t[0]=e=>P(0,-1)),class:"footer-cancel-button"}," Cancel ")):(0,l.Q3)("",!0),0===o.value&&v.value?((0,l.uX)(),(0,l.CE)("button",{key:1,onClick:R,class:"footer-cancel-button"}," Save and Display ")):(0,l.Q3)("",!0)]),_:3},8,["footer-config"])):(0,l.Q3)("",!0)]))}});const Tl=(0,f.A)(Cl,[["__scopeId","data-v-2a028a36"]]);var wl=Tl;const Sl={class:"app-content-footer-content-right"};var Pl=(0,l.pM)({__name:"Main",setup(e,{expose:t}){const a=window.API_BASE_URL||"",n=(0,l.KR)(null),o=jn({validationEndpoint:"/api/app/inquiry/items-tab-query",readonly:!1,navigationLabels:{cancel:"Cancel",save:"Save",previous:"← Previous",next:"Next →"}}),s=(0,l.KR)("create"),i=(0,l.EW)(()=>"create"===s.value),r=(0,l.EW)(()=>"change"===s.value),c=(0,l.EW)(()=>"display"===s.value);function u(e){s.value=e;let t="display"===e;h.forEach(e=>{e.root.readonly=t}),n.value.forceUpdate()}const d=(0,l.EW)(()=>i.value?"Continue":r.value||c.value?"Execute":"/hide"),p=(0,l.EW)(()=>i.value||r.value||c.value?"Cancel":"/hide"),f=(0,l.EW)(()=>i.value?"Create":r.value?"Save":c.value?"Switch to Change":"/hide");(0,l.EW)(()=>i.value||r.value?"Cancel":(c.value,"Back")),(0,l.EW)(()=>i.value||r.value);t({appToState:u});const v=(0,we.$e)((0,we.fV)("dict","dict","initialScreen",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","inquiryType",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","inquiryType","",!1,{searchMethods:Se.UA},[],"Inquiry Type:")]),(0,we.fV)("dict","dict","salesOrg",{},!1,{},[(0,we.fV)("string","leaf","salesOrganization","",!1,{searchMethods:Se.dr},[],"Sales Organization:"),(0,we.fV)("string","leaf","distributionChannel","",!1,{searchMethods:Se.g8},[],"Distribution Channel:"),(0,we.fV)("string","leaf","division","",!1,{searchMethods:Se.CP},[],"Division:")],"Organizational Data")])),g=(0,we.$e)((0,we.fV)("dict","dict","initialScreen",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","inquiryId","",!1,{searchMethods:Se.r4},[],"Inquiry Id:")])),m=(0,we.$e)((0,we.fV)("dict","dict","inquiryData",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","meta",{},!1,{hideSelf:!0},[(0,we.fV)("string","leaf","id","",!1,{},[])]),(0,we.fV)("dict","dict","basicInfo",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","inquiry","",!1,{},[],"Inquiry:"),(0,we.fV)("string","leaf","soldToParty","",!1,{},[],"Sold-To Party:"),(0,we.fV)("string","leaf","shipToParty","",!1,{},[],"Ship-To Party:"),(0,we.fV)("string","leaf","customerReference","",!1,{},[],"Cust. Reference:"),(0,we.fV)("string","leaf","netValue","0.0",!0,{},[],"Net Value:"),(0,we.fV)("string","leaf","netValueUnit","",!0,{hideLabel:!0},[],"Net Value Unit:"),(0,we.fV)("date","leaf","customerReferenceDate","",!1,{},[],"Cust. Ref. Date:")]),(0,we.fV)("dict","dict","itemOverview",{},!1,{},[(0,we.fV)("date","leaf","validFrom","",!1,{},[],"Valid From:"),(0,we.fV)("date","leaf","validTo","",!1,{},[],"Valid To:"),(0,we.fV)("date","leaf","reqDelivDate","",!1,{},[],"Req. Deliv Date:"),(0,we.fV)("string","leaf","expectOralVal","0.0",!0,{},[],"Expect. Oral Val:"),(0,we.fV)("string","leaf","expectOralValUnit","",!0,{hideLabel:!0},[],"Expect. Oral Val Unit:")],"Item Overview")]));o.summonItemsNode(m,["itemOverview","items"]);const h=[m],y=(0,l.KR)(!1);async function k(){const e=await fetch(`${a}/api/app/inquiry/initialize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("申请失败:",e),{success:!1}));return console.log("返回的数据",e),y.value=e.success,!!e.success&&(e.data.content&&m.forceSetValue(e.data.content),!!y.value)}async function A(){const e=await fetch(`${a}/api/app/inquiry/get`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("申请失败:",e),{success:!1}));if(console.log("返回的数据",e),!e.success)return!1;if(!e.data.content)return!1;const t=e.data.content;return m.forceSetValue(t),!0}async function b(){const e=m.findNodeByPath(["itemOverview","items"])?.children||[];return await V(e)}async function V(e){const t=e.map(e=>e.getValue()),n=await fetch(`${a}/api/app/inquiry/items-tab-query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("批量查询失败:",e),{success:!1}));return console.log("返回的数据",n),!!n.success&&(m.findNodeByPath(["basicInfo","netValue"])?.setValue(n.data.generalData?.netValue),m.findNodeByPath(["basicInfo","netValueUnit"])?.setValue(n.data.generalData?.netValueUnit),m.findNodeByPath(["itemOverview","expectOralVal"])?.setValue(n.data.generalData?.expectOralVal),m.findNodeByPath(["itemOverview","expectOralValUnit"])?.setValue(n.data.generalData?.expectOralValUnit),n.data.breakdowns&&Array.isArray(n.data.breakdowns)&&n.data.breakdowns.forEach((t,a)=>{a<e.length&&(console.log("Breakdown data for item",a,":",t),t.pricingElements&&console.log("PricingElements structure:",t.pricingElements),e[a].forceSetValue(t))}),n.data.result&&Array.isArray(n.data.result.badRecordIndices)&&(e.forEach(e=>{e.config.data||(e.config.data={}),e.config.data.validation=!0}),n.data.result.badRecordIndices.forEach(t=>{t<e.length&&(e[t].config.data||(e[t].config.data={}),e[t].config.data.validation=!1)})),h.map(e=>e.forceUpdate()),1===n.data.result.allDataLegal)}function L(){console.log("保存数据"),n.value.goToStage(1)}function C(){console.log("取消编辑"),n.value.goToStage(1)}function T(){console.log("验证失败")}function w(){console.log("验证成功")}async function S(){const e=m.findNodeByPath(["itemOverview","items"]),t=[...e.getSelectedChildren()];if(t&&t.length>0){const a=t.filter(e=>void 0===e.config.data?.validation);if(a.length>0){console.log("发现未验证的item，进行验证...");const e=await V(a);if(!e)return void console.log("验证失败，无法继续")}const l=t.some(e=>!1===e.config.data?.validation);if(l)return void console.log("存在验证未通过的item，无法继续");n.value.goToStage(2),setTimeout(()=>{e.children.forEach(e=>{e.setSelection(!1)})},100)}else console.log("No items selected")}async function P(e,t,a){a.nodePath.length>2&&"itemOverview"===a.nodePath[0]&&"items"===a.nodePath[1]&&await b()}async function D(e,t){if(1===e){const e=confirm("Cancel?");return e&&(n.value.footerMessage=""),e}return!0}async function I(e,t){if(console.log("try: stage change:",e,"->",t),0===e){if(i.value)return await k();if(r.value||c.value){const e=await A();return console.log("初始化结果",e),e}return!1}if(1===e){if(c.value)return console.log("切换到修改状态"),u("change"),!1;if(i.value||r.value){console.log(m.getValue());const e=await fetch(`${a}/api/app/inquiry/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("创建询价单失败:",e),{success:!1}));console.log("返回的数据",e),e.success&&(n.value.footerMessage=e.data.message,e.data.content?.id&&m.findNodeByPath(["meta","id"]).setValue(e.data.content?.id),u("display"))}return!1}return!1}return(e,t)=>((0,l.uX)(),(0,l.Wv)(Ot.A,{stages:["initialScreen","information","itemCondition"],"before-next":I,"before-prev":D,"footer-config":[{nextText:d.value},{prevText:p.value,nextText:f.value},{prevText:"/hide",nextText:"/hide"}],ref_key:"appContentRef",ref:n},{["stage-initialScreen"]:(0,l.k6)(()=>[i.value?((0,l.uX)(),(0,l.Wv)(Te.A,{key:0,tree:(0,l.R1)(v)},null,8,["tree"])):(0,l.Q3)("",!0),c.value||r.value?((0,l.uX)(),(0,l.Wv)(Te.A,{key:1,tree:(0,l.R1)(g)},null,8,["tree"])):(0,l.Q3)("",!0)]),["stage-information"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:(0,l.R1)(m),onEnterFromNode:P},{["inquiryData-itemOverview-items--extra-buttons"]:(0,l.k6)(()=>[(0,l.Lk)("button",{class:"execute-button table-extra-button",onClick:S}," ... ")]),_:2},1032,["tree"])]),["stage-itemCondition"]:(0,l.k6)(()=>[t[1]||(t[1]=(0,l.Lk)("h2",null,"Item 详细信息 (使用 ItemConditionKit)",-1)),(0,l.bF)(nl,{kit:(0,l.R1)(o),onSave:L,onCancel:C,onValidationFailed:T,onValidationSuccess:w},{["itemDetailConditions-pricingElements--extra-buttons"]:(0,l.k6)(()=>t[0]||(t[0]=[(0,l.Lk)("button",{class:"execute-button table-extra-button item-condition-button",onClick:()=>{}}," New ",-1),(0,l.Lk)("button",{class:"execute-button table-extra-button item-condition-button",onClick:()=>{}}," Delete ",-1)])),_:2},1032,["kit"])]),["footer-content-right"]:(0,l.k6)(()=>[(0,l.Lk)("div",Sl,(0,l.v_)(n.value?.getCurrentStageName()),1)]),_:2},1032,["footer-config"]))}});const Dl=(0,f.A)(Pl,[["__scopeId","data-v-d15e22fe"]]);var Il=Dl,xl=(0,l.pM)({__name:"Create",setup(e){const t=(0,l.KR)(null);return(0,l.sV)(()=>{t.value.appToState("create")}),(e,a)=>((0,l.uX)(),(0,l.Wv)(Il,{ref_key:"mainRef",ref:t},null,512))}});const El=xl;var Bl=El,Rl=(0,l.pM)({__name:"Change",setup(e){const t=(0,l.KR)(null);return(0,l.sV)(()=>{t.value.appToState("change")}),(e,a)=>((0,l.uX)(),(0,l.Wv)(Il,{ref_key:"mainRef",ref:t},null,512))}});const Nl=Rl;var Ql=Nl,Ml=(0,l.pM)({__name:"Display",setup(e){const t=(0,l.KR)(null);return(0,l.sV)(()=>{t.value.appToState("display")}),(e,a)=>((0,l.uX)(),(0,l.Wv)(Il,{ref_key:"mainRef",ref:t},null,512))}});const Ul=Ml;var Fl=Ul,Kl=(0,l.pM)({__name:"CreateMain",setup(e,{expose:t}){const a=window.API_BASE_URL||"",n=(0,l.KR)(null);t({});const o=(0,we.$e)((0,we.fV)("dict","dict","initialScreen",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","shipToParty","",!1,{searchMethods:Se.$h},[],"Ship-To Party:"),(0,we.fV)("date","leaf","plannedCreationDate","",!1,{},[],"Planned Creation Date:"),(0,we.fV)("selection","leaf","relevantForTM","",!1,{options:["Yes","No"]},[],"Relevant For TM:")])),s=(0,we.$e)((0,we.fV)("dict","dict","salesOrders",{},!0,{},[(0,we.fV)("dynamiclist","list","orders",null,!1,{hideLabel:!0,rowProvided:1,childTemplate:(0,we.fV)("dict","dict","order",null,!1,{},[(0,we.fV)("string","leaf","id","",!0,{hideSelf:!0},[],"Sales Order"),(0,we.fV)("date","leaf","plannedCreationDate","",!0,{},[],"Planned Creation Date"),(0,we.fV)("date","leaf","plannedGIDate","",!0,{},[],"Planned GI Date"),(0,we.fV)("string","leaf","shippingPoint","",!0,{},[],"Shipping Point"),(0,we.fV)("string","leaf","shipToParty","",!0,{},[],"Ship-To Party"),(0,we.fV)("string","leaf","grossWeight","",!0,{},[],"Gross Weight")])},[])],"Sales Orders"));async function i(){const e=await fetch(`${a}/api/app/outbound-delivery/get-sales-orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("获取销售订单失败:",e),{success:!1}));return console.log("返回的数据",e),!(!e.success||!e.data.orders)&&(s.forceSetValue({orders:e.data.orders}),s.forceUpdate(),!0)}async function r(){n.value.footerMessage="",n.value.forceUpdate();await i()}async function c(){const e=s.findNodeByPath(["orders"]);if(!e)return!1;const t=[...e.getSelectedChildren()];if(t&&t.length>0){console.log("Selected orders for delivery creation:",t.length);const e=t.map(e=>e.getValue()),l=await fetch(`${a}/api/app/outbound-delivery/create-from-orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedOrders:e})}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("创建出库交货单失败:",e),{success:!1}));console.log("返回的数据",l),l.success&&(n.value.footerMessage=l.data.message,n.value.forceUpdate(),await i())}else console.log("No orders selected");return!1}async function u(e,t){if(1===e){const e=confirm("Cancel?");return e&&(n.value.footerMessage=""),e}return!0}async function d(e,t){return console.log("try: stage change:",e,"->",t),0===e&&1===t&&await c()}return(e,t)=>((0,l.uX)(),(0,l.Wv)(Ot.A,{stages:["createDelivery"],"before-next":d,"before-prev":u,"footer-config":[{nextText:"Create Deliveries"}],ref_key:"appContentRef",ref:n},{["stage-createDelivery"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:(0,l.R1)(o)},null,8,["tree"]),(0,l.Lk)("div",{class:"stage-buttons"},[(0,l.Lk)("button",{class:"go-button",onClick:r},"Go")]),(0,l.bF)(Te.A,{tree:(0,l.R1)(s)},null,8,["tree"])]),["footer-content-right"]:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(n.value?.getCurrentStageName()),1)]),_:2},1536))}});const Ol=(0,f.A)(Kl,[["__scopeId","data-v-0899d839"]]);var Xl=Ol,Wl=(0,l.pM)({__name:"Create",setup(e){return(e,t)=>((0,l.uX)(),(0,l.Wv)(Xl))}});const _l=Wl;var Gl=_l;const ql=["onClick"],Jl={class:"gi-summary-table"},jl={class:"gi-summary-value"},Yl={class:"gi-summary-value"},$l={class:"gi-summary-value"},zl={class:"gi-summary-value"},Hl={class:"gi-summary-value"},Zl={class:"gi-summary-value"},eo={class:"gi-summary-value"},to={class:"gi-summary-value"},ao={class:"item-detail-container"},no={class:"detail-header"},lo={class:"item-info"},oo={key:1,class:"detail-buttons"};var so=(0,l.pM)({__name:"PickMain",props:{pickingId:{type:String,default:""}},setup(e,{expose:t}){const a=window.API_BASE_URL||"",n=(0,l.KR)(null);t({appContentRef:n});const o=e;(0,l.sV)(async()=>{o.pickingId&&(console.log("props.pickingId",o.pickingId),s.findNodeByPath(["id"])?.setValue(o.pickingId),await k(),n?.value.forceUpdate())});const s=(0,we.$e)((0,we.fV)("dict","dict","initialScreen",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","id","",!1,{},[],"Delivery:")])),i=(0,we.$e)((0,we.fV)("dict","dict","deliveryDetail",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","meta",{},!0,{hideSelf:!0},[(0,we.fV)("string","leaf","id","",!1,{},[]),(0,we.fV)("boolean","leaf","posted",!1,!1,{},[]),(0,we.fV)("boolean","leaf","readyToPost",!1,!1,{},[])]),(0,we.fV)("date","leaf","actualGIDate","",!0,{},[],"Actual GI Date: "),(0,we.fV)("date","leaf","plannedGIDate","",!0,{},[],"Planned GI Date: "),(0,we.fV)("date","leaf","actualDate","",!0,{},[],"Actual Date: "),(0,we.fV)("date","leaf","loadingDate","",!0,{},[],"Loading Date: "),(0,we.fV)("date","leaf","deliveryDate","",!0,{},[],"Delivery Date: "),(0,we.fV)("string","leaf","pickingStatus","",!0,{},[],"Picking Status: "),(0,we.fV)("string","leaf","overallStatus","",!0,{},[],"Overall Status: "),(0,we.fV)("string","leaf","giStatus","",!0,{},[],"GI Status: "),(0,we.fV)("string","leaf","shipToParty","",!0,{},[],"Ship-To Party: "),(0,we.fV)("string","leaf","address","",!0,{},[],"Address: "),(0,we.fV)("string","leaf","grossWeight","",!0,{},[],"Gross Wgt: "),(0,we.fV)("string","leaf","grossWeightUnit","",!0,{hideLabel:!0},[],"Gross Wgt Unit: "),(0,we.fV)("string","leaf","netWeight","",!0,{},[],"Net Wgt: "),(0,we.fV)("string","leaf","netWeightUnit","",!0,{hideLabel:!0},[],"Net Wgt Unit: "),(0,we.fV)("string","leaf","volume","",!0,{},[],"Volume: "),(0,we.fV)("string","leaf","volumeUnit","",!0,{hideLabel:!0},[],"Volume Unit: "),(0,we.fV)("string","leaf","priority","",!0,{},[],"Priority: "),(0,we.fV)("string","leaf","shippingPoint","",!0,{},[],"Shipping Point: ")])),r=[["actualGIDate"],["grossWeight"],["netWeight"],["volume"],["grossWeightUnit"],["netWeightUnit"],["volumeUnit"]];function c(e){console.log("设置可写性",e),r.forEach(t=>{const a=i.findNodeByPath(t);a&&(a.readonly=!e)}),i.forceUpdate(),d.root.readonly=!e,d.forceUpdate()}const u=(0,we.$e)((0,we.fV)("dict","dict","deliveryItems",{},!1,{hideLabel:!0},[(0,we.fV)("dynamiclist","list","items",null,!0,{hideLabel:!0,rowProvided:1,showWhiteList:["item","material","deliveryQuantity","deliveryQuantityUnit","pickedQuantity","pickedQuantityUnit","pickingStatus","confirmationStatus","details"],childTemplate:(0,we.fV)("dict","dict","item",null,!1,{},[(0,we.fV)("string","leaf","item","",!0,{},[],"Item"),(0,we.fV)("string","leaf","material","",!0,{},[],"Material"),(0,we.fV)("string","leaf","deliveryQuantity","",!1,{},[],"Delivery Quantity"),(0,we.fV)("string","leaf","deliveryQuantityUnit","",!1,{},[]," "),(0,we.fV)("string","leaf","pickingQuantity","",!0,{},[],"Picking Quantity"),(0,we.fV)("string","leaf","pickingQuantityUnit","",!0,{},[]," "),(0,we.fV)("string","leaf","pickingStatus","",!0,{},[],"Picking Status"),(0,we.fV)("string","leaf","confirmationStatus","",!0,{},[],"Confirmation Status"),(0,we.fV)("string","leaf","salesOrder","",!0,{},[],"Sales Order: "),(0,we.fV)("string","leaf","itemType","",!0,{},[],"Item Type: "),(0,we.fV)("string","leaf","originalDelivertyQuantity","",!0,{},[],"Original Delivery Quantity: "),(0,we.fV)("string","leaf","conversionRate","",!0,{},[],"Conversion Rate: "),(0,we.fV)("string","leaf","baseUnitDeliveryQuantity","",!0,{},[],"Base Unit Delivery Quantity: "),(0,we.fV)("string","leaf","grossWeight","",!0,{},[],"Gross Weight: "),(0,we.fV)("string","leaf","netWeight","",!0,{},[],"Net Weight: "),(0,we.fV)("string","leaf","volume","",!0,{},[],"Volume: "),(0,we.fV)("string","leaf","plant","",!0,{},[],"Plant: "),(0,we.fV)("string","leaf","storageLocation","",!1,{},[],"Storage Location: "),(0,we.fV)("string","leaf","storageLocationDescription","",!0,{},[]," "),(0,we.fV)("string","leaf","storageBin","",!0,{},[],"Storage Bin: "),(0,we.fV)("date","leaf","materialAvailability","",!0,{},[],"Material Availability: "),(0,we.fV)("string","leaf","details","",!1,{},[]," ")])},[])])),d=(0,we.$e)((0,we.fV)("dict","dict","displayController",null,!0,{hideLabel:!0},[(()=>{const e=u.findNodeByPath(["items"]).config.childTemplate;return e.config.hideLabel=!0,e.config.showWhiteList=["salesOrder","item","itemType","originalDelivertyQuantity","pickingQuantity","pickingQuantityUnit","deliveryQuantity","deliveryQuantityUnit","conversionRate","baseUnitDeliveryQuantity","material","grossWeight","netWeight","volume","plant","storageLocation","storageLocationDescription","storageBin","materialAvailability"],e})()]));function p(){return{deliveryDetail:i.getValue(),items:u.findNodeByPath(["items"])?.getValue()||[]}}function f(e){d.replaceNodeByPath(e.clone(),["item"])}const v=(0,l.KR)([]),g=(0,l.KR)(0);async function m(e,t,a){console.log("path:",t);const l=t.length;if(!(l>1&&"details"==t[l-1]))return;const o=a.findNodeByPath(t.slice(0,l-1)),s=await h([o]);s?(v.value=[o],g.value=0,f(o),n.value.goToStage(1)):console.log("数据验证失败，无法进入详情页面")}async function h(e){const t=e.map(e=>e.getValue()),n=await fetch(`${a}/api/app/outbound-delivery/items-tab-query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("批量查询失败:",e),{success:!1}));return console.log("返回的数据",n),!!n.success&&(n.data.breakdowns&&Array.isArray(n.data.breakdowns)&&n.data.breakdowns.forEach((t,a)=>{a<e.length&&e[a].forceSetValue(t)}),n.data.result&&Array.isArray(n.data.result.badRecordIndices)&&(e.forEach(e=>{e.config.data||(e.config.data={}),e.config.data.validation=!0}),n.data.result.badRecordIndices.forEach(t=>{t<e.length&&(e[t].config.data||(e[t].config.data={}),e[t].config.data.validation=!1)})),d.forceUpdate(),u.forceUpdate(),1===n.data.result.allDataLegal)}async function y(e=!1){const t=d.findNodeByPath(["item"]);let a=!0;if(!e&&t.config.data?.validation?console.log("数据未更改，无需验证",t):a=await h([t]),a){console.log("数据验证成功");const e=v.value[g.value];e.forceSetValue(t.getValue())}else console.log("数据验证失败");return a}async function k(){const e=s.findNodeByPath(["id"])?.getValue();if(!e)return void(n.value.footerMessage="请输入Delivery ID");n.value.footerMessage="";const t=await fetch(`${a}/api/app/outbound-delivery/get-detail`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deliveryId:e})}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("获取交货单详情失败:",e),{success:!1}));if(console.log("返回的数据",t),t.success&&t.data){t.data.detail&&i.forceSetValue(t.data.detail),t.data.items&&u.forceSetValue(t.data.items);const e=i.findNodeByPath(["meta","posted"])?.getValue();c(!e),n.value.forceUpdate(),P.value++}else n.value.footerMessage="获取交货单详情失败: "+(t.message||"未知错误")}async function A(){const e=p(),t=[e],l=await fetch(`${a}/api/app/outbound-delivery/post-gis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("Post GIs失败:",e),{success:!1}));if(console.log("Post GIs返回的数据",l),l.success&&l.data&&l.data.breakdowns){if(l.data.breakdowns.length>0){const e=l.data.breakdowns[0];e.detail&&i.forceSetValue(e.detail),e.items&&u.forceSetValue({items:e.items}),i.forceUpdate(),u.forceUpdate(),n.value.footerMessage="Post GIs成功"}}else n.value.footerMessage="Post GIs失败: "+(l.message||"未知错误")}async function b(e,t,a){const n=d.findNodeByPath(["item"]);n.config.data?.validation||await h([n])}async function V(e,t,a){const n=d.findNodeByPath(["item"]);n.config.data?n.config.data.validation=!1:n.config.data={validation:!1}}async function L(){const e=await y();e&&n.value.goToStage(0)}function C(){n.value.goToStage(0)}const T=(0,l.KR)(0);function w(e){T.value=e}const S=(0,l.EW)(()=>{P.value;const e=i.findNodeByPath(["meta","posted"])?.getValue()||!1,t=i.findNodeByPath(["meta","readyToPost"])?.getValue()||!1,a=e?"Posted":t?"Ready to Post":"Not Ready to Post",n=i.findNodeByPath(["plannedGIDate"])?.getValue()??"",l=`${i.findNodeByPath(["grossWeight"])?.getValue()??""}${i.findNodeByPath(["grossWeightUnit"])?.getValue()??""}`,o=`${i.findNodeByPath(["netWeight"])?.getValue()??""}${i.findNodeByPath(["netWeightUnit"])?.getValue()??""}`,s=`${i.findNodeByPath(["volume"])?.getValue()??""}${i.findNodeByPath(["volumeUnit"])?.getValue()??""}`,r=i.findNodeByPath(["priority"])?.getValue()??"",c=i.findNodeByPath(["shipToParty"])?.getValue()??"",u=i.findNodeByPath(["address"])?.getValue()??"",d={status:a,plannedGIDate:n,grossWeight:l,netWeight:o,volume:s,priority:r,shipToParty:c,address:u};return console.log("giSummaryContent 重新计算:",d),d}),P=(0,l.KR)(0);async function D(e,t){if(1===e){const e=confirm("Cancel?");return e&&(n.value.footerMessage=""),e}return!0}async function I(e,t){return console.log("try: stage change:",e,"->",t),!1}return(e,t)=>((0,l.uX)(),(0,l.Wv)(Ot.A,{stages:["picking","itemDetail"],"before-next":I,"before-prev":D,"footer-config":[{nextText:"/hide"},{prevText:"/hide",nextText:"/hide"}],ref_key:"appContentRef",ref:n},{["stage-picking"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:(0,l.R1)(s)},null,8,["tree"]),(0,l.Lk)("div",{class:"stage-buttons"},[(0,l.Lk)("button",{class:"go-button",onClick:k},"Go")]),(0,l.bF)(Te.A,{tree:(0,l.R1)(i)},null,8,["tree"]),(0,l.bF)(Ce,{tabs:[{label:"Picking",value:0},{label:"GI",value:1}],"initial-active-tab":1,onTabSelected:w,class:"reverse hide-bottom-line"}),0==T.value?((0,l.uX)(),(0,l.Wv)(Te.A,{key:0,tree:(0,l.R1)(u)},(0,l.eX)({_:2},[(0,l.pI)((0,l.R1)(u).findNodeByPath(["items"])?.children?.length||0,e=>({name:`deliveryItems-items-${e-1}-details--wrapper`,fn:(0,l.k6)(({currentNode:e,allProps:t})=>[(0,l.Lk)("button",{class:"details-button",onClick:a=>m(e,t.nodePath,t.varTree)}," > ",8,ql)])}))]),1032,["tree"])):((0,l.uX)(),(0,l.CE)("div",{key:P.value,class:"gi-summary-table-container"},[(0,l.Lk)("table",Jl,[(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,[t[0]||(t[0]=(0,l.Lk)("span",{class:"gi-summary-key"},"Status:",-1)),t[1]||(t[1]=(0,l.eW)()),(0,l.Lk)("span",jl,(0,l.v_)(S.value.status),1)]),(0,l.Lk)("td",null,[t[2]||(t[2]=(0,l.Lk)("span",{class:"gi-summary-key"},"Planned GI Date:",-1)),t[3]||(t[3]=(0,l.eW)()),(0,l.Lk)("span",Yl,(0,l.v_)(S.value.plannedGIDate),1)]),(0,l.Lk)("td",null,[t[4]||(t[4]=(0,l.Lk)("span",{class:"gi-summary-key"},"Ship-To Party:",-1)),t[5]||(t[5]=(0,l.eW)()),(0,l.Lk)("span",$l,(0,l.v_)(S.value.shipToParty),1)])]),(0,l.Lk)("tr",null,[t[10]||(t[10]=(0,l.Lk)("td",null,null,-1)),(0,l.Lk)("td",null,[t[6]||(t[6]=(0,l.Lk)("span",{class:"gi-summary-key"},"Gross Weight:",-1)),t[7]||(t[7]=(0,l.eW)()),(0,l.Lk)("span",zl,(0,l.v_)(S.value.grossWeight),1)]),(0,l.Lk)("td",null,[t[8]||(t[8]=(0,l.Lk)("span",{class:"gi-summary-key"},"Address:",-1)),t[9]||(t[9]=(0,l.eW)()),(0,l.Lk)("span",Hl,(0,l.v_)(S.value.address),1)])]),(0,l.Lk)("tr",null,[t[13]||(t[13]=(0,l.Lk)("td",null,null,-1)),(0,l.Lk)("td",null,[t[11]||(t[11]=(0,l.Lk)("span",{class:"gi-summary-key"},"Net Weight:",-1)),t[12]||(t[12]=(0,l.eW)()),(0,l.Lk)("span",Zl,(0,l.v_)(S.value.netWeight),1)])]),(0,l.Lk)("tr",null,[t[16]||(t[16]=(0,l.Lk)("td",null,null,-1)),(0,l.Lk)("td",null,[t[14]||(t[14]=(0,l.Lk)("span",{class:"gi-summary-key"},"Volume:",-1)),t[15]||(t[15]=(0,l.eW)()),(0,l.Lk)("span",eo,(0,l.v_)(S.value.volume),1)])]),(0,l.Lk)("tr",null,[t[19]||(t[19]=(0,l.Lk)("td",null,null,-1)),(0,l.Lk)("td",null,[t[17]||(t[17]=(0,l.Lk)("span",{class:"gi-summary-key"},"Priority:",-1)),t[18]||(t[18]=(0,l.eW)()),(0,l.Lk)("span",to,(0,l.v_)(S.value.priority),1)])])])])]))]),["stage-itemDetail"]:(0,l.k6)(()=>[(0,l.Lk)("div",ao,[(0,l.Lk)("div",no,[t[20]||(t[20]=(0,l.Lk)("h2",null,"Item Detail",-1)),(0,l.Lk)("div",lo,"Item: "+(0,l.v_)(v.value[g.value]?.getValue()?.item||""),1)]),(0,l.bF)(Te.A,{tree:(0,l.R1)(d),onEnterFromNode:b,onInputFromNode:V},null,8,["tree"])])]),["footer-content-right"]:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(n.value?.getCurrentStageName())+" ",1),0==n.value?.currentStage?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"next-button",onClick:A}," Post ")):(0,l.Q3)("",!0),(0,l.RG)(e.$slots,"extra-bottom-elements"),1==n.value?.currentStage?((0,l.uX)(),(0,l.CE)("div",oo,[(0,l.Lk)("button",{class:"cancel-button",onClick:C},"Cancel"),(0,l.Lk)("button",{class:"save-button",onClick:L},"Save")])):(0,l.Q3)("",!0)]),_:2},1536))}});const io=(0,f.A)(so,[["__scopeId","data-v-6486854e"]]);var ro=io,co=(0,l.pM)({__name:"Pick",setup(e){return(e,t)=>((0,l.uX)(),(0,l.Wv)(ro))}});const uo=co;var po=uo;const fo={class:"delivery-list-section"},vo=["onClick"];var go=(0,l.pM)({__name:"ManageMain",setup(e,{expose:t}){const a=window.API_BASE_URL||"",n=(0,l.KR)(null);t({});const o=(0,l.KR)(!1),s=(0,l.KR)("");function i(){s.value&&(o.value=!0)}async function r(){o.value=!1,await p()}const c=(0,l.EW)(()=>(d.forceUpdateKey.value,d.findNodeByPath(["deliveryList"])?.children?.length||0)),u=(0,we.$e)((0,we.fV)("dict","dict","initialScreen",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","overallStatus","",!1,{},[],"Overall Status:"),(0,we.fV)("string","leaf","createdBy","",!1,{},[],"Created By:")])),d=(0,we.$e)((0,we.fV)("dict","dict","deliveries",{},!1,{hideLabel:!0},[(0,we.fV)("dynamiclist","list","deliveryList",null,!0,{hideLabel:!0,rowProvided:1,childTemplate:(0,we.fV)("dict","dict","delivery",null,!1,{},[(0,we.fV)("string","leaf","outboundDelivery","",!0,{},[],"Outbound Delivery"),(0,we.fV)("date","leaf","pickingDate","",!0,{},[],"Picking Date"),(0,we.fV)("string","leaf","pickingStatus","",!0,{},[],"Picking Status"),(0,we.fV)("string","leaf","giStatus","",!0,{},[],"GI Status"),(0,we.fV)("string","leaf","pick","",!1,{},[],"Pick")])},[],"Deliveries")]));async function p(){const e=await fetch(`${a}/api/app/outbound-delivery/get-deliveries-summary`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("获取出库交货单失败:",e),{success:!1}));return console.log("返回的数据",e),!(!e.success||!e.data.deliveries)&&(d.forceSetValue({deliveryList:e.data.deliveries}),d.forceUpdate(),!0)}async function f(){await p()}async function v(e,t,a){console.log("path:",t);const n=t.length;if(!(n>1&&"pick"==t[n-1]))return;const l=a.findNodeByPath(t.slice(0,n-1));s.value=l.findNodeByPath(["outboundDelivery"])?.getValue(),i()}async function g(){const e=d.findNodeByPath(["deliveryList"])?.getSelectedChildren()||[],t=e.map(e=>e.findNodeByPath(["outboundDelivery"])?.getValue()),l=await fetch(`${a}/api/app/outbound-delivery/post-gis-by-id`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deliveryIds:t})}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("Post GIs失败:",e),{success:!1}));if(console.log("返回的数据",l),l.success&&l.data&&l.data.breakdowns){if(l.data.breakdowns.length>0){const e=d.findNodeByPath(["deliveryList"])?.getSelectedChildren()||[];e.forEach((e,t)=>{e.forceSetValue(l.data.breakdowns[t])}),d.findNodeByPath(["deliveryList"])?.children.forEach(e=>{e.setSelection(!1)}),d.forceUpdate(),n.value.footerMessage="Post GIs成功"}}else n.value.footerMessage="Post GIs失败: "+(l.message||"未知错误")}async function m(e,t){if(1===e){const e=confirm("Cancel?");return e&&(n.value.footerMessage=""),e}return!0}async function h(e,t){return console.log("try: stage change:",e,"->",t),!1}return(e,t)=>o.value?((0,l.uX)(),(0,l.Wv)(ro,{key:0,pickingId:s.value},{"extra-bottom-elements":(0,l.k6)(()=>[(0,l.Lk)("button",{class:"cancel-button",onClick:r},"Back to Manage")]),_:1},8,["pickingId"])):((0,l.uX)(),(0,l.Wv)(Ot.A,{key:1,stages:["manageDeliveries"],"before-next":h,"before-prev":m,"footer-config":[{nextText:"/hide"}],ref_key:"appContentRef",ref:n},{["stage-manageDeliveries"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:(0,l.R1)(u)},null,8,["tree"]),(0,l.Lk)("div",{class:"stage-buttons"},[(0,l.Lk)("button",{class:"go-button",onClick:f},"Go")]),(0,l.Lk)("div",fo,[(0,l.bF)(Te.A,{tree:(0,l.R1)(d)},(0,l.eX)({_:2},[(0,l.pI)(c.value,e=>({name:`deliveries-deliveryList-${e-1}-pick--wrapper`,fn:(0,l.k6)(({currentNode:e,allProps:t})=>[(0,l.Lk)("button",{class:"pick-button",onClick:a=>v(e,t.nodePath,t.varTree)}," Pick ",8,vo)])}))]),1032,["tree"])])]),["footer-content-right"]:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(n.value?.getCurrentStageName())+" ",1),0==n.value?.currentStage?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"nav-button next-button",onClick:g}," Post GIs ")):(0,l.Q3)("",!0)]),_:2},1536))}});const mo=(0,f.A)(go,[["__scopeId","data-v-b4bf7128"]]);var ho=mo,yo=(0,l.pM)({__name:"Manage",setup(e){return(e,t)=>((0,l.uX)(),(0,l.Wv)(ho))}});const ko=yo;var Ao=ko;const bo=["disabled"];var Vo=(0,l.pM)({__name:"Main",setup(e,{expose:t}){const a=window.API_BASE_URL||"",n=(0,l.KR)(null),o=(0,l.KR)("create"),s=(0,l.EW)(()=>"create"===o.value),i=(0,l.EW)(()=>"change"===o.value),r=(0,l.EW)(()=>"display"===o.value);function c(e){o.value=e;let t="display"===e;h.forEach(e=>{e.root.readonly=t}),n.value&&n.value.forceUpdate()}const u=(0,l.EW)(()=>s.value?"Continue":i.value||r.value?"Execute":"/hide"),d=(0,l.EW)(()=>s.value||i.value||r.value?"Cancel":"/hide"),p=(0,l.EW)(()=>s.value?"Create":i.value?"Save":r.value?"Switch to Change":"/hide");t({appToState:c});const f=(0,we.$e)((0,we.fV)("dict","dict","initialScreen",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","billingDueList",{},!1,{hideLabel:!0},[(0,we.fV)("date","leaf","billingDate","",!1,{},[],"Billing Date:"),(0,we.fV)("string","leaf","soldToParty","",!1,{searchMethods:Se.yF},[],"Sold-To Party:")])])),v=(0,we.$e)((0,we.fV)("dict","dict","initialScreen",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","billingDocumentId","",!1,{searchMethods:Se.C},[],"Billing Document:")])),g=(0,we.$e)((0,we.fV)("dict","dict","billingData",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","meta",{},!1,{hideSelf:!0},[(0,we.fV)("string","leaf","id","",!1,{},[])]),(0,we.fV)("dict","dict","basicInfo",{},!1,{hideLabel:!0,hideList:["type","netValueUnit"]},[(0,we.fV)("selection","leaf","type","",!1,{options:["Invoice"],hideLabel:!0},[]," "),(0,we.fV)("string","leaf","id","",!1,{},[]," "),(0,we.fV)("string","leaf","netValue","",!1,{},[],"Net Value: "),(0,we.fV)("string","leaf","netValueUnit","",!1,{hideLabel:!0},[]," "),(0,we.fV)("string","leaf","payer","",!1,{},[],"Payer: "),(0,we.fV)("date","leaf","billingDate","",!1,{},[],"Billing Date: ")]),(0,we.fV)("dict","dict","itemOverview",{},!1,{},[],"Item Overview")])),m=jn({validationEndpoint:"/api/app/billing/items-tab-query",readonly:!1,navigationLabels:{cancel:"Cancel",save:"Save",previous:"← Previous",next:"Next →"}});m.summonItemsNode(g,["itemOverview","items"]);const h=[g],y=(0,l.KR)(!1);async function k(){const e=await fetch(`${a}/api/app/billing/initialize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("申请失败:",e),{success:!1}));return console.log("返回的数据",e),y.value=e.success,!!e.success&&(e.data.content&&g.forceSetValue(e.data.content),!!y.value)}async function A(){const e=await fetch(`${a}/api/app/billing/get`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("申请失败:",e),{success:!1}));if(console.log("返回的数据",e),!e.success)return!1;if(!e.data.content)return!1;const t=e.data.content;return g.forceSetValue(t),!0}async function b(e,t){}async function V(e,t){}async function L(e,t){if(1===e){const e=confirm("Cancel?");return e&&(n.value.footerMessage=""),e}return!0}async function C(e,t){if(console.log("try: stage change:",e,"->",t),0===e){if(s.value)return await k();if(i.value||r.value){const e=await A();return console.log("初始化结果",e),e}return!1}if(1===e){if(r.value)return console.log("切换到修改状态"),c("change"),!1;if(s.value||i.value){console.log(g.getValue());const e=await fetch(`${a}/api/app/billing/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g.getValue())}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("创建开票凭证失败:",e),{success:!1}));console.log("返回的数据",e),e.success&&(n.value.footerMessage=e.data.message,e.data.content&&g.forceSetValue(e.data.content),c("display"))}return!1}return!1}function T(e){console.log("Item condition validation success:",e)}function w(e){console.log("Item condition validation failed:",e)}function S(){console.log("Item condition save"),n.value.goToStage(1)}function P(){console.log("Item condition cancel"),n.value.goToStage(1)}async function D(){const e=g.findNodeByPath(["itemOverview","items"]),t=[...e.getSelectedChildren()];if(t&&t.length>0){const e=t.filter(e=>!0!==e.config.data?.validation);e.length>0&&console.log("发现未验证的items，正在验证..."),n.value.goToStage(2)}else console.log("没有选中任何物品。")}return(e,t)=>((0,l.uX)(),(0,l.Wv)(Ot.A,{stages:["initialScreen","information","itemCondition"],"before-next":C,"before-prev":L,"after-next":b,"after-prev":V,"footer-config":[{nextText:u.value},{prevText:d.value,nextText:p.value},{prevText:"Back",nextText:"/hide"}],ref_key:"appContentRef",ref:n},{["stage-initialScreen"]:(0,l.k6)(()=>[s.value?((0,l.uX)(),(0,l.Wv)(Te.A,{key:0,tree:(0,l.R1)(f)},null,8,["tree"])):(0,l.Q3)("",!0),r.value||i.value?((0,l.uX)(),(0,l.Wv)(Te.A,{key:1,tree:(0,l.R1)(v)},null,8,["tree"])):(0,l.Q3)("",!0)]),["stage-information"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:(0,l.R1)(g)},{["billingData-basicInfo-netValue--extra"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:(0,l.R1)(g),path:["basicInfo","netValueUnit"]},null,8,["tree"])]),["billingData-basicInfo-id--var-label"]:(0,l.k6)(()=>[(0,l.bF)(Te.A,{tree:(0,l.R1)(g),path:["basicInfo","type"]},null,8,["tree"])]),["billingData-itemOverview-items--extra-buttons"]:(0,l.k6)(()=>[(0,l.Lk)("button",{class:"execute-button table-extra-button",onClick:D,disabled:0===(0,l.R1)(g).findNodeByPath(["itemOverview","items"])?.getSelectedChildren().length}," ... ",8,bo)]),_:2},1032,["tree"])]),"stage-itemCondition":(0,l.k6)(()=>[(0,l.bF)(nl,{kit:(0,l.R1)(m),config:{navigationLabels:{cancel:"Cancel",save:"Save",previous:"← Previous",next:"Next →"}},onValidationSuccess:T,onValidationFailed:w,onSave:S,onCancel:P},{"footer-content-right":(0,l.k6)(()=>[(0,l.RG)(e.$slots,"footer-content-right")]),_:3},8,["kit"])]),["footer-content-right"]:(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(n.value?.getCurrentStageName()),1)]),_:2},1032,["footer-config"]))}});const Lo=(0,f.A)(Vo,[["__scopeId","data-v-482b3c4e"]]);var Co=Lo,To=(0,l.pM)({__name:"Create",setup(e){const t=(0,l.KR)(null);return(0,l.sV)(()=>{t.value&&t.value.appToState("create")}),(e,a)=>((0,l.uX)(),(0,l.Wv)(Co,{ref_key:"mainRef",ref:t},null,512))}});const wo=To;var So=wo,Po=(0,l.pM)({__name:"Display",setup(e){const t=(0,l.KR)(null);return(0,l.sV)(()=>{t.value&&t.value.appToState("display")}),(e,a)=>((0,l.uX)(),(0,l.Wv)(Co,{ref_key:"mainRef",ref:t},null,512))}});const Do=Po;var Io=Do,xo=(0,l.pM)({__name:"Change",setup(e){const t=(0,l.KR)(null);return(0,l.sV)(()=>{t.value&&t.value.appToState("change")}),(e,a)=>((0,l.uX)(),(0,l.Wv)(Co,{ref_key:"mainRef",ref:t},null,512))}});const Eo=xo;var Bo=Eo;const Ro={style:{"text-align":"center","margin-top":"50px"}};function No(e,t){return(0,l.uX)(),(0,l.CE)("div",Ro,t[0]||(t[0]=[(0,l.Lk)("h2",null,"我们也没有办法",-1),(0,l.Lk)("p",null,"您重新注册一个吧！",-1)]))}const Qo={},Mo=(0,f.A)(Qo,[["render",No]]);var Uo=Mo;const Fo={class:"manageSalesQuotations"},Ko={key:2,class:"search-results-table-container"},Oo=["onClick"],Xo={key:3},Wo={key:1,class:"no-data-message"},_o={key:0,class:"modal-overlay"},Go={class:"modal-content"},qo={class:"input-group"};var Jo=(0,l.pM)({__name:"manageSalesQuotations",setup(e,{expose:t}){const a=()=>{o.value=!1,s.value="",C("search")},n=async()=>{if(s.value.trim())try{const e=window.API_BASE_URL||"http://localhost:3000",t=await fetch(`${e}/api/quotation/create-quotation-from-inquiry`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inquiryId:s.value})}),a=await t.json();a.success?(alert(`报价单创建成功！新报价单 ID: ${a.data.quotationData.basicInfo.quotation||"未知"}`),o.value=!1,s.value="",a.data&&a.data.quotationData&&a.data.quotationData.basicInfo?(v.forceSetValue(a.data.quotationData),f.value.goToStage(1),C("create")):(C("search"),alert("可以尝试刷新一下"))):alert(`创建报价单失败: ${a.message||"未知错误"}`)}catch(e){console.error("创建报价单请求失败:",e),alert("创建报价单时发生网络错误或服务器异常。")}else alert("请输入 Inquiry ID！")},o=(0,l.KR)(!1),s=(0,l.KR)(""),i=(0,l.KR)("search"),r=(0,l.EW)(()=>"create"===i.value),c=(0,l.EW)(()=>"change"===i.value),u=(0,l.EW)(()=>"display"===i.value),d=(0,l.EW)(()=>"search"===i.value),p="http://localhost:3000",f=(0,l.KR)(null),v=(0,we.$e)((0,we.fV)("dict","dict","quotationData",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","meta",{},!1,{hideSelf:!0},[(0,we.fV)("string","leaf","id","",!1,{},[])]),(0,we.fV)("dict","dict","basicInfo",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","quotation","",!1,{},[],"Quotation ID:"),(0,we.fV)("string","leaf","soldToParty","",!1,{},[],"Sold-To Party:"),(0,we.fV)("string","leaf","shipToParty","",!1,{},[],"Ship-To Party:"),(0,we.fV)("string","leaf","customerReference","",!1,{},[],"Cust. Reference:"),(0,we.fV)("string","leaf","netValue","0.0",!0,{},[],"Net Value:"),(0,we.fV)("string","leaf","netValueUnit","",!0,{hideLabel:!0},[],"Net Value Unit:"),(0,we.fV)("date","leaf","customerReferenceDate","",!1,{},[],"Cust. Ref. Date:")]),(0,we.fV)("dict","dict","itemOverview",{},!1,{},[(0,we.fV)("date","leaf","validFrom","",!1,{},[],"Valid From:"),(0,we.fV)("date","leaf","validTo","",!1,{},[],"Valid To:"),(0,we.fV)("date","leaf","reqDelivDate","",!1,{},[],"Req. Deliv Date:"),(0,we.fV)("string","leaf","expectOralVal","0.0",!0,{},[],"Expect. Oral Val:"),(0,we.fV)("string","leaf","expectOralValUnit","",!0,{hideLabel:!0},[],"Expect. Oral Val Unit:")],"Item Overview")])),g=jn({validationEndpoint:"/api/app/sales-quotation/items-tab-query",readonly:!1,navigationLabels:{cancel:"Cancel",save:"Save",previous:"← Previous",next:"Next →"}});g.summonItemsNode(v,["itemOverview","items"]);const m=(0,l.KR)(null),h=(0,l.KR)(null),y=((0,l.KR)(null),(0,we.$e)((0,we.fV)("dict","dict","query",{},!1,{},[(0,we.fV)("number","leaf","salesQuotation","",!1,{searchMethods:Se.mS},[],"Sales Quotation:"),(0,we.fV)("string","leaf","soldToParty","",!1,{searchMethods:Se.bk},[],"Sold-To Party:"),(0,we.fV)("string","leaf","customerReference","",!1,{},[],"Customer Reference:"),(0,we.fV)("selection","leaf","overallStatus","",!1,{options:["New","Open","In Process","Completed"]},[],"Overall Status:"),(0,we.fV)("date","leaf","latestExpiration","",!1,{},[],"Latest Expiration:")]))),k=(0,we.$e)((0,we.fV)("dict","dict","quotationData",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","meta",{},!1,{hideSelf:!0},[(0,we.fV)("string","leaf","id","",!1,{},[])]),(0,we.fV)("dict","dict","basicInfo",{},!1,{hideLabel:!0},[(0,we.fV)("string","leaf","quotation","",!0,{searchMethods:Se.mS},[],"Quotation ID:"),(0,we.fV)("string","leaf","soldToParty","",!1,{searchMethods:Se.bk},[],"Sold-To Party:"),(0,we.fV)("string","leaf","shipToParty","",!1,{searchMethods:Se.bk},[],"Ship-To Party:"),(0,we.fV)("string","leaf","customerReference","",!1,{},[],"Cust. Reference:"),(0,we.fV)("string","leaf","netValue","0.0",!0,{},[],"Net Value:"),(0,we.fV)("string","leaf","netValueUnit","",!0,{hideLabel:!0},[],"Net Value Unit:"),(0,we.fV)("date","leaf","customerReferenceDate","",!1,{},[],"Cust. Ref. Date:")]),(0,we.fV)("dict","dict","itemOverview",{},!1,{},[(0,we.fV)("date","leaf","validFrom","",!1,{},[],"Valid From:"),(0,we.fV)("date","leaf","validTo","",!1,{},[],"Valid To:"),(0,we.fV)("date","leaf","reqDelivDate","",!1,{},[],"Req. Deliv Date:"),(0,we.fV)("string","leaf","expectOralVal","0.0",!0,{},[],"Expect. Oral Val:"),(0,we.fV)("string","leaf","expectOralValUnit","",!0,{hideLabel:!0},[],"Expect. Oral Val Unit:")],"Item Overview")])),A=(0,we.bM)((0,we.fV)("dynamiclist","list","items",null,!1,{hideLabel:!0,hideList:["netValue","netValueUnit","pricingDate","orderProbability","reqDelivDate","taxValue","taxValueUnit","pricingElements"],childTemplate:(0,we.fV)("dict","dict","item",null,!1,{},[(0,we.fV)("string","leaf","item","",!0,{},[],"Item"),(0,we.fV)("string","leaf","material","",!1,{},[],"Material"),(0,we.fV)("string","leaf","orderQuantity","",!1,{},[],"Order Quantity"),(0,we.fV)("string","leaf","orderQuantityUnit","",!1,{hideLabel:!0},[],"SU"),(0,we.fV)("string","leaf","description","",!1,{},[],"Description"),(0,we.fV)("date","leaf","reqDelivDate","",!1,{},[],"Req. Deliv Date"),(0,we.fV)("string","leaf","netValue","",!0,{},[],"Net: "),(0,we.fV)("string","leaf","netValueUnit","",!0,{hideLabel:!0},[],"Net Value Unit"),(0,we.fV)("string","leaf","taxValue","",!0,{},[],"Tax: "),(0,we.fV)("string","leaf","taxValueUnit","",!0,{hideLabel:!0},[],"Tax Value Unit"),(0,we.fV)("date","leaf","pricingDate","",!1,{},[],"Pricing Date"),(0,we.fV)("string","leaf","orderProbability","",!1,{},[],"Order Probability"),(0,we.fV)("dynamiclist","list","pricingElements",null,!0,{rowProvided:0,childTemplate:(0,we.fV)("dict","dict","condition",null,!1,{},[(0,we.fV)("string","leaf","cnty","",!1,{},[],"Cnty"),(0,we.fV)("string","leaf","name","",!1,{},[],"Name"),(0,we.fV)("string","leaf","amount","",!1,{},[],"Amount"),(0,we.fV)("string","leaf","city","",!1,{},[],"City"),(0,we.fV)("string","leaf","per","",!1,{},[],"per"),(0,we.fV)("string","leaf","uom","",!1,{},[],"UoM"),(0,we.fV)("string","leaf","conditionValue","",!1,{},[],"Condition Value"),(0,we.fV)("string","leaf","curr","",!1,{},[],"Curr."),(0,we.fV)("string","leaf","status","",!1,{},[],"Status"),(0,we.fV)("string","leaf","numC","",!1,{},[],"NumC"),(0,we.fV)("string","leaf","atoMtsComponent","",!1,{},[],"ATO/MTS Component"),(0,we.fV)("string","leaf","oun","",!1,{},[],"OUn"),(0,we.fV)("string","leaf","cconDe","",!1,{},[],"CConDe"),(0,we.fV)("string","leaf","un","",!1,{},[],"Un"),(0,we.fV)("string","leaf","conditionValue2","",!1,{},[],"Condition Value"),(0,we.fV)("string","leaf","cdCur","",!1,{},[],"CdCur"),(0,we.fV)("boolean","leaf","stat",!1,!1,{},[],"Stat")])},[],"Pricing Elements")])},[],"Items")),b=k.findNodeByPath(["itemOverview"]);function V(e){if(!e)return"";switch(e.toLowerCase()){case"new":return"status-new";case"open":return"status-open";case"in process":return"status-in-process";case"completed":return"status-completed";default:return""}}function L(e){if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function C(e){i.value=e;const t="display"===e;v.root&&(v.root.readonly=t)}b&&(A.name="items",b.addChild(A));const T=(0,l.EW)(()=>r.value?"Create New":d.value?"Search":"/hide"),w=(0,l.EW)(()=>u.value?"Back to Search":"Cancel"),S=(0,l.EW)(()=>u.value?"Switch to Edit":c.value?"Save Changes":r.value?"Submit Quotation":"/hide");async function P(e){try{const t=await fetch(`${p}/api/quotation/details`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({salesQuotationId:e})}).then(e=>e.json());return t.success?t:(console.error("API responded with an error:",t.message),null)}catch(t){return console.error("Error fetching quotation details:",t),null}}async function D(e){const t=await P(e.salesQuotation);if(t){const e=t.data.quotationData;v.forceSetValue(e),console.log("更新后的 quotationDataTree:",v.root),f.value.goToStage(1),C("display")}else alert("无法获取报价单详情或数据格式不正确！")}async function I(){const e=y.root?.currentValue;try{const t=await fetch(`${p}/api/quotation/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json());console.log("API Response:",t);const a=(0,we.sm)(t.data?.quotationStruct);if(console.log("isNodeStructure result:",a),t.success&&a){const e=t.data.quotationStruct.currentValue;let a=[];Array.isArray(e)?a=e:e&&"object"===typeof e&&(a=[e]),m.value=a,h.value=t.data.quotationStruct,alert(`查询成功，共找到 ${a.length} 条报价单！`)}else alert("未找到报价单信息!"),m.value=null,h.value=null}catch(t){console.error("An error occurred during search:",t),alert("请求失败，请检查网络或服务器")}}async function x(){return o.value=!0,!1}async function E(e,t){if(console.log("handleExecute: stage change:",e,"->",t,"State:",i.value),0===e){if(r.value)return await x();if(d.value)return await I(),!1}if(1===e){if(u.value)return C("change"),f.value.footerMessage="已切换到修改模式",!1;if(c.value){const e={quotation:(0,l.ux)(v.root?.currentValue)},t=await fetch(`${p}/api/quotation/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json());if(t.success){f.value.footerMessage=`报价单${t.data.quotationData.basicInfo.quotation}更新成功!`;const e=t.data.quotationData;v.forceSetValue(e),C("display")}else alert("保存失败！"),f.value.footerMessage="保存失败！";return!1}if(r.value){const e={quotation:(0,l.ux)(v.root?.currentValue)},t=await fetch(`${p}/api/quotation/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()),a=t.data.quotationData;return t.success?(f.value.footerMessage=`新报价单${t.data.quotationData.basicInfo.quotation}创建成功!`,C("display"),v.forceSetValue(a)):(alert("创建失败！"),f.value.footerMessage="创建失败！"),!1}}return!1}async function B(e,t){if(console.log("handleCancel: stage change:",e,"->",t,"State:",i.value),0===e)return!0;if(1===e){if(u.value)return f.value.goToStage(0),C("search"),m.value=null,f.value.footerMessage="",!1;if(r.value||c.value){const e=confirm("确定要取消并放弃所有更改吗？");return e&&(f.value.goToStage(0),C("search"),m.value=null,f.value.footerMessage=""),!1}}return!0}const R=[{showPrev:!1,nextText:T},{showPrev:!0,prevText:w,nextText:S},{prevText:"/hide",nextText:"/hide"}];function N(e){console.log("Item condition validation success:",e)}function Q(e){console.log("Item condition validation failed:",e)}function M(){console.log("Item condition save"),f.value.goToStage(1)}function U(){console.log("Item condition cancel"),f.value.goToStage(1)}async function F(e){const t=e.map(e=>e.getValue()),a=await fetch(`${p}/api/quotation/items-tab-query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>(console.log("正常返回",e),e.json())).catch(e=>(console.error("批量查询失败:",e),{success:!1}));return console.log("返回的数据",a),!!a.success&&(v.findNodeByPath(["basicInfo","netValue"])?.setValue(a.data.generalData?.netValue),v.findNodeByPath(["basicInfo","netValueUnit"])?.setValue(a.data.generalData?.netValueUnit),v.findNodeByPath(["itemOverview","expectOralVal"])?.setValue(a.data.generalData?.expectOralVal),v.findNodeByPath(["itemOverview","expectOralValUnit"])?.setValue(a.data.generalData?.expectOralValUnit),a.data.breakdowns&&Array.isArray(a.data.breakdowns)&&a.data.breakdowns.forEach((t,a)=>{a<e.length&&(console.log("Breakdown data for item",a,":",t),t.pricingElements&&console.log("PricingElements structure:",t.pricingElements),e[a].forceSetValue(t))}),a.data.result&&Array.isArray(a.data.result.badRecordIndices)&&(e.forEach(e=>{e.config.data||(e.config.data={}),e.config.data.validation=!0}),a.data.result.badRecordIndices.forEach(t=>{t<e.length&&(e[t].config.data||(e[t].config.data={}),e[t].config.data.validation=!1)})),f.value.forceUpdate(),1===a.data.result.allDataLegal)}async function K(){const e=v.findNodeByPath(["itemOverview","items"]),t=[...e.getSelectedChildren()];if(t&&t.length>0){const e=t.filter(e=>!0!==e.config.data?.validation);if(e.length>0){console.log("发现未验证的items，正在验证...");const t=await F(e);if(!t)return void console.log("数据验证失败，无法进入详情页面")}f.value.goToStage(2)}else console.log("没有选中任何物品。")}return t({appToState:C}),(e,t)=>((0,l.uX)(),(0,l.CE)("div",Fo,[(0,l.bF)(Ot.A,{ref_key:"appContentRef",ref:f,stages:["initialScreen","quotationDetail","itemCondition"],"before-next":E,"before-prev":B,"footer-config":R},{"stage-initialScreen":(0,l.k6)(()=>[r.value?((0,l.uX)(),(0,l.Wv)(Te.A,{key:0,tree:(0,l.R1)(k)},null,8,["tree"])):d.value?((0,l.uX)(),(0,l.Wv)(Te.A,{key:1,tree:(0,l.R1)(y)},null,8,["tree"])):(0,l.Q3)("",!0),m.value&&m.value.length>0&&d.value?((0,l.uX)(),(0,l.CE)("div",Ko,[(0,l.Lk)("table",null,[t[3]||(t[3]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"Sales Quotation"),(0,l.Lk)("th",null,"Sold-To Party"),(0,l.Lk)("th",null,"Customer Reference"),(0,l.Lk)("th",null,"Overall Status"),(0,l.Lk)("th",null,"Latest Expiration"),(0,l.Lk)("th",null,"Actions")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(m.value,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.salesQuotation},[(0,l.Lk)("td",null,(0,l.v_)(e.salesQuotation),1),(0,l.Lk)("td",null,(0,l.v_)(e.soldToParty),1),(0,l.Lk)("td",null,(0,l.v_)(e.customerReference),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,l.C4)(["status-badge",V(e.overallStatus)])},(0,l.v_)(e.overallStatus),3)]),(0,l.Lk)("td",null,(0,l.v_)(L(e.latestExpiration)),1),(0,l.Lk)("td",null,[(0,l.Lk)("button",{class:"detail-btn",onClick:t=>D(e)},"View Details",8,Oo)])]))),128))])])])):d.value?((0,l.uX)(),(0,l.CE)("div",Xo,t[4]||(t[4]=[(0,l.Lk)("p",null,"请点击“search”按钮查询报价单。",-1)]))):(0,l.Q3)("",!0)]),"stage-quotationDetail":(0,l.k6)(()=>[(0,l.R1)(v).root?((0,l.uX)(),(0,l.Wv)(Te.A,{key:0,tree:(0,l.R1)(v)},{["quotationData-itemOverview-items--extra-buttons"]:(0,l.k6)(()=>[(0,l.Lk)("button",{class:"execute-button table-extra-button",onClick:t[0]||(t[0]=e=>K())}," ... ")]),_:2},1032,["tree"])):((0,l.uX)(),(0,l.CE)("div",Wo,t[5]||(t[5]=[(0,l.Lk)("p",null,"没有找到报价单详情。",-1)])))]),"stage-itemCondition":(0,l.k6)(()=>[(0,l.bF)(nl,{kit:(0,l.R1)(g),config:{navigationLabels:{cancel:"Cancel",save:"Save",previous:"← Previous",next:"Next →"}},onValidationSuccess:N,onValidationFailed:Q,onSave:M,onCancel:U},{"footer-content-right":(0,l.k6)(()=>[(0,l.RG)(e.$slots,"footer-content-right")]),_:3},8,["kit"])]),"footer-content-right":(0,l.k6)(()=>[(0,l.eW)((0,l.v_)(f.value?.getCurrentStageName())+" ",1),0===f.value?.currentStage?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[d.value?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"nav-button next-button",onClick:t[1]||(t[1]=e=>x())},"Create New")):(0,l.Q3)("",!0)],64)):(0,l.Q3)("",!0),2==f.value?.currentStage?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[],64)):(0,l.Q3)("",!0)]),_:3},512),o.value?((0,l.uX)(),(0,l.CE)("div",_o,[(0,l.Lk)("div",Go,[(0,l.Lk)("div",qo,[t[6]||(t[6]=(0,l.Lk)("label",{for:"inquiryIdInput"},"请输入 Inquiry ID:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"inquiryIdInput","onUpdate:modelValue":t[2]||(t[2]=e=>s.value=e),placeholder:"例如: INQ-2024-001"},null,512),[[l.Jo,s.value]])]),(0,l.Lk)("div",{class:"modal-actions"},[(0,l.Lk)("button",{onClick:n,class:"btn-primary"},"确认创建"),(0,l.Lk)("button",{onClick:a,class:"btn-secondary"},"取消")])])])):(0,l.Q3)("",!0)]))}});const jo=(0,f.A)(Jo,[["__scopeId","data-v-5c1bd36a"]]);var Yo=jo;const $o={class:"vartree-tutorial"},zo={class:"tutorial-content"},Ho={id:"basic-usage",class:"tutorial-section"},Zo={class:"example-container"},es={class:"demo-area"},ts={class:"example-container"},as={class:"demo-area"},ns={class:"example-container"},ls={class:"demo-area"},os={class:"example-container"},ss={class:"demo-area"},is={id:"simple-trees",class:"tutorial-section"},rs={class:"example-container"},cs={class:"demo-area"},us={class:"example-container"},ds={class:"demo-area"},ps={id:"complex-trees",class:"tutorial-section"},fs={class:"example-container"},vs={class:"demo-area"},gs={class:"example-container"},ms={class:"demo-area"},hs={id:"slots-usage",class:"tutorial-section"},ys={class:"example-container"},ks={class:"demo-area"},As=["onClick"],bs=["onClick"],Vs={class:"example-container"},Ls={class:"demo-area"},Cs={class:"custom-number-input"},Ts=["onClick"],ws=["value","onInput"],Ss=["onClick"],Ps={class:"example-container"},Ds={class:"demo-area"},Is={class:"custom-wrapper"},xs={class:"custom-label"},Es={class:"custom-content"},Bs=["value","onChange"],Rs={class:"example-container"},Ns={class:"demo-area"},Qs={class:"custom-date-input"},Ms=["value","onInput"],Us=["onClick"],Fs=["onClick"],Ks={id:"hooks-usage",class:"tutorial-section"},Os={class:"example-container"},Xs={class:"demo-area"},Ws={class:"example-container"},_s={class:"demo-area"},Gs={id:"css-deep",class:"tutorial-section"},qs={class:"example-container"},Js={class:"demo-area path-targeting-demo"},js={id:"grid-layout",class:"tutorial-section"},Ys={class:"example-container"},$s={class:"demo-area grid-basic-demo"},zs={class:"example-container"},Hs={class:"demo-area grid-complex-demo"},Zs={class:"example-container"},ei={class:"demo-area grid-slots-demo"},ti={id:"advanced-examples",class:"tutorial-section"},ai={class:"example-container"},ni={class:"result-container"},li={class:"result-box"},oi={class:"example-container"},si={class:"demo-area advanced-employee-demo"},ii=["onClick"],ri={class:"salary-input"},ci=["value","onInput"];var ui=(0,l.pM)({__name:"VarTreeTutorial",setup(e){const t={simpleString:(0,we.$e)((0,we.fV)("string","leaf","username","张三",!1,{},[],"用户名")),simpleNumber:(0,we.$e)((0,we.fV)("number","leaf","age",25,!1,{},[],"年龄")),simpleDate:(0,we.$e)((0,we.fV)("date","leaf","birthDate","1995-01-01",!1,{},[],"出生日期")),simpleSelection:(0,we.$e)((0,we.fV)("selection","leaf","gender","男",!1,{options:["男","女","其他"]},[],"性别"))},a={userInfo:(0,we.$e)((0,we.fV)("dict","dict","userInfo",{},!1,{},[(0,we.fV)("string","leaf","username","张三",!1,{},[],"用户名"),(0,we.fV)("number","leaf","age",25,!1,{},[],"年龄"),(0,we.fV)("string","leaf","email","zhang@example.com",!1,{},[],"邮箱"),(0,we.fV)("selection","leaf","gender","男",!1,{options:["男","女","其他"]},[],"性别")])),simpleList:(0,we.$e)((0,we.fV)("dynamiclist","list","hobbies",[],!1,{},[(0,we.fV)("string","leaf","","阅读",!1),(0,we.fV)("string","leaf","","游泳",!1),(0,we.fV)("string","leaf","","编程",!1)],"爱好列表"))},n={threeLevelDict:(0,we.$e)((0,we.fV)("dict","dict","company",{},!1,{},[(0,we.fV)("string","leaf","name","科技公司",!1,{},[],"公司名称"),(0,we.fV)("dict","dict","address",{},!1,{},[(0,we.fV)("string","leaf","country","中国",!1,{},[],"国家"),(0,we.fV)("string","leaf","city","北京",!1,{},[],"城市"),(0,we.fV)("dict","dict","detail",{},!1,{},[(0,we.fV)("string","leaf","street","中关村大街",!1,{},[],"街道"),(0,we.fV)("string","leaf","building","科技大厦",!1,{},[],"建筑物"),(0,we.fV)("number","leaf","floor",15,!1,{},[],"楼层")],"详细地址")],"地址信息")])),employeeProjects:(0,we.$e)((0,we.fV)("dict","dict","employee",{},!1,{},[(0,we.fV)("string","leaf","name","李四",!1,{},[],"员工姓名"),(0,we.fV)("dynamiclist","list","projects",[],!1,{},[(0,we.fV)("dict","dict","",{},!1,{},[(0,we.fV)("string","leaf","projectName","项目A",!1,{},[],"项目名称"),(0,we.fV)("date","leaf","startDate","2024-01-01",!1,{},[],"开始日期"),(0,we.fV)("date","leaf","endDate","2024-06-30",!1,{},[],"结束日期"),(0,we.fV)("selection","leaf","status","进行中",!1,{options:["未开始","进行中","已完成","已暂停"]},[],"状态")])],"项目列表")]))},o={extraSlot:(0,we.$e)((0,we.fV)("string","leaf","用户名","张三",!1,{},[],"用户名")),simpleSlot:(0,we.$e)((0,we.fV)("number","leaf","年龄",25,!1,{},[],"年龄")),wrapperSlot:(0,we.$e)((0,we.fV)("selection","leaf","性别","男",!1,{options:["男","女","其他"]},[],"性别")),dateSlot:(0,we.$e)((0,we.fV)("date","leaf","生日","1995-01-01",!1,{},[],"生日"))},s={customComponent:(0,we.$e)((0,we.fV)("string","leaf","customField","自定义值",!1,{customComponent:(0,l.IG)(Je)},[],"自定义字段")),validationHook:(0,we.$e)((0,we.fV)("string","leaf","email","test@example.com",!1,{customComponent:(0,l.IG)(Je),validators:[{creteria:e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},message:"请输入有效的邮箱地址"}]},[],"邮箱地址"))},i={customForm:(0,we.$e)((0,we.fV)("dict","dict","userInfo",{},!1,{},[(0,we.fV)("string","leaf","name","张三",!1,{},[],"姓名"),(0,we.fV)("string","leaf","email","zhang@example.com",!1,{},[],"邮箱"),(0,we.fV)("number","leaf","age",25,!1,{},[],"年龄")])),pathTargeting:(0,we.$e)((0,we.fV)("dict","dict","userInfo",{},!1,{},[(0,we.fV)("dict","dict","personalInfo",{},!1,{},[(0,we.fV)("string","leaf","name","李四",!1,{},[],"姓名"),(0,we.fV)("string","leaf","email","li@example.com",!1,{},[],"邮箱")],"个人信息"),(0,we.fV)("dict","dict","workInfo",{},!1,{},[(0,we.fV)("string","leaf","company","科技公司",!1,{},[],"公司"),(0,we.fV)("string","leaf","position","工程师",!1,{},[],"职位")],"工作信息")]))},r={basicGrid:(0,we.$e)((0,we.fV)("dict","dict","userInfo",{},!1,{},[(0,we.fV)("string","leaf","name","王五",!1,{},[],"姓名"),(0,we.fV)("string","leaf","email","wang@example.com",!1,{},[],"邮箱"),(0,we.fV)("number","leaf","age",30,!1,{},[],"年龄"),(0,we.fV)("string","leaf","phone","13800138000",!1,{},[],"电话"),(0,we.fV)("string","leaf","address","北京市朝阳区",!1,{},[],"地址"),(0,we.fV)("selection","leaf","gender","男",!1,{options:["男","女","其他"]},[],"性别")])),complexGrid:(0,we.$e)((0,we.fV)("dict","dict","userInfo",{},!1,{},[(0,we.fV)("string","leaf","name","赵六",!1,{},[],"姓名"),(0,we.fV)("string","leaf","email","zhao@example.com",!1,{},[],"邮箱"),(0,we.fV)("string","leaf","phone","13900139000",!1,{},[],"电话"),(0,we.fV)("number","leaf","age",28,!1,{},[],"年龄"),(0,we.fV)("string","leaf","address","上海市浦东新区",!1,{},[],"地址"),(0,we.fV)("selection","leaf","status","在职",!1,{options:["在职","离职","休假"]},[],"状态")])),gridWithSlots:(0,we.$e)((0,we.fV)("dict","dict","userInfo",{},!1,{},[(0,we.fV)("string","leaf","name","孙七",!1,{},[],"姓名"),(0,we.fV)("string","leaf","email","sun@example.com",!1,{},[],"邮箱")]))},c={testHideComplexNodes:(0,we.$e)((0,we.fV)("dict","dict","testRoot",null,!1,{hideList:["hiddenDict","hiddenList"],showWhiteList:["visibleDict","visibleList"]},[(0,we.fV)("dict","dict","visibleDict",null,!1,{},[(0,we.fV)("string","leaf","field1","value1",!1,{},[],"字段1")],"可见字典"),(0,we.fV)("dict","dict","hiddenDict",null,!1,{},[(0,we.fV)("string","leaf","field2","value2",!1,{},[],"字段2")],"隐藏字典"),(0,we.fV)("dynamiclist","list","visibleList",null,!1,{childTemplate:(0,we.fV)("string","leaf","item","",!1,{},[],"项目")},[],"可见列表"),(0,we.fV)("dynamiclist","list","hiddenList",null,!1,{childTemplate:(0,we.fV)("string","leaf","item","",!1,{},[],"项目")},[],"隐藏列表"),(0,we.fV)("dict","dict","selfHiddenDict",null,!1,{hideSelf:!0},[(0,we.fV)("string","leaf","field3","value3",!1,{},[],"字段3")],"自隐藏字典")],"测试根节点")),employeeForm:(0,we.$e)((0,we.fV)("dict","dict","employeeInfo",{},!1,{},[(0,we.fV)("dict","dict","basicInfo",{},!1,{},[(0,we.fV)("string","leaf","name","张三",!1,{},[],"姓名"),(0,we.fV)("selection","leaf","gender","男",!1,{options:["男","女","其他"]},[],"性别"),(0,we.fV)("date","leaf","birthDate","1990-01-01",!1,{},[],"出生日期"),(0,we.fV)("string","leaf","phone","13800138000",!1,{},[],"电话")],"基本信息"),(0,we.fV)("dict","dict","workInfo",{},!1,{},[(0,we.fV)("string","leaf","department","技术部",!1,{},[],"部门"),(0,we.fV)("string","leaf","position","高级工程师",!1,{},[],"职位"),(0,we.fV)("number","leaf","salary",15e3,!1,{},[],"薪资"),(0,we.fV)("date","leaf","hireDate","2020-01-01",!1,{},[],"入职日期")],"工作信息")]))},u=e=>{alert(`搜索: ${e.allProps.modelValue}`)},d=e=>{e.allProps.node&&(e.allProps.node.currentValue="")},p=e=>{if(e.allProps.node){const t=Number(e.allProps.node.currentValue)||0;e.allProps.node.currentValue=t+1}},f=e=>{if(e.allProps.node){const t=Number(e.allProps.node.currentValue)||0;e.allProps.node.currentValue=Math.max(0,t-1)}},v=(e,t)=>{const a=t.target;e.allProps.node&&(e.allProps.node.currentValue=Number(a.value))},g=(e,t)=>{const a=t.target;e.allProps.node&&(e.allProps.node.currentValue=a.value)},m=(e,t)=>{const a=t.target;e.allProps.node&&(e.allProps.node.currentValue=a.value)},h=e=>{if(e.allProps.node){const t=(new Date).toISOString().split("T")[0];e.allProps.node.currentValue=t}},y=e=>{e.allProps.node&&(e.allProps.node.currentValue="")},k=e=>{alert(`搜索员工: ${e.allProps.modelValue}`)},A=(e,t)=>{const a=t.target;e.allProps.node&&(e.allProps.node.currentValue=Number(a.value))},b=()=>{alert("员工信息已保存")},V=()=>{alert("表单已重置")},L=()=>{confirm("确定要删除这个员工吗？")&&alert("员工已删除")};return(e,C)=>((0,l.uX)(),(0,l.CE)("div",null,[C[63]||(C[63]=(0,l.Fv)('<nav class="tutorial-nav show-side--away" data-v-40018b34><h2 data-v-40018b34>教学目录</h2><ul data-v-40018b34><li data-v-40018b34><a href="#basic-usage" data-v-40018b34>1. 基础用法</a></li><li data-v-40018b34><a href="#simple-trees" data-v-40018b34>2. 简单树结构</a></li><li data-v-40018b34><a href="#complex-trees" data-v-40018b34>3. 复杂树结构</a></li><li data-v-40018b34><a href="#slots-usage" data-v-40018b34>4. 插槽用法详解</a></li><li data-v-40018b34><a href="#hooks-usage" data-v-40018b34>5. 钩子用法详解</a></li><li data-v-40018b34><a href="#css-deep" data-v-40018b34>6. Deep CSS 属性用法</a></li><li data-v-40018b34><a href="#grid-layout" data-v-40018b34>7. Grid 布局控制</a></li><li data-v-40018b34><a href="#advanced-examples" data-v-40018b34>8. 高级应用示例</a></li></ul></nav>',1)),(0,l.bF)(Ot.A,{stages:["tutorial"],hideBottomBar:!0},{"stage-tutorial":(0,l.k6)(()=>[(0,l.Lk)("div",$o,[(0,l.Lk)("div",zo,[(0,l.Lk)("section",Ho,[C[8]||(C[8]=(0,l.Lk)("h2",null,"1. 基础用法",-1)),C[9]||(C[9]=(0,l.Lk)("p",null,"VarTree是一个用于管理复杂数据结构的工具类，VarInput是对应的渲染组件。",-1)),(0,l.Lk)("div",Zo,[C[0]||(C[0]=(0,l.Lk)("h3",null,"1.1 最简单的字符串输入",-1)),C[1]||(C[1]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const simpleString = createTreeFromConfig(\n          cns('string', 'leaf', 'username', '张三', false, {}, [], '用户名')\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="simpleString" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 基础样式，无需额外定制 */\n        </style>")])])])],-1)),(0,l.Lk)("div",es,[(0,l.bF)(Te.A,{tree:t.simpleString},null,8,["tree"])])]),(0,l.Lk)("div",ts,[C[2]||(C[2]=(0,l.Lk)("h3",null,"1.2 数字输入",-1)),C[3]||(C[3]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const simpleNumber = createTreeFromConfig(\n          cns('number', 'leaf', 'age', 25, false, {}, [], '年龄')\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="simpleNumber" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 基础样式，无需额外定制 */\n        </style>")])])])],-1)),(0,l.Lk)("div",as,[(0,l.bF)(Te.A,{tree:t.simpleNumber},null,8,["tree"])])]),(0,l.Lk)("div",ns,[C[4]||(C[4]=(0,l.Lk)("h3",null,"1.3 日期输入",-1)),C[5]||(C[5]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const simpleDate = createTreeFromConfig(\n          cns('date', 'leaf', 'birthDate', '1995-01-01', false, {}, [], '出生日期')\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="simpleDate" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 基础样式，无需额外定制 */\n        </style>")])])])],-1)),(0,l.Lk)("div",ls,[(0,l.bF)(Te.A,{tree:t.simpleDate},null,8,["tree"])])]),(0,l.Lk)("div",os,[C[6]||(C[6]=(0,l.Lk)("h3",null,"1.4 选择输入",-1)),C[7]||(C[7]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const simpleSelection = createTreeFromConfig(\n          cns('selection', 'leaf', 'gender', '男', false, {\n            options: ['男', '女', '其他']\n          }, [], '性别')\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="simpleSelection" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 基础样式，无需额外定制 */\n        </style>")])])])],-1)),(0,l.Lk)("div",ss,[(0,l.bF)(Te.A,{tree:t.simpleSelection},null,8,["tree"])])])]),(0,l.Lk)("section",is,[C[14]||(C[14]=(0,l.Lk)("h2",null,"2. 简单树结构",-1)),C[15]||(C[15]=(0,l.Lk)("p",null,"展示如何构建包含多个字段的字典结构。",-1)),(0,l.Lk)("div",rs,[C[10]||(C[10]=(0,l.Lk)("h3",null,"2.1 用户信息表单",-1)),C[11]||(C[11]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        // 使用 cns 快速构建结构\n        const userInfo = createTreeFromConfig(\n          cns('dict', 'dict', 'userInfo', {}, false, {}, [\n            cns('string', 'leaf', 'username', '张三', false, {}, [], '用户名'),\n            cns('number', 'leaf', 'age', 25, false, {}, [], '年龄'),\n            cns('string', 'leaf', 'email', 'zhang@example.com', false, {}, [], '邮箱'),\n            cns('selection', 'leaf', 'gender', '男', false, {\n              options: ['男', '女', '其他']\n            }, [], '性别')\n          ])\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="userInfo" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 字典结构的基础样式 */\n        :deep(.userInfo--dict-header) {\n          background: #f8f9fa;\n          padding: 10px;\n          border-radius: 6px;\n          margin-bottom: 10px;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",cs,[(0,l.bF)(Te.A,{tree:a.userInfo},null,8,["tree"])])]),(0,l.Lk)("div",us,[C[12]||(C[12]=(0,l.Lk)("h3",null,"2.2 简单列表结构",-1)),C[13]||(C[13]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const simpleList = createTreeFromConfig(\n          cns('dynamiclist', 'list', 'hobbies', [], false, {}, [\n            cns('string', 'leaf', '', '阅读', false),\n            cns('string', 'leaf', '', '游泳', false),\n            cns('string', 'leaf', '', '编程', false)\n          ], '爱好列表')\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="simpleList" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 动态列表的样式 */\n        :deep(.hobbies--list-header) {\n          background: #e3f2fd;\n          padding: 10px;\n          border-radius: 6px;\n        }\n\n        :deep(.hobbies--list-item) {\n          margin: 5px 0;\n          padding: 8px;\n          border: 1px solid #e0e0e0;\n          border-radius: 4px;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",ds,[(0,l.bF)(Te.A,{tree:a.simpleList},null,8,["tree"])])])]),(0,l.Lk)("section",ps,[C[20]||(C[20]=(0,l.Lk)("h2",null,"3. 复杂树结构",-1)),C[21]||(C[21]=(0,l.Lk)("p",null,"展示多层嵌套的复杂数据结构。",-1)),(0,l.Lk)("div",fs,[C[16]||(C[16]=(0,l.Lk)("h3",null,"3.1 三层字典嵌套",-1)),C[17]||(C[17]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const threeLevelDict = createTreeFromConfig(\n          cns('dict', 'dict', 'company', {}, false, {}, [\n            cns('string', 'leaf', 'name', '科技公司', false, {}, [], '公司名称'),\n            cns('dict', 'dict', 'address', {}, false, {}, [\n              cns('string', 'leaf', 'country', '中国', false, {}, [], '国家'),\n              cns('string', 'leaf', 'city', '北京', false, {}, [], '城市'),\n              cns('dict', 'dict', 'detail', {}, false, {}, [\n                cns('string', 'leaf', 'street', '中关村大街', false, {}, [], '街道'),\n                cns('string', 'leaf', 'building', '科技大厦', false, {}, [], '建筑物'),\n                cns('number', 'leaf', 'floor', 15, false, {}, [], '楼层')\n              ], '详细地址')\n            ], '地址信息')\n          ])\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="threeLevelDict" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 多层嵌套的样式 */\n        :deep(.company--dict-header) {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n        }\n\n        :deep(.company-address--dict-header) {\n          background: #f0f8ff;\n          border-left: 4px solid #4a90e2;\n        }\n\n        :deep(.company-address-detail--dict-header) {\n          background: #fff3cd;\n          border-left: 4px solid #ffc107;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",vs,[(0,l.bF)(Te.A,{tree:n.threeLevelDict},null,8,["tree"])])]),(0,l.Lk)("div",gs,[C[18]||(C[18]=(0,l.Lk)("h3",null,"3.2 员工项目管理（复杂嵌套）",-1)),C[19]||(C[19]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const employeeProjects = createTreeFromConfig(\n          cns('dict', 'dict', 'employee', {}, false, {}, [\n            cns('string', 'leaf', 'name', '李四', false, {}, [], '员工姓名'),\n            cns('dynamiclist', 'list', 'projects', [], false, {}, [\n              cns('dict', 'dict', '', {}, false, {}, [\n                cns('string', 'leaf', 'projectName', '项目A', false, {}, [], '项目名称'),\n                cns('date', 'leaf', 'startDate', '2024-01-01', false, {}, [], '开始日期'),\n                cns('date', 'leaf', 'endDate', '2024-06-30', false, {}, [], '结束日期'),\n                cns('selection', 'leaf', 'status', '进行中', false, {\n                  options: ['未开始', '进行中', '已完成', '已暂停']\n                }, [], '状态')\n              ])\n            ], '项目列表')\n          ])\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="employeeProjects" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 员工项目管理的样式 */\n        :deep(.employee--dict-header) {\n          background: #28a745;\n          color: white;\n          padding: 12px;\n          border-radius: 8px;\n        }\n\n        :deep(.employee-projects--list-header) {\n          background: #17a2b8;\n          color: white;\n          padding: 10px;\n        }\n\n        :deep(.employee-projects--list-item) {\n          border: 2px solid #17a2b8;\n          border-radius: 8px;\n          margin: 10px 0;\n          padding: 15px;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",ms,[(0,l.bF)(Te.A,{tree:n.employeeProjects},null,8,["tree"])])])]),(0,l.Lk)("section",hs,[C[31]||(C[31]=(0,l.Lk)("h2",null,"4. 插槽用法详解",-1)),C[32]||(C[32]=(0,l.Lk)("p",null,"VarInput组件提供了多种插槽，允许你完全自定义组件的外观和行为。",-1)),(0,l.Lk)("div",ys,[C[22]||(C[22]=(0,l.Lk)("h3",null,"4.1 --extra 插槽：添加额外按钮",-1)),C[23]||(C[23]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const extraSlot = createTreeFromConfig(\n          cns('string', 'leaf', '用户名', '张三', false, {}, [], '用户名')\n        )\n\n        const handleSearch = (slotProps: any) => {\n          alert(`搜索: ${slotProps.allProps.modelValue}`)\n        }\n\n        const handleClear = (slotProps: any) => {\n          if (slotProps.allProps.node) {\n            slotProps.allProps.node.currentValue = ''\n          }\n        }\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="extraSlot">\n            <template #用户名--extra="slotProps">\n              <button\n                class="search-btn"\n                @click="handleSearch(slotProps)"\n              >\n                🔍 搜索\n              </button>\n              <button\n                class="clear-btn"\n                @click="handleClear(slotProps)"\n              >\n                ✖️ 清除\n              </button>\n            </template>\n          </VarBox>\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        .search-btn, .clear-btn {\n          margin-left: 8px;\n          padding: 6px 12px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 12px;\n          transition: background-color 0.3s ease;\n        }\n\n        .search-btn {\n          background: #28a745;\n          color: white;\n        }\n\n        .search-btn:hover {\n          background: #218838;\n        }\n\n        .clear-btn {\n          background: #dc3545;\n          color: white;\n        }\n\n        .clear-btn:hover {\n          background: #c82333;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",ks,[(0,l.bF)(Te.A,{tree:o.extraSlot},{"用户名--extra":(0,l.k6)(e=>[(0,l.Lk)("button",{class:"search-btn",onClick:t=>u(e)},"🔍 搜索",8,As),(0,l.Lk)("button",{class:"clear-btn",onClick:t=>d(e)},"✖️ 清除",8,bs)]),_:1},8,["tree"])])]),(0,l.Lk)("div",Vs,[C[24]||(C[24]=(0,l.Lk)("h3",null,"4.2 --simple 插槽：完全自定义输入组件",-1)),C[25]||(C[25]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const simpleSlot = createTreeFromConfig(\n          cns('number', 'leaf', '年龄', 25, false, {}, [], '年龄')\n        )\n\n        const increment = (slotProps: any) => {\n          if (slotProps.allProps.node) {\n            const currentValue = Number(slotProps.allProps.node.currentValue) || 0\n            slotProps.allProps.node.currentValue = currentValue + 1\n          }\n        }\n\n        const decrement = (slotProps: any) => {\n          if (slotProps.allProps.node) {\n            const currentValue = Number(slotProps.allProps.node.currentValue) || 0\n            slotProps.allProps.node.currentValue = Math.max(0, currentValue - 1)\n          }\n        }\n\n        const updateValue = (slotProps: any, event: Event) => {\n          const target = event.target as HTMLInputElement\n          if (slotProps.allProps.node) {\n            slotProps.allProps.node.currentValue = Number(target.value)\n          }\n        }\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="simpleSlot">\n            <template #年龄--simple="slotProps">\n              <div class="custom-number-input">\n                <button @click="decrement(slotProps)">-</button>\n                <input\n                  :value="slotProps.allProps.modelValue"\n                  @input="updateValue(slotProps, $event)"\n                  type="number"\n                  class="number-display"\n                />\n                <button @click="increment(slotProps)">+</button>\n              </div>\n            </template>\n          </VarBox>\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        .custom-number-input {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          padding: 4px;\n        }\n\n        .custom-number-input button {\n          width: 30px;\n          height: 30px;\n          border: none;\n          background: #007bff;\n          color: white;\n          border-radius: 4px;\n          cursor: pointer;\n          font-weight: bold;\n        }\n\n        .custom-number-input button:hover {\n          background: #0056b3;\n        }\n\n        .number-display {\n          width: 80px;\n          text-align: center;\n          border: none;\n          outline: none;\n          font-size: 16px;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",Ls,[(0,l.bF)(Te.A,{tree:o.simpleSlot},{"年龄--simple":(0,l.k6)(e=>[(0,l.Lk)("div",Cs,[(0,l.Lk)("button",{onClick:t=>f(e)},"-",8,Ts),(0,l.Lk)("input",{value:e.allProps.modelValue,onInput:t=>v(e,t),type:"number",class:"number-display"},null,40,ws),(0,l.Lk)("button",{onClick:t=>p(e)},"+",8,Ss)])]),_:1},8,["tree"])])]),(0,l.Lk)("div",Ps,[C[27]||(C[27]=(0,l.Lk)("h3",null,"4.3 --wrapper 插槽：完全自定义容器",-1)),C[28]||(C[28]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const wrapperSlot = createTreeFromConfig(\n          cns('selection', 'leaf', '性别', '男', false, {\n            options: ['男', '女', '其他']\n          }, [], '性别')\n        )\n\n        const updateSelectValue = (slotProps: any, event: Event) => {\n          const target = event.target as HTMLSelectElement\n          if (slotProps.allProps.node) {\n            slotProps.allProps.node.currentValue = target.value\n          }\n        }\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="wrapperSlot">\n            <template #性别--wrapper="slotProps">\n              <div class="custom-wrapper">\n                <div class="custom-label">\n                  {{ slotProps.allProps.node?.nameDisplay }}\n                </div>\n                <div class="custom-content">\n                  <select\n                    :value="slotProps.allProps.modelValue"\n                    @change="updateSelectValue(slotProps, $event)"\n                    class="custom-select"\n                  >\n                    <option value="男">👨 男</option>\n                    <option value="女">👩 女</option>\n                    <option value="其他">🤖 其他</option>\n                  </select>\n                </div>\n              </div>\n            </template>\n          </VarBox>\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        .custom-wrapper {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          color: white;\n          padding: 15px;\n          border-radius: 8px;\n          box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        }\n\n        .custom-label {\n          font-weight: bold;\n          margin-bottom: 8px;\n          font-size: 14px;\n        }\n\n        .custom-content {\n          display: flex;\n          align-items: center;\n        }\n\n        .custom-select {\n          background: white;\n          color: #333;\n          border: none;\n          padding: 8px 12px;\n          border-radius: 4px;\n          font-size: 14px;\n          cursor: pointer;\n          width: 100%;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",Ds,[(0,l.bF)(Te.A,{tree:o.wrapperSlot},{"性别--wrapper":(0,l.k6)(e=>[(0,l.Lk)("div",Is,[(0,l.Lk)("div",xs,(0,l.v_)(e.allProps.node?.nameDisplay),1),(0,l.Lk)("div",Es,[(0,l.Lk)("select",{value:e.allProps.modelValue,onChange:t=>g(e,t),class:"custom-select"},C[26]||(C[26]=[(0,l.Lk)("option",{value:"男"},"👨 男",-1),(0,l.Lk)("option",{value:"女"},"👩 女",-1),(0,l.Lk)("option",{value:"其他"},"🤖 其他",-1)]),40,Bs)])])]),_:1},8,["tree"])])]),(0,l.Lk)("div",Rs,[C[29]||(C[29]=(0,l.Lk)("h3",null,"4.4 --simple-input-group 插槽：日期输入自定义",-1)),C[30]||(C[30]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const dateSlot = createTreeFromConfig(\n          cns('date', 'leaf', '生日', '1995-01-01', false, {}, [], '生日')\n        )\n\n        const updateDateValue = (slotProps: any, event: Event) => {\n          const target = event.target as HTMLInputElement\n          if (slotProps.allProps.node) {\n            slotProps.allProps.node.currentValue = target.value\n          }\n        }\n\n        const setToday = (slotProps: any) => {\n          if (slotProps.allProps.node) {\n            const today = new Date().toISOString().split('T')[0]\n            slotProps.allProps.node.currentValue = today\n          }\n        }\n\n        const clearDate = (slotProps: any) => {\n          if (slotProps.allProps.node) {\n            slotProps.allProps.node.currentValue = ''\n          }\n        }\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="dateSlot">\n            <template #生日--simple-input-group="slotProps">\n              <div class="custom-date-input">\n                <input\n                  :value="slotProps.allProps.modelValue"\n                  @input="updateDateValue(slotProps, $event)"\n                  type="date"\n                  class="date-picker"\n                />\n                <button @click="setToday(slotProps)" class="today-btn">\n                  今天\n                </button>\n                <button @click="clearDate(slotProps)" class="clear-btn">\n                  清除\n                </button>\n              </div>\n            </template>\n          </VarBox>\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        .custom-date-input {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .date-picker {\n          flex: 1;\n          padding: 8px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n        }\n\n        .today-btn, .clear-btn {\n          padding: 8px 12px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 12px;\n        }\n\n        .today-btn {\n          background: #17a2b8;\n          color: white;\n        }\n\n        .today-btn:hover {\n          background: #138496;\n        }\n\n        .clear-btn {\n          background: #dc3545;\n          color: white;\n        }\n\n        .clear-btn:hover {\n          background: #c82333;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",Ns,[(0,l.bF)(Te.A,{tree:o.dateSlot},{"生日--simple-input-group":(0,l.k6)(e=>[(0,l.Lk)("div",Qs,[(0,l.Lk)("input",{value:e.allProps.modelValue,onInput:t=>m(e,t),type:"date",class:"date-picker"},null,40,Ms),(0,l.Lk)("button",{onClick:t=>h(e),class:"today-btn"},"今天",8,Us),(0,l.Lk)("button",{onClick:t=>y(e),class:"clear-btn"},"清除",8,Fs)])]),_:1},8,["tree"])])])]),(0,l.Lk)("section",Ks,[C[37]||(C[37]=(0,l.Lk)("h2",null,"5. 钩子用法详解",-1)),C[38]||(C[38]=(0,l.Lk)("p",null,"通过config.customComponent可以注册自定义组件作为钩子。",-1)),(0,l.Lk)("div",Os,[C[33]||(C[33]=(0,l.Lk)("h3",null,"5.1 自定义组件钩子",-1)),C[34]||(C[34]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { markRaw } from 'vue'\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n        import MyCustomInput from '@/test/varbox/MyCustomInput.vue'\n\n        // 创建自定义组件\n        const CustomInput = {\n          props: ['modelValue', 'readonly', 'placeholder'],\n          emits: ['update:modelValue'],\n          template: `\n            <div class=\"custom-hook-input\">\n              <span>🎯 自定义钩子组件</span>\n              <input\n                :value=\"modelValue\"\n                @input=\"$emit('update:modelValue', $event.target.value)\"\n                :readonly=\"readonly\"\n                :placeholder=\"placeholder\"\n              />\n            </div>\n          `\n        }\n\n        // 在配置中使用\n        const customComponent = createTreeFromConfig(\n          cns('string', 'leaf', 'customField', '自定义值', false, {\n            customComponent: markRaw(MyCustomInput)\n          }, [], '自定义字段')\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="customComponent" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 自定义钩子组件的样式 */\n        :deep(.custom-hook-input) {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          padding: 10px;\n          background: #e8f5e8;\n          border: 2px solid #28a745;\n          border-radius: 6px;\n        }\n\n        :deep(.custom-hook-input span) {\n          font-weight: bold;\n          color: #28a745;\n        }\n\n        :deep(.custom-hook-input input) {\n          flex: 1;\n          padding: 8px;\n          border: 1px solid #28a745;\n          border-radius: 4px;\n          outline: none;\n        }\n\n        :deep(.custom-hook-input input:focus) {\n          box-shadow: 0 0 0 2px rgba(40, 167, 69, 0.25);\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",Xs,[(0,l.bF)(Te.A,{tree:s.customComponent},null,8,["tree"])])]),(0,l.Lk)("div",Ws,[C[35]||(C[35]=(0,l.Lk)("h3",null,"5.2 带验证的自定义钩子",-1)),C[36]||(C[36]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { markRaw } from 'vue'\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n        import MyCustomInput from '@/test/varbox/MyCustomInput.vue'\n\n        const validationHook = createTreeFromConfig(\n          cns('string', 'leaf', 'email', 'test@example.com', false, {\n            customComponent: markRaw(MyCustomInput),\n            validators: [\n              {\n                creteria: (value: any) => {\n                  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n                  return emailRegex.test(value)\n                },\n                message: '请输入有效的邮箱地址'\n              }\n            ]\n          }, [], '邮箱地址')\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="validationHook" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 验证钩子的样式 */\n        :deep(.email--wrapper.error) {\n          border: 2px solid #dc3545;\n          background: #f8d7da;\n        }\n\n        :deep(.email--error-message) {\n          color: #dc3545;\n          font-size: 12px;\n          margin-top: 5px;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",_s,[(0,l.bF)(Te.A,{tree:s.validationHook},null,8,["tree"])])])]),(0,l.Lk)("section",Gs,[C[41]||(C[41]=(0,l.Lk)("h2",null,"6. Deep CSS 属性用法",-1)),C[42]||(C[42]=(0,l.Lk)("p",null,"使用:deep()选择器可以穿透作用域样式，精确控制VarInput组件的样式。",-1)),(0,l.Lk)("div",qs,[C[39]||(C[39]=(0,l.Lk)("h3",null,"6.1 通过路径精确定位节点",-1)),C[40]||(C[40]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const pathTargeting = createTreeFromConfig(\n          cns('dict', 'dict', 'userInfo', {}, false, {}, [\n            cns('dict', 'dict', 'personalInfo', {}, false, {}, [\n              cns('string', 'leaf', 'name', '李四', false, {}, [], '姓名'),\n              cns('string', 'leaf', 'email', 'li@example.com', false, {}, [], '邮箱')\n            ], '个人信息'),\n            cns('dict', 'dict', 'workInfo', {}, false, {}, [\n              cns('string', 'leaf', 'company', '科技公司', false, {}, [], '公司'),\n              cns('string', 'leaf', 'position', '工程师', false, {}, [], '职位')\n            ], '工作信息')\n          ])\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="pathTargeting" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 通过路径字符串精确定位特定节点 */\n        :deep(.userInfo-personalInfo-name--wrapper) {\n          background: linear-gradient(45deg, #ff6b6b, #feca57);\n          color: white;\n          padding: 10px;\n          border-radius: 6px;\n        }\n\n        :deep(.userInfo-personalInfo-email--leaf-input-container) {\n          border: 2px solid #48cae4;\n          border-radius: 20px;\n          padding: 5px;\n        }\n\n        :deep(.userInfo-workInfo--wrapper) {\n          background: #f0f8ff;\n          border: 1px solid #4a90e2;\n          border-radius: 8px;\n          padding: 15px;\n          margin: 10px 0;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",Js,[(0,l.bF)(Te.A,{tree:i.pathTargeting},null,8,["tree"])])])]),(0,l.Lk)("section",js,[C[50]||(C[50]=(0,l.Lk)("h2",null,"7. Grid 布局控制",-1)),C[51]||(C[51]=(0,l.Lk)("p",null,"通过:deep()选择器控制字典节点的叶子部分使用Grid布局，实现复杂的表单布局。",-1)),(0,l.Lk)("div",Ys,[C[43]||(C[43]=(0,l.Lk)("h3",null,"7.1 基础Grid布局",-1)),C[44]||(C[44]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const basicGrid = createTreeFromConfig(\n          cns('dict', 'dict', 'userInfo', {}, false, {}, [\n            cns('string', 'leaf', 'name', '王五', false, {}, [], '姓名'),\n            cns('string', 'leaf', 'email', 'wang@example.com', false, {}, [], '邮箱'),\n            cns('number', 'leaf', 'age', 30, false, {}, [], '年龄'),\n            cns('string', 'leaf', 'phone', '13800138000', false, {}, [], '电话'),\n            cns('string', 'leaf', 'address', '北京市朝阳区', false, {}, [], '地址'),\n            cns('selection', 'leaf', 'gender', '男', false, {\n              options: ['男', '女', '其他']\n            }, [], '性别')\n          ])\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="basicGrid" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 设置Grid布局 - 通过路径定位 */\n        :deep(.userInfo--dict-leaf-section) {\n          display: grid;\n          grid-template-columns: 1fr 1fr 1fr;\n          gap: 20px;\n          padding: 20px;\n          background: #f8f9fa;\n          border-radius: 8px;\n          margin: 10px 0;\n        }\n\n        /* 字段自动排列，无需指定位置 */\n        :deep(.userInfo--dict-leaf-section > *) {\n          background: white;\n          padding: 10px;\n          border-radius: 4px;\n          box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",$s,[(0,l.bF)(Te.A,{tree:r.basicGrid},null,8,["tree"])])]),(0,l.Lk)("div",zs,[C[45]||(C[45]=(0,l.Lk)("h3",null,"7.2 复杂Grid布局 - 指定位置",-1)),C[46]||(C[46]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const complexGrid = createTreeFromConfig(\n          cns('dict', 'dict', 'userInfo', {}, false, {}, [\n            cns('string', 'leaf', 'name', '赵六', false, {}, [], '姓名'),\n            cns('string', 'leaf', 'email', 'zhao@example.com', false, {}, [], '邮箱'),\n            cns('string', 'leaf', 'phone', '13900139000', false, {}, [], '电话'),\n            cns('number', 'leaf', 'age', 28, false, {}, [], '年龄'),\n            cns('string', 'leaf', 'address', '上海市浦东新区', false, {}, [], '地址'),\n            cns('selection', 'leaf', 'status', '在职', false, {\n              options: ['在职', '离职', '休假']\n            }, [], '状态')\n          ])\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="complexGrid" />\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 复杂Grid布局，指定每个字段的位置 */\n        :deep(.userInfo--dict-leaf-section) {\n          display: grid;\n          grid-template-columns: repeat(4, 1fr);\n          gap: 15px;\n          padding: 20px;\n          background: #fff3cd;\n          border-radius: 8px;\n        }\n\n        /* 通过路径精确指定每个字段的位置 */\n        :deep(.userInfo-name--wrapper) {\n          grid-row: 1;\n          grid-column: 1 / 3;\n        }\n        :deep(.userInfo-email--wrapper) {\n          grid-row: 1;\n          grid-column: 3 / 5;\n        }\n        :deep(.userInfo-phone--wrapper) {\n          grid-row: 2;\n          grid-column: 1;\n        }\n        :deep(.userInfo-age--wrapper) {\n          grid-row: 2;\n          grid-column: 2;\n        }\n        :deep(.userInfo-address--wrapper) {\n          grid-row: 2;\n          grid-column: 3;\n        }\n        :deep(.userInfo-status--wrapper) {\n          grid-row: 2;\n          grid-column: 4;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",Hs,[(0,l.bF)(Te.A,{tree:r.complexGrid},null,8,["tree"])])]),(0,l.Lk)("div",Zs,[C[48]||(C[48]=(0,l.Lk)("h3",null,"7.3 使用插槽添加额外叶子节点",-1)),C[49]||(C[49]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        const gridWithSlots = createTreeFromConfig(\n          cns('dict', 'dict', 'userInfo', {}, false, {}, [\n            cns('string', 'leaf', 'name', '孙七', false, {}, [], '姓名'),\n            cns('string', 'leaf', 'email', 'sun@example.com', false, {}, [], '邮箱')\n          ])\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="gridWithSlots">\n            <template #userInfo--leaf>\n              <div class="extra-grid-item">\n                <label>额外信息</label>\n                <div class="extra-content">\n                  这是通过插槽添加的额外内容\n                </div>\n              </div>\n            </template>\n          </VarBox>\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* CSS控制额外节点的位置 */\n        :deep(.userInfo--dict-leaf-section) {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 15px;\n          padding: 20px;\n          background: #e8f5e8;\n          border-radius: 8px;\n          margin: 10px 0;\n        }\n\n        .extra-grid-item {\n          grid-column: 3;  /* 放在第3列 */\n          grid-row: 1;\n          background: #e3f2fd;\n          padding: 15px;\n          border-radius: 6px;\n          border: 2px dashed #2196f3;\n        }\n\n        .extra-content {\n          margin-top: 8px;\n          font-style: italic;\n          color: #1976d2;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",ei,[(0,l.bF)(Te.A,{tree:r.gridWithSlots},{"userInfo--leaf":(0,l.k6)(()=>C[47]||(C[47]=[(0,l.Lk)("div",{class:"extra-grid-item"},[(0,l.Lk)("label",null,"额外信息"),(0,l.Lk)("div",{class:"extra-content"},"这是通过插槽添加的额外内容")],-1)])),_:1},8,["tree"])])])]),(0,l.Lk)("section",ti,[C[61]||(C[61]=(0,l.Lk)("h2",null,"8. 高级应用示例",-1)),C[62]||(C[62]=(0,l.Lk)("p",null,"综合运用所有特性的实际应用场景。",-1)),(0,l.Lk)("div",ai,[C[54]||(C[54]=(0,l.Lk)("h3",null,"8.1 复杂节点隐藏功能测试",-1)),C[55]||(C[55]=(0,l.Lk)("p",null,"测试 hideSelf、hideList、showWhiteList 对复杂节点（dict和list）的隐藏效果。",-1)),C[56]||(C[56]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        // 测试复杂节点隐藏功能\n        const testHideComplexNodes = createTreeFromConfig(\n          cns('dict', 'dict', 'testRoot', null, false, {\n            hideList: ['hiddenDict', 'hiddenList'],\n            showWhiteList: ['visibleDict', 'visibleList']\n          }, [\n            cns('dict', 'dict', 'visibleDict', null, false, {}, [\n              cns('string', 'leaf', 'field1', 'value1', false, {}, [], '字段1')\n            ], '可见字典'),\n            cns('dict', 'dict', 'hiddenDict', null, false, {}, [\n              cns('string', 'leaf', 'field2', 'value2', false, {}, [], '字段2')\n            ], '隐藏字典'),\n            cns('dynamiclist', 'list', 'visibleList', null, false, {\n              childTemplate: cns('string', 'leaf', 'item', '', false, {}, [], '项目')\n            }, [], '可见列表'),\n            cns('dynamiclist', 'list', 'hiddenList', null, false, {\n              childTemplate: cns('string', 'leaf', 'item', '', false, {}, [], '项目')\n            }, [], '隐藏列表'),\n            cns('dict', 'dict', 'selfHiddenDict', null, false, {\n              hideSelf: true\n            }, [\n              cns('string', 'leaf', 'field3', 'value3', false, {}, [], '字段3')\n            ], '自隐藏字典')\n          ], '测试根节点')\n        )\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="testHideComplexNodes" />\n        </template>')])])])],-1)),(0,l.Lk)("div",ni,[C[52]||(C[52]=(0,l.Lk)("h4",null,"运行结果",-1)),(0,l.Lk)("div",li,[(0,l.bF)(Te.A,{tree:c.testHideComplexNodes},null,8,["tree"])]),C[53]||(C[53]=(0,l.Lk)("div",{class:"explanation"},[(0,l.Lk)("p",null,[(0,l.Lk)("strong",null,"预期结果：")]),(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,'✅ 只显示 "可见字典" 和 "可见列表"'),(0,l.Lk)("li",null,'❌ "隐藏字典" 被 hideList 隐藏'),(0,l.Lk)("li",null,'❌ "隐藏列表" 被 hideList 隐藏'),(0,l.Lk)("li",null,'❌ "自隐藏字典" 被 hideSelf 隐藏')]),(0,l.Lk)("p",null,[(0,l.Lk)("strong",null,"说明："),(0,l.eW)("showWhiteList 优先级高于 hideList，只有白名单中的节点会显示。")])],-1))])]),(0,l.Lk)("div",oi,[C[59]||(C[59]=(0,l.Lk)("h3",null,"8.2 员工管理表单 - 综合示例",-1)),C[60]||(C[60]=(0,l.Lk)("div",{class:"code-blocks-container"},[(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"树定义 (Script)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<script lang=\"ts\" setup>\n        import { createTreeFromConfig, cns } from '@/utils/VarTree'\n\n        // 综合使用所有特性的员工管理表单\n        const employeeForm = createTreeFromConfig(\n          cns('dict', 'dict', 'employeeInfo', {}, false, {}, [\n            cns('dict', 'dict', 'basicInfo', {}, false, {}, [\n              cns('string', 'leaf', 'name', '张三', false, {}, [], '姓名'),\n              cns('selection', 'leaf', 'gender', '男', false, {\n                options: ['男', '女', '其他']\n              }, [], '性别'),\n              cns('date', 'leaf', 'birthDate', '1990-01-01', false, {}, [], '出生日期'),\n              cns('string', 'leaf', 'phone', '13800138000', false, {}, [], '电话')\n            ], '基本信息'),\n            cns('dict', 'dict', 'workInfo', {}, false, {}, [\n              cns('string', 'leaf', 'department', '技术部', false, {}, [], '部门'),\n              cns('string', 'leaf', 'position', '高级工程师', false, {}, [], '职位'),\n              cns('number', 'leaf', 'salary', 15000, false, {}, [], '薪资'),\n              cns('date', 'leaf', 'hireDate', '2020-01-01', false, {}, [], '入职日期')\n            ], '工作信息')\n          ])\n        )\n\n        // 事件处理函数\n        const searchEmployee = (slotProps: any) => {\n          alert(`搜索员工: ${slotProps.allProps.modelValue}`)\n        }\n\n        const updateSalary = (slotProps: any, event: Event) => {\n          const target = event.target as HTMLInputElement\n          if (slotProps.allProps.node) {\n            slotProps.allProps.node.currentValue = Number(target.value)\n          }\n        }\n\n        const saveEmployee = () => {\n          alert('员工信息已保存')\n        }\n\n        const resetEmployee = () => {\n          alert('表单已重置')\n        }\n\n        const deleteEmployee = () => {\n          if (confirm('确定要删除这个员工吗？')) {\n            alert('员工已删除')\n          }\n        }\n        <\/script>")])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"模板 (Template)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,'<template>\n          <VarBox :tree="employeeForm">\n            \x3c!-- 为姓名字段添加搜索功能 --\x3e\n            <template #employeeInfo-basicInfo-name--extra="slotProps">\n              <button\n                class="search-employee-btn"\n                @click="searchEmployee(slotProps)"\n              >\n                🔍 搜索员工\n              </button>\n            </template>\n\n            \x3c!-- 自定义薪资输入 --\x3e\n            <template #employeeInfo-workInfo-salary--simple="slotProps">\n              <div class="salary-input">\n                <span class="currency">¥</span>\n                <input\n                  :value="slotProps.allProps.modelValue"\n                  @input="updateSalary(slotProps, $event)"\n                  type="number"\n                  class="salary-field"\n                  placeholder="请输入薪资"\n                />\n                <span class="unit">元/月</span>\n              </div>\n            </template>\n\n            \x3c!-- 添加操作按钮区域 --\x3e\n            <template #employeeInfo--leaf>\n              <div class="action-buttons">\n                <button class="save-btn" @click="saveEmployee">\n                  💾 保存\n                </button>\n                <button class="reset-btn" @click="resetEmployee">\n                  🔄 重置\n                </button>\n                <button class="delete-btn" @click="deleteEmployee">\n                  🗑️ 删除\n                </button>\n              </div>\n            </template>\n          </VarBox>\n        </template>')])])]),(0,l.Lk)("div",{class:"code-block"},[(0,l.Lk)("h4",null,"样式 (Style)"),(0,l.Lk)("div",{class:"code-example"},[(0,l.Lk)("pre",null,[(0,l.Lk)("code",null,"<style scoped>\n        /* 高级示例样式 */\n        :deep(.employeeInfo--dict-leaf-section) {\n          display: grid;\n          grid-template-columns: repeat(4, 1fr);\n          gap: 15px;\n          padding: 20px;\n          background: #f5f5f5;\n          border-radius: 8px;\n          margin: 10px 0;\n        }\n\n        .salary-input {\n          display: flex;\n          align-items: center;\n          gap: 5px;\n          border: 1px solid #28a745;\n          border-radius: 4px;\n          padding: 4px 8px;\n          background: #f8fff8;\n        }\n\n        .currency, .unit {\n          font-weight: bold;\n          color: #28a745;\n        }\n\n        .salary-field {\n          border: none;\n          outline: none;\n          background: transparent;\n          text-align: center;\n          width: 100px;\n          font-size: 16px;\n        }\n\n        .action-buttons {\n          grid-column: 1 / -1;\n          display: flex;\n          gap: 10px;\n          justify-content: center;\n          margin-top: 20px;\n          padding: 15px;\n          background: white;\n          border-radius: 6px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n\n        .save-btn, .reset-btn, .delete-btn {\n          padding: 10px 20px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-weight: bold;\n          transition: all 0.3s ease;\n        }\n\n        .save-btn {\n          background: #28a745;\n          color: white;\n        }\n\n        .save-btn:hover {\n          background: #218838;\n          transform: translateY(-2px);\n        }\n\n        .reset-btn {\n          background: #ffc107;\n          color: #212529;\n        }\n\n        .reset-btn:hover {\n          background: #e0a800;\n          transform: translateY(-2px);\n        }\n\n        .delete-btn {\n          background: #dc3545;\n          color: white;\n        }\n\n        .delete-btn:hover {\n          background: #c82333;\n          transform: translateY(-2px);\n        }\n\n        .search-employee-btn {\n          margin-left: 8px;\n          padding: 6px 12px;\n          background: #17a2b8;\n          color: white;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 12px;\n          transition: background-color 0.3s ease;\n        }\n\n        .search-employee-btn:hover {\n          background: #138496;\n        }\n        </style>")])])])],-1)),(0,l.Lk)("div",si,[(0,l.bF)(Te.A,{tree:c.employeeForm},{"employeeInfo-basicInfo-name--extra":(0,l.k6)(e=>[(0,l.Lk)("button",{class:"search-employee-btn",onClick:t=>k(e)}," 🔍 搜索员工 ",8,ii)]),"employeeInfo-workInfo-salary--simple":(0,l.k6)(e=>[(0,l.Lk)("div",ri,[C[57]||(C[57]=(0,l.Lk)("span",{class:"currency"},"¥",-1)),(0,l.Lk)("input",{value:e.allProps.modelValue,onInput:t=>A(e,t),type:"number",class:"salary-field",placeholder:"请输入薪资"},null,40,ci),C[58]||(C[58]=(0,l.Lk)("span",{class:"unit"},"元/月",-1))])]),"employeeInfo--leaf":(0,l.k6)(()=>[(0,l.Lk)("div",{class:"action-buttons"},[(0,l.Lk)("button",{class:"save-btn",onClick:b},"💾 保存"),(0,l.Lk)("button",{class:"reset-btn",onClick:V},"🔄 重置"),(0,l.Lk)("button",{class:"delete-btn",onClick:L},"🗑️ 删除")])]),_:1},8,["tree"])])])])])])]),_:1})]))}});const di=(0,f.A)(ui,[["__scopeId","data-v-40018b34"]]);var pi=di;const fi={class:"test-section"},vi={key:0,class:"tree-value-display"};var gi=(0,l.pM)({__name:"ItemConditionKitTest",setup(e){const t=(0,l.KR)(null),a=(0,we.$e)((0,we.fV)("dict","dict","mainData",{},!1,{hideLabel:!0},[(0,we.fV)("dict","dict","itemOverview",{},!1,{},[(0,we.fV)("string","leaf","inquiry","TEST-001",!1,{},[],"Inquiry:"),(0,we.fV)("string","leaf","soldToParty","CUSTOMER-001",!1,{},[],"Sold-To Party:")],"Item Overview")])),n=jn({validationEndpoint:"/api/app/inquiry/items-tab-query",readonly:!1,navigationLabels:{cancel:"Cancel",save:"Save",previous:"← Previous",next:"Next →"}}),o=n.summonItemsNode(a,["itemOverview","items"]);function s(){const e=[{item:"10",material:"MAT-001",orderQuantity:"100",orderQuantityUnit:"PC",description:"Test Material 1",reqDelivDate:"2024-01-15",netValue:"500.00",netValueUnit:"USD",taxValue:"50.00",taxValueUnit:"USD",pricingDate:"2024-01-01",orderProbability:"0.8",pricingElements:[]},{item:"20",material:"MAT-002",orderQuantity:"200",orderQuantityUnit:"PC",description:"Test Material 2",reqDelivDate:"2024-01-20",netValue:"800.00",netValueUnit:"USD",taxValue:"80.00",taxValueUnit:"USD",pricingDate:"2024-01-01",orderProbability:"0.9",pricingElements:[]}];e.forEach(e=>{const t=o.config.childTemplate?(0,we.bM)(o.config.childTemplate):new we.wK;t.forceSetValue(e),o.addChild(t)})}const i=(0,l.KR)(null),r=(0,l.KR)("");async function c(){if(console.log("handleItemsTableClick called"),!o)return void console.error("Items node not found");const e=[...o.getSelectedChildren()];console.log("Selected children:",e),e&&e.length>0?(console.log("切换到详细信息阶段"),t.value?.goToStage(1),setTimeout(()=>{i.value&&(console.log("调用详细信息组件的 handleItemsTableClick"),i.value.handleItemsTableClick())},100)):console.log("No items selected")}function u(){console.log("保存数据"),t.value?.goToStage(0)}function d(){console.log("取消编辑"),t.value?.goToStage(0)}function p(e){console.log("验证失败的items:",e)}function f(e){console.log("验证成功的items:",e),t.value?.goToStage(2)}async function v(e,t){return console.log("Stage change:",e,"->",t),!0}async function g(e,t){return console.log("Cancel from stage:",e,"to:",t),!0}function m(){const e=a.getValue();r.value=JSON.stringify(e,null,2),console.log("Tree getValue:",e)}return s(),(e,o)=>((0,l.uX)(),(0,l.Wv)(Ot.A,{stages:["itemOverview","itemCondition"],"before-next":v,"before-prev":g,"footer-config":[{prevText:"/hide",nextText:"/hide"},{prevText:"/hide",nextText:"/hide"}],ref_key:"appContentRef",ref:t},{["stage-itemOverview"]:(0,l.k6)(()=>[o[1]||(o[1]=(0,l.Lk)("h2",null,"ItemConditionKit 测试 - Items 列表",-1)),(0,l.bF)(Te.A,{tree:(0,l.R1)(a)},{["mainData-itemOverview-items--extra-buttons"]:(0,l.k6)(()=>[(0,l.Lk)("button",{class:"execute-button table-extra-button",onClick:c}," ... ")]),_:2},1032,["tree"]),(0,l.Lk)("div",fi,[(0,l.Lk)("button",{class:"test-button",onClick:m}," 显示树的getValue "),r.value?((0,l.uX)(),(0,l.CE)("div",vi,[o[0]||(o[0]=(0,l.Lk)("h3",null,"树的getValue结果：",-1)),(0,l.Lk)("pre",null,(0,l.v_)(r.value),1)])):(0,l.Q3)("",!0)])]),["stage-itemCondition"]:(0,l.k6)(()=>[o[3]||(o[3]=(0,l.Lk)("h2",null,"Item 详细信息 (使用 ItemConditionKit)",-1)),(0,l.bF)(nl,{ref_key:"itemConditionDetailRef",ref:i,kit:(0,l.R1)(n),onSave:u,onCancel:d,onValidationFailed:p,onValidationSuccess:f},{["itemDetailConditions-pricingElements--extra-buttons"]:(0,l.k6)(()=>o[2]||(o[2]=[(0,l.Lk)("button",{class:"execute-button table-extra-button item-condition-button",onClick:()=>{}}," New ",-1),(0,l.Lk)("button",{class:"execute-button table-extra-button item-condition-button",onClick:()=>{}}," Delete ",-1)])),_:2},1032,["kit"])]),["footer-content-right"]:(0,l.k6)(()=>o[4]||(o[4]=[(0,l.Lk)("div",{class:"app-content-footer-content-right"},null,-1)])),_:2},1536))}});const mi=(0,f.A)(gi,[["__scopeId","data-v-475d810e"]]);var hi=mi,yi=a(4429),ki=a(47),Ai=a(7299);const bi={class:"material-document-overview"},Vi={key:0,class:"md-page-content"},Li={class:"material-document-search"},Ci={key:0,class:"query-results-list",style:{width:"100%"}},Ti={class:"material-document-rows-container"},wi=["onClick"],Si={class:"row-item material-document-id"},Pi={class:"row-item plant"},Di={class:"row-item posting-date"},Ii={class:"row-item document-date"},xi={key:1,class:"no-results"},Ei={key:2,class:"initial-output-message"},Bi={class:"page-content"},Ri={class:"process-flow-container"},Ni={class:"process-flow-diagram"},Qi={class:"flow-step"},Mi={class:"step-id"},Ui=["checked"],Fi={key:0,class:"flow-item-details"},Ki={class:"flow-step"},Oi={class:"step-id"},Xi=["checked"],Wi={key:0,class:"flow-item-details"},_i={class:"flow-step"},Gi={class:"step-id"},qi=["checked"];var Ji=(0,l.pM)({__name:"Overview",setup(e){const t="http://localhost:3000",a=(0,l.KR)(null),n=((0,l.EW)(()=>a.value?.currentStage||0),(0,l.KR)(!1)),o=(0,we.fV)("dict","dict","materialQuery",null,!1,{hideLabel:!0},[(0,we.fV)("string","leaf","materialDocument","",!1,{searchMethods:Se.qE},[],"Material Document:"),(0,we.fV)("string","leaf","plant","",!1,{searchMethods:Se.mS},[],"Plant:"),(0,we.fV)("date","leaf","materialDocumentYear","",!1,{},[],"Material Document Year:"),(0,we.fV)("string","leaf","material","",!1,{searchMethods:Se.qE},[],"Material:"),(0,we.fV)("date","leaf","postingDate","",!1,{},[],"Posting Date:"),(0,we.fV)("date","leaf","documentDate","",!1,{},[],"Document Date:")]),s=(0,we.$e)(o),i=(0,we.fV)("dict","dict","materialDocumentDetail",null,!1,{hideLabel:!0},[(0,we.fV)("string","leaf","materialDocument","",!0,{},[],"Material Document:"),(0,we.fV)("string","leaf","plant","",!0,{},[],"Plant:"),(0,we.fV)("date","leaf","postingDate","",!0,{},[],"Posting Date:"),(0,we.fV)("date","leaf","documentDate","",!0,{},[],"Document Date:"),(0,we.fV)("date","leaf","materialDocumentYear","",!0,{},[],"Material Document Year:"),(0,we.fV)("dynamiclist","list","items",null,!1,{hideList:["netValue","netValueUnit","pricingDate","orderProbability","reqDelivDate","taxValue","taxValueUnit","pricingElements"],childTemplate:(0,we.fV)("dict","dict","item",null,!1,{},[(0,we.fV)("string","leaf","item","",!0,{},[],"Item"),(0,we.fV)("string","leaf","material","",!0,{},[],"Material"),(0,we.fV)("string","leaf","orderQuantity","",!0,{},[],"Order Quantity"),(0,we.fV)("string","leaf","orderQuantityUnit","",!0,{hideLabel:!0},[],"SU")])},[],"Items"),(0,we.fV)("dynamiclist","list","processFlow",null,!0,{hideSelf:!0,childTemplate:(0,we.fV)("dict","dict","flowItem",null,!1,{},[(0,we.fV)("string","leaf","dlvId","",!0,{},[],"Delivery ID:"),(0,we.fV)("string","leaf","materialDocument","",!0,{},[],"Material Document:"),(0,we.fV)("string","leaf","billId","",!0,{},[],"Billing Document:")])},[],"")]),r=(0,l.KR)("display"),c=(0,l.KR)(0);(0,l.EW)(()=>"display"===r.value);function u(e){r.value=e,d.root&&(d.root.readonly=!0)}const d=(0,we.$e)(i),p=(0,l.KR)([]),f=(0,l.KR)(!1),v=async()=>{const e=`${t}/api/material/search`,a=s.root?.getValue();f.value=!0,p.value=[];try{const t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await t.json();n.success&&Array.isArray(n.data)?p.value=n.data:p.value=[]}catch(n){p.value=[]}},g=(0,l.EW)(()=>"/hide"),m=(0,l.EW)(()=>"Return");async function h(e,t){return 0===e?(n.value=!1,a.value.goToStage(0),a.value.footerMessage="",!1):(a.value.footerMessage="",!0)}async function y(e,t){return a.value.footerMessage="",n.value=!1,!1}const k=async e=>{n.value=!0,u("display"),(0,l.dY)(async()=>{if(a.value){a.value.goToStage(0),a.value.footerMessage="Fetching material document details...";try{const l=await fetch(`${t}/api/material/get/${e}`),o=await l.json();o.success&&o.data?(d.root?.forceSetValue(o.data),c.value++,console.log("API original result.data:",JSON.stringify(o.data,null,2)),a.value.footerMessage="Material document details loaded."):(a.value.footerMessage=o.message||"Failed to load material document details.",n.value=!1)}catch(l){a.value.footerMessage=`Error fetching details: ${l.message}`,n.value=!1}}})},A=e=>{const t=d.root?.children.find(e=>"processFlow"===e.name);if(t&&t.children&&t.children.length>0){const a=t.children[0],n=a.children.find(t=>t.name===e);return n?n.getValue():""}return""},b=e=>{if("materialDocument"===e){const e=d.root?.children.find(e=>"items"===e.name);return e&&Array.isArray(e.children)?e.children.length:0}return""},V=(e,t)=>{const a=A(e),n=A(t),l=!!A("dlvId");return a&&n?l?"arrow-status-green":"arrow-status-red":"arrow-status-grey"};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",bi,[n.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Vi,[(0,l.Lk)("div",Li,[(0,l.bF)(Te.A,{tree:(0,l.R1)(s),class:"material-document-query-varbox"},null,8,["tree"]),(0,l.Lk)("div",{class:"go-button-container",onClick:v},t[0]||(t[0]=[(0,l.Lk)("button",{class:"search-enter-button go-button"},"Go",-1)]))]),f.value&&p.value&&p.value.length>0?((0,l.uX)(),(0,l.CE)("div",Ci,[(0,l.Lk)("div",Ti,[t[2]||(t[2]=(0,l.Fv)('<div class="material-document-row-header" data-v-32bf6b00><div class="header-item material-document-id" data-v-32bf6b00>Material Document</div><div class="header-item plant" data-v-32bf6b00>Plant</div><div class="header-item posting-date" data-v-32bf6b00>Posting Date</div><div class="header-item document-date" data-v-32bf6b00>Document Date</div><div class="header-item" data-v-32bf6b00></div></div>',1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(p.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.materialDocument,class:"material-document-row",onClick:t=>k(e.materialDocument)},[(0,l.Lk)("span",Si,(0,l.v_)(e.materialDocument),1),(0,l.Lk)("span",Pi,(0,l.v_)(e.plant),1),(0,l.Lk)("span",Di,(0,l.v_)(e.postingDate),1),(0,l.Lk)("span",Ii,(0,l.v_)(e.documentDate),1),t[1]||(t[1]=(0,l.Lk)("span",{class:"row-item arrow-icon"},"▶",-1))],8,wi))),128))])])):f.value&&p.value&&0===p.value.length?((0,l.uX)(),(0,l.CE)("div",xi,t[3]||(t[3]=[(0,l.Lk)("p",null,"No material documents found matching your criteria.",-1)]))):((0,l.uX)(),(0,l.CE)("div",Ei,t[4]||(t[4]=[(0,l.Lk)("p",null,'Enter query criteria and click "Go" to see results.',-1)])))])),n.value?((0,l.uX)(),(0,l.Wv)(Ot.A,{key:1,stages:["materialDocumentForm"],"before-next":y,"before-prev":h,"footer-config":[{prevText:g.value,nextText:m.value}],ref_key:"appContentRef",ref:a},{"stage-materialDocumentForm":(0,l.k6)(()=>[(0,l.Lk)("div",Bi,[(0,l.Lk)("div",Ri,[t[14]||(t[14]=(0,l.Lk)("div",{class:"process-flow-header"},"Process Flow",-1)),(0,l.Lk)("div",Ni,[(0,l.Lk)("div",Qi,[t[6]||(t[6]=(0,l.Lk)("div",{class:"step-icon"},[(0,l.Lk)("img",{src:yi,alt:"Delivery",class:"icon-image"})],-1)),t[7]||(t[7]=(0,l.Lk)("span",{class:"step-label"},"Delivery",-1)),(0,l.Lk)("span",Mi,(0,l.v_)(A("dlvId")),1),(0,l.Lk)("div",{class:(0,l.C4)(["step-status",{"ok-status-active":A("dlvId")}])},[(0,l.Lk)("input",{type:"checkbox",checked:!!A("dlvId"),disabled:"",class:"status-checkbox"},null,8,Ui),t[5]||(t[5]=(0,l.Lk)("span",{class:"status-text"},"OK",-1))],2)]),(0,l.Lk)("span",{class:(0,l.C4)(["flow-arrow",V("dlvId","materialDocument")])},"▶",2),b("dlvId")?((0,l.uX)(),(0,l.CE)("div",Fi,(0,l.v_)(b("dlvId"))+" Item(s) ",1)):(0,l.Q3)("",!0),(0,l.Lk)("div",Ki,[t[9]||(t[9]=(0,l.Lk)("div",{class:"step-icon"},[(0,l.Lk)("img",{src:ki,alt:"Material Document",class:"icon-image"})],-1)),t[10]||(t[10]=(0,l.Lk)("span",{class:"step-label"},"Material Document",-1)),(0,l.Lk)("span",Oi,(0,l.v_)(A("materialDocument")),1),(0,l.Lk)("div",{class:(0,l.C4)(["step-status",{"ok-status-active":A("materialDocument")}])},[(0,l.Lk)("input",{type:"checkbox",checked:!!A("materialDocument"),disabled:"",class:"status-checkbox"},null,8,Xi),t[8]||(t[8]=(0,l.Lk)("span",{class:"status-text"},"OK",-1))],2),b("materialDocument")?((0,l.uX)(),(0,l.CE)("div",Wi,(0,l.v_)(b("materialDocument"))+" Item(s) ",1)):(0,l.Q3)("",!0)]),(0,l.Lk)("span",{class:(0,l.C4)(["flow-arrow",V("materialDocument","billId")])},"▶",2),(0,l.Lk)("div",_i,[t[12]||(t[12]=(0,l.Lk)("div",{class:"step-icon"},[(0,l.Lk)("img",{src:Ai,alt:"Accounting Document",class:"icon-image"})],-1)),t[13]||(t[13]=(0,l.Lk)("span",{class:"step-label"},"Accounting Document",-1)),(0,l.Lk)("span",Gi,(0,l.v_)(A("billId")),1),(0,l.Lk)("div",{class:(0,l.C4)(["step-status",{"ok-status-active":A("billId")}])},[(0,l.Lk)("input",{type:"checkbox",checked:!!A("billId"),disabled:"",class:"status-checkbox"},null,8,qi),t[11]||(t[11]=(0,l.Lk)("span",{class:"status-text"},"OK",-1))],2)])])]),((0,l.uX)(),(0,l.Wv)(Te.A,{tree:(0,l.R1)(d),class:(0,l.C4)({"material-document-detail-varbox":!0}),key:c.value},null,8,["tree"]))])]),_:1},8,["footer-config"])):(0,l.Q3)("",!0)]))}});const ji=(0,f.A)(Ji,[["__scopeId","data-v-32bf6b00"]]);var Yi=ji;const $i=[{path:"/",redirect:"/login"},{path:"/home",name:"Home",component:qn},{path:"/test/erppage",name:"MaintainBPTest",component:ze},{path:"/test/erppage/vake",name:"Test-Page-Vake",component:$t},{path:"/application",component:K,children:[{path:"",name:"ApplicationDirectory",component:Z,meta:{title:"Applications: Development"}},{path:"maintain-business-partner",name:"ApplicationMaintainBusinessPartner",component:Be,meta:{title:"Maintain Business Partner"}},{path:"test/erppage/vake",name:"ApplicationTest-Page-Vake",component:$t,meta:{title:"Create BP Relationship"}},{path:"test/erppage",name:"ApplicationTestPageErp",component:ze,meta:{title:"Test Page"}},{path:"test/search-modal",name:"ApplicationSearchModalTest",component:it,meta:{title:"Search Modal Test"}},{path:"test/app-content",name:"ApplicationAppContentTest",component:_t,meta:{title:"AppContent Component Test"}},{path:"test/bp-relationship",name:"ApplicationBPRelationshipTest",component:ca,meta:{title:"BP Relationship Test"}},{path:"test/item-condition-kit",name:"ApplicationItemConditionKitTest",component:hi,meta:{title:"ItemConditionKit Test"}},{path:"example",name:"ApplicationExample",component:Ga,meta:{title:"Example Application"}},{path:"home",name:"ApplicationHome",component:qn,meta:{title:"Sales and Distribution"}},{path:"create-bp-relationship",name:"CreateBPRelationship",component:$t,meta:{title:"Create BP Relationship"}},{path:"manage-sales-orders",name:"ManageSalesOrders",component:wl,meta:{title:"Manage Sales Orders"}},{path:"create-inquiry",name:"CreateInquiry",component:Bl,meta:{title:"Create Inquiry"}},{path:"manage-sales-quotations",name:"ManageSalesQuotations",component:Yo,meta:{title:"Manage Sales Quotations"}},{path:"display-inquiry",name:"DisplayInquiry",component:Fl,meta:{title:"Display Inquiry"}},{path:"change-inquiry",name:"ChangeInquiry",component:Ql,meta:{title:"Change Inquiry"}},{path:"display-bp-relationship",name:"DisplayBPRelationship",component:Zt,meta:{title:"Display BP Relationship"}},{path:"change-bp-relationship",name:"ChangeBPRelationship",component:aa,meta:{title:"Change BP Relationship"}},{path:"create-outbound-delivery",name:"CreateOutboundDelivery",component:Gl,meta:{title:"Create Outbound Delivery"}},{path:"manage-outbound-deliveries",name:"ManageOutboundDeliveries",component:Ao,meta:{title:"Manage Outbound Deliveries"}},{path:"pick-outbound-delivery",name:"PickOutboundDelivery",component:po,meta:{title:"Pick Outbound Delivery"}},{path:"vartree-&-varinput-tutorial",name:"VarTreeTutorial",component:pi,meta:{title:"VarBox Tutorial"}},{path:"create-billing-document",name:"CreateBillingDocument",component:So,meta:{title:"Create Billing Document"}},{path:"display-billing-document",name:"DisplayBillingDocument",component:Io,meta:{title:"Display Billing Document"}},{path:"change-billing-document",name:"ChangeBillingDocument",component:Bo,meta:{title:"Change Billing Document"}},{path:"material-documents-overview",name:"MaterialDocumentOverview",component:Yi,meta:{title:"MaterialDocumentOverview"}},{path:"posting-incoming-payments",name:"PostingIncomingPayments",component:()=>a.e(118).then(a.bind(a,5118)),meta:{title:"Posting Incoming Payments"}},{path:"display-journal-entry/:id",name:"DisplayJournalEntry",component:()=>a.e(13).then(a.bind(a,7013)),meta:{title:"Display Journal Entry"}}]},{path:"/login",name:"Login",component:vn},{path:"/register",name:"Register",component:xn},{path:"/getMyPassBack",name:"GetMyPassBack",component:Uo}],zi=(0,n.aE)({history:(0,n.LA)(),routes:$i});var Hi=zi},2407:function(e,t,a){"use strict";e.exports=a.p+"img/maintain-BP.8faa616c.svg"},2697:function(e,t,a){"use strict";a.d(t,{$h:function(){return s},C:function(){return T},CP:function(){return y},Et:function(){return C},UA:function(){return g},Xz:function(){return p},bk:function(){return d},dr:function(){return m},eW:function(){return f},g8:function(){return h},mS:function(){return b},oX:function(){return v},qE:function(){return A},r4:function(){return k},yF:function(){return w}});var n=a(1750);const l=(0,n.fV)("dict","dict","Search",null,!1,{},[(0,n.fV)("dict","dict","include",null,!1,{},[(0,n.fV)("number","leaf","contains",null,!1,{},[]),(0,n.fV)("number","leaf","equal to",null,!1,{},[]),(0,n.fV)("number","leaf","starts with",null,!1,{},[]),(0,n.fV)("number","leaf","ends with",null,!1,{},[]),(0,n.fV)("number","leaf","less than",null,!1,{},[]),(0,n.fV)("number","leaf","greater than",null,!1,{},[])]),(0,n.fV)("dict","dict","exclude",null,!1,{},[(0,n.fV)("number","leaf","contains",null,!1,{},[]),(0,n.fV)("number","leaf","equal to",null,!1,{},[]),(0,n.fV)("number","leaf","starts with",null,!1,{},[]),(0,n.fV)("number","leaf","ends with",null,!1,{},[]),(0,n.fV)("number","leaf","less than",null,!1,{},[]),(0,n.fV)("number","leaf","greater than",null,!1,{},[])])]),o=(0,n.$e)(l),s=[{name:"顾客搜索",paramTree:o,serviceUrl:"/api/search/customer"}],i=(0,n.fV)("dict","dict","params",null,!1,{hideLabel:!0},[(0,n.fV)("dict","dict","Condition Search",null,!1,{},[(0,n.fV)("string","leaf","Customer",null,!1,{searchMethods:s},[]),(0,n.fV)("string","leaf","City",null,!1,{},[]),(0,n.fV)("string","leaf","Name",null,!1,{},[]),(0,n.fV)("string","leaf","Country Key",null,!1,{},[]),(0,n.fV)("string","leaf","Postal Code",null,!1,{},[])]),(0,n.fV)("dict","dict","ID Search",null,!1,{},[(0,n.fV)("dict","dict","include",null,!1,{},[(0,n.fV)("number","leaf","contains",null,!1,{},[]),(0,n.fV)("number","leaf","equal to",null,!1,{},[]),(0,n.fV)("number","leaf","starts with",null,!1,{},[]),(0,n.fV)("number","leaf","ends with",null,!1,{},[]),(0,n.fV)("number","leaf","less than",null,!1,{},[]),(0,n.fV)("number","leaf","greater than",null,!1,{},[])]),(0,n.fV)("dict","dict","exclude",null,!1,{},[(0,n.fV)("number","leaf","contains",null,!1,{},[]),(0,n.fV)("number","leaf","equal to",null,!1,{},[]),(0,n.fV)("number","leaf","starts with",null,!1,{},[]),(0,n.fV)("number","leaf","ends with",null,!1,{},[]),(0,n.fV)("number","leaf","less than",null,!1,{},[]),(0,n.fV)("number","leaf","greater than",null,!1,{},[])])])],""),r=(0,n.$e)(i),c=(0,n.fV)("dict","dict","Search",null,!1,{},[(0,n.fV)("dict","dict","include",null,!1,{},[(0,n.fV)("number","leaf","contains",null,!1,{},[]),(0,n.fV)("number","leaf","equal to",null,!1,{},[]),(0,n.fV)("number","leaf","starts with",null,!1,{},[]),(0,n.fV)("number","leaf","ends with",null,!1,{},[]),(0,n.fV)("number","leaf","less than",null,!1,{},[]),(0,n.fV)("number","leaf","greater than",null,!1,{},[])]),(0,n.fV)("dict","dict","exclude",null,!1,{},[(0,n.fV)("number","leaf","contains",null,!1,{},[]),(0,n.fV)("number","leaf","equal to",null,!1,{},[]),(0,n.fV)("number","leaf","starts with",null,!1,{},[]),(0,n.fV)("number","leaf","ends with",null,!1,{},[]),(0,n.fV)("number","leaf","less than",null,!1,{},[]),(0,n.fV)("number","leaf","greater than",null,!1,{},[])])]),u=(0,n.$e)(c),d=[{name:"业务伙伴搜索",paramTree:r,serviceUrl:"/api/search/business-partner"}],p=[{name:"G/L Account search",paramTree:null,serviceUrl:"/api/search/gl-account"}],f=[{name:"Currency Unit search",paramTree:null,serviceUrl:"/api/search/currency-unit"}],v=[{name:"关系搜索",paramTree:null,serviceUrl:"/api/search/relation"}],g=[{name:"询价类型搜索",paramTree:null,serviceUrl:"/api/search/inquiry-type"}],m=[{name:"销售组织搜索",paramTree:null,serviceUrl:"/api/search/sales-org"}],h=[{name:"分销渠道搜索",paramTree:null,serviceUrl:"/api/search/distribution-channel"}],y=[{name:"部门搜索",paramTree:null,serviceUrl:"/api/search/division"}],k=[{name:"询价单搜索",paramTree:null,serviceUrl:"/api/search/inquiry-id"}],A=[{name:"物料搜索",paramTree:null,serviceUrl:"/api/search/material"}],b=[{name:"报价单搜索",paramTree:u,serviceUrl:"/api/search/quotation-id"}],V=(0,n.fV)("dict","dict","params",null,!1,{},[(0,n.fV)("string","leaf","quotation_id","",!1,{searchMethods:b}),(0,n.fV)("string","leaf","soldToParty","",!1,{searchMethods:d}),(0,n.fV)("string","leaf","soldToParty","",!1,{searchMethods:d}),(0,n.fV)("string","leaf","search_term","",!1)]),L=(0,n.$e)(V),C=[{name:"销售订单搜索",paramTree:L,serviceUrl:"/api/search/salesOrder-id"}],T=[{name:"开票凭证搜索",paramTree:null,serviceUrl:"/api/search/billing-document-id",resultHeaderDisplay:{result:"开票凭证号",soldToParty:"售达方",netValue:"净值",currency:"货币"}}],w=[{name:"售达方搜索",paramTree:null,serviceUrl:"/api/search/sold-to-party",resultHeaderDisplay:{result:"售达方",city:"城市",country:"国家"}}]},3413:function(e,t,a){"use strict";e.exports=a.p+"img/manage-sales-orders.e57c1fa7.svg"},4429:function(e,t,a){"use strict";e.exports=a.p+"img/create-outbound-deliveries.8f7d3c21.svg"},4440:function(e,t,a){"use strict";e.exports=a.p+"img/create-billing-documents.0ef7e999.svg"},5373:function(e,t,a){"use strict";e.exports=a.p+"img/create-BP-relationship.d1ce7227.svg"},5691:function(e,t,a){"use strict";a.d(t,{A:function(){return p}});var n=a(5796);const l={key:0,class:"stage-container"},o={class:"bottom-bar"},s=["disabled"],i=["disabled"],r="/hide";var c=(0,n.pM)({__name:"AppContent",props:{stages:{},footerConfig:{},beforeNext:{type:Function},beforePrev:{type:Function},afterNext:{type:Function},afterPrev:{type:Function},showNavButtons:{type:Boolean},prevText:{},nextText:{},hideBottomBar:{type:Boolean}},emits:["stage-change","next","prev"],setup(e,{expose:t,emit:a}){const c=(0,n.KR)("body");(0,n.sV)(()=>{c.value="#application-layout"});const u=e,d=(0,n.EW)(()=>!u.hideBottomBar),p=a,{stages:f}=(0,n.QW)(u),v=(0,n.KR)(0),g=(0,n.KR)(!1),m=(0,n.KR)("");async function h(e){if(e>=0&&e<f.value.length&&e!==v.value){const t=v.value;v.value=e,p("stage-change",e,t)}}async function y(){if(!g.value){g.value=!0;try{if(u.beforeNext){const e=await u.beforeNext(v.value,v.value+1);if(!e)return void(g.value=!1)}if(v.value>=f.value.length-1)return void(g.value=!1);const e=v.value,t=v.value+1;p("next",v.value),await h(v.value+1),u.afterNext&&await u.afterNext(e,t)}finally{g.value=!1}}}async function k(){if(!(g.value||v.value<=0)){g.value=!0;try{if(u.beforePrev){const e=await u.beforePrev(v.value,v.value-1);if(!e)return}const e=v.value,t=v.value+1;p("prev",v.value),await h(v.value-1),u.afterPrev&&await u.afterPrev(e,t)}finally{g.value=!1}}}function A(){y()}function b(){k()}const V=(0,n.EW)(()=>({showPrev:v.value>0,showNext:!0,prevText:u.prevText||r,nextText:u.nextText||"Execute"})),L=(0,n.EW)(()=>u.footerConfig?.[v.value]||{}),C=(0,n.EW)(()=>({...V.value,...L.value})),T=(0,n.KR)(0),w=()=>{T.value++};t({forceUpdate:w,footerMessage:m,currentStage:v,goToStage:h,next:A,prev:b,handleNext:y,handlePrev:k,isNavigating:g,getCurrentStageName:()=>f.value[v.value],getTotalStages:()=>f.value.length,isFirstStage:()=>0===v.value,isLastStage:()=>v.value===f.value.length-1,reset:()=>h(0)});const S=(0,n.EW)(()=>({allProps:u,currentStage:v.value,stageName:f.value[v.value],isFirstStage:0===v.value,isLastStage:v.value===f.value.length-1,totalStages:f.value.length,goToStage:h,next:y,prev:k,isNavigating:g.value}));return(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"page-content",key:T.value},[v.value>=0&&v.value<(0,n.R1)(f).length?((0,n.uX)(),(0,n.CE)("div",l,[(0,n.RG)(e.$slots,`stage-${(0,n.R1)(f)[v.value]}`,(0,n._B)((0,n.Ng)(S.value)),()=>[(0,n.Lk)("h2",null,(0,n.v_)((0,n.R1)(f)[v.value]),1)]),t[1]||(t[1]=(0,n.Lk)("span",{class:"bottom-bar-spacing-block"},null,-1)),d.value&&(0,n.R1)(f).length>0?((0,n.uX)(),(0,n.Wv)(n.Im,{key:0,to:c.value},[(0,n.Lk)("div",o,[(0,n.Lk)("p",null,(0,n.v_)(m.value),1),(0,n.RG)(e.$slots,"footer-content-left",(0,n._B)((0,n.Ng)(S.value))),t[0]||(t[0]=(0,n.Lk)("div",{class:"bottom-bar-spacer"},null,-1)),(0,n.RG)(e.$slots,"footer-content-right",(0,n._B)((0,n.Ng)(S.value))),C.value.showPrev&&C.value.prevText!=r?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:k,class:"nav-button prev-button",disabled:g.value},(0,n.v_)(C.value.prevText),9,s)):(0,n.Q3)("",!0),C.value.showNext&&C.value.nextText!=r?((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:y,class:"nav-button next-button",disabled:g.value},(0,n.v_)(C.value.nextText),9,i)):(0,n.Q3)("",!0)])],8,["to"])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)]))}}),u=a(1241);const d=(0,u.A)(c,[["__scopeId","data-v-5cfd3e3e"]]);var p=d},6107:function(e,t,a){"use strict";e.exports=a.p+"img/closed-eye.dc76b962.svg"},6177:function(e,t,a){"use strict";a.d(t,{A:function(){return ce}});a(8111),a(2489),a(7588),a(1701),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);var n=a(5796),l=a.p+"img/search-plus-light.b652b61b.png",o=a.p+"img/search-plus-dark.04489698.png",s=a(1750),i=a(7294),r=a(1740);const c={class:"string-input-container"},u=["readonly","placeholder"],d=["onClick"];var p=(0,n.pM)({__name:"StringInput",props:{...i.m_,modelValue:{type:[String,Number],default:""}},emits:i.md,setup(e,{emit:t}){const a=e,l=t,o=(0,n.EW)(()=>({blur:m,handleEnter:y,allProps:a})),s=(0,n.EW)(()=>(0,r.n)(a.tree,a.nodePath)),i=(0,n.KR)("number"===typeof a.modelValue||"string"===typeof a.modelValue?String(a.modelValue):""),p=(0,n.KR)(!1),f=(0,n.EW)(()=>p.value&&"selection"===a.node?.varType),v=(0,n.EW)(()=>a.node?.config?.options||[]),g=(0,n.EW)(()=>({"string-input":!0,readonly:a.readonly,"selection-style":"selection"===a.node?.varType}));function m(){l("blur",i.value)}function h(){l("focus")}function y(){if(void 0!==a.node?.config?.validators)for(const t of a.node.config.validators){const e=t.creteria(i.value);if(!e){const e=t.message||"输入值不符合要求";return void l("validation-error",e)}}else l("validation-error","");l("enter",i.value);const e={nodePath:a.nodePath};a.node&&l("enter-from-node",a.node,i.value,e),l("validation-error","")}function k(){const e={nodePath:a.nodePath};a.node&&l("input-from-node",a.node,i.value,e)}function A(){p.value=!p.value}function b(e){p.value=e}function V(){"selection"!==a.node?.varType||a.readonly||A()}function L(e){i.value=e,b(!1),y()}function C(){p.value&&b(!1)}return(0,n.wB)(i,e=>{l("update:modelValue",e)}),(0,n.wB)(()=>a.modelValue,e=>{const t="number"===typeof e||"string"===typeof e?String(e):"";i.value!==t&&(i.value=t)},{immediate:!0}),(0,n.sV)(()=>{document.addEventListener("click",C)}),(0,n.hi)(()=>{document.removeEventListener("click",C)}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",c,[(0,n.RG)(e.$slots,`${s.value}--simple`,(0,n._B)((0,n.Ng)(o.value)),()=>[(0,n.Lk)("div",{class:(0,n.C4)(["input-wrapper",{"has-dropdown":"selection"===a.node?.varType}])},[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),readonly:e.readonly,placeholder:e.placeholder,class:(0,n.C4)(g.value),onBlur:m,onFocus:h,onKeyup:(0,n.jR)(y,["enter"]),onClick:(0,n.D$)(V,["stop"]),onInput:k},null,42,u),[[n.Jo,i.value]]),f.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"dropdown-options",onClick:t[1]||(t[1]=(0,n.D$)(()=>{},["stop"]))},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(v.value,e=>((0,n.uX)(),(0,n.CE)("div",{key:e,class:"dropdown-option",onClick:(0,n.D$)(t=>L(e),["stop"])},(0,n.v_)(e),9,d))),128))])):(0,n.Q3)("",!0)],2)])]))}}),f=a(1241);const v=(0,f.A)(p,[["__scopeId","data-v-190c66d9"]]);var g=v;const m={class:"date-input-container"},h={class:"date-input-group"},y=["readonly","placeholder"],k=["disabled"],A=["min","max"];var b=(0,n.pM)({__name:"DateInput",props:i.m_,emits:i.md,setup(e,{emit:t}){const a=e,l=t,o=(0,n.KR)(a.modelValue||""),s=(0,n.KR)(p(a.modelValue)),i=(0,n.KR)(!1),c=(0,n.EW)(()=>({handleInput:v,handleTextInput:v,blur:b,handleEnter:V,showDatePicker:L,handleDateChange:g,hideDatePicker:C,allProps:a})),u=(0,n.EW)(()=>(0,r.n)(a.tree,a.nodePath)),d=(0,n.EW)(()=>({"date-input":!0,readonly:a.readonly}));function p(e){if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return"";const a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");return`${a}-${n}-${l}`}catch{return""}}function f(e){if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return e}}function v(){l("update:modelValue",o.value);const e={nodePath:a.nodePath};a.node&&l("input-from-node",a.node,o.value,e)}function g(){s.value&&(o.value=f(s.value),l("update:modelValue",o.value)),C()}function b(){l("blur",o.value)}function V(){if(void 0!==a.node?.config?.validators)for(const e of a.node.config.validators){const t=e.creteria(o.value);if(!t){const t=e.message||"输入值不符合要求";return void l("validation-error",t)}}else l("validation-error","");if(l("enter",o.value),a.node){const e=o.value.toString(),t={nodePath:a.nodePath};l("enter-from-node",a.node,e,t)}l("validation-error","")}function L(){a.readonly||(i.value=!0,(0,n.dY)(()=>{const e=document.querySelector(".date-picker");e&&e.focus()}))}function C(){setTimeout(()=>{i.value=!1},200)}return(0,n.wB)(()=>a.modelValue,e=>{o.value=e||"",s.value=p(e)}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",m,[(0,n.RG)(e.$slots,`${u.value}--simple`,(0,n._B)((0,n.Ng)(c.value)),()=>[(0,n.RG)(e.$slots,`${u.value}--simple-input-group`,(0,n._B)((0,n.Ng)(c.value)),()=>[(0,n.Lk)("div",h,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),readonly:e.readonly,placeholder:e.placeholder,class:(0,n.C4)(d.value),onInput:v,onBlur:b,onKeyup:(0,n.jR)(V,["enter"])},null,42,y),[[n.Jo,o.value]]),e.readonly?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",class:"date-picker-btn",onClick:L,disabled:e.readonly},t[2]||(t[2]=[(0,n.Fv)('<svg width="18" height="18" viewBox="0 0 18 18" fill="none" data-v-5402e6c8><rect x="3" y="5" width="14" height="12" rx="2" stroke="#606266" stroke-width="1.5" fill="#fff" data-v-5402e6c8></rect><path d="M3 8H17" stroke="#606266" stroke-width="1.5" data-v-5402e6c8></path><rect x="6" y="11" width="2" height="2" rx="1" fill="#606266" data-v-5402e6c8></rect><rect x="9" y="11" width="2" height="2" rx="1" fill="#606266" data-v-5402e6c8></rect><rect x="12" y="11" width="2" height="2" rx="1" fill="#606266" data-v-5402e6c8></rect><path d="M7 3V6" stroke="#606266" stroke-width="1.5" stroke-linecap="round" data-v-5402e6c8></path><path d="M13 3V6" stroke="#606266" stroke-width="1.5" stroke-linecap="round" data-v-5402e6c8></path></svg>',1)]),8,k))])]),i.value?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:0,type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),min:e.config.minDate,max:e.config.maxDate,onChange:g,onBlur:C,class:"date-picker",ref:"datePicker"},null,40,A)),[[n.Jo,s.value]]):(0,n.Q3)("",!0)])]))}});const V=(0,f.A)(b,[["__scopeId","data-v-5402e6c8"]]);var L=V;const C={class:"boolean-input-container"},T={class:"boolean-input-wrapper"},w={class:"var-checkbox"},S=["disabled"];var P=(0,n.pM)({__name:"BooleanInput",props:{...i.m_,modelValue:{type:Boolean,default:!1}},emits:i.c6,setup(e,{emit:t}){const a=e,l=t,o=(0,n.EW)(()=>({handleInput:u,blur:d,handleEnter:p,allProps:a})),s=(0,n.EW)(()=>(0,r.n)(a.tree,a.nodePath)),i=(0,n.KR)(Boolean(a.modelValue)),c=(0,n.EW)(()=>({"boolean-input":!0,readonly:a.readonly}));function u(){l("update:modelValue",i.value)}function d(){l("blur",i.value.toString())}function p(){if(void 0!==a.node?.config?.validators)for(const e of a.node.config.validators){const t=e.creteria(i.value);if(!t){const t=e.message||"输入值不符合要求";return void l("validation-error",t)}}else l("validation-error","");if(l("enter",i.value.toString()),a.node){const e=i.value.toString(),t={nodePath:a.nodePath};l("enter-from-node",a.node,e,t)}l("validation-error","")}return(0,n.wB)(()=>a.modelValue,e=>{i.value=Boolean(e)},{immediate:!0}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",C,[(0,n.RG)(e.$slots,`${s.value}--simple`,(0,n._B)((0,n.Ng)(o.value)),()=>[(0,n.Lk)("div",T,[(0,n.Lk)("label",w,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),disabled:e.readonly,class:(0,n.C4)(c.value),onChange:u,onBlur:d,onKeyup:(0,n.jR)(p,["enter"])},null,42,S),[[n.lH,i.value]]),t[1]||(t[1]=(0,n.Lk)("span",{class:"checkmark"},null,-1))])])])]))}});const D=(0,f.A)(P,[["__scopeId","data-v-1bacfce5"]]);var I=D,x=(a(116),a(7998));const E={class:"param-input-container"},B={key:1,class:"no-params"};var R=(0,n.pM)({__name:"ParamInput",props:{varTree:{}},emits:["update"],setup(e,{emit:t}){const a=t;function l(e){a("update",e)}return(e,t)=>((0,n.uX)(),(0,n.CE)("div",E,[e.varTree?((0,n.uX)(),(0,n.Wv)(x.A,{key:0,tree:e.varTree,onUpdate:l},null,8,["tree"])):((0,n.uX)(),(0,n.CE)("div",B,t[0]||(t[0]=[(0,n.Lk)("p",null,"此搜索方式无需输入参数",-1)])))]))}});const N=(0,f.A)(R,[["__scopeId","data-v-9716f4d2"]]);var Q=N;const M=window.API_BASE_URL||"http://localhost:3000";class U{static async executeSearch(e,t){try{console.log("发送搜索请求:",{url:`${M}${e.serviceUrl}`,method:e.name,params:t});const a=await fetch(`${M}${e.serviceUrl}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error(`HTTP错误: ${a.status} ${a.statusText}`);const n=await a.json();return console.log("搜索响应:",n),n}catch(a){return console.error("搜索请求失败:",a),{success:!1,data:[],total:0,message:"搜索请求失败",error:a instanceof Error?a.message:"未知错误"}}}static async searchBusinessPartner(e){const t={name:"业务伙伴搜索",paramTree:null,serviceUrl:"/search/mock/business-partner"};return this.executeSearch(t,e)}static async searchProduct(e){const t={name:"产品搜索",paramTree:null,serviceUrl:"/search/mock/product"};return this.executeSearch(t,e)}static async simpleSearch(e){const t={name:"简单搜索",paramTree:null,serviceUrl:"/search/mock/simple"};return this.executeSearch(t,{query:e})}static async advancedSearch(e){const t={name:"高级搜索",paramTree:null,serviceUrl:"/search/mock/advanced"};return this.executeSearch(t,e)}}const F={class:"search-modal-header"},K={key:0,class:"search-modal-body"},O={key:0,class:"search-method-selector"},X={class:"method-tabs"},W=["onClick"],_={key:0,class:"more-methods-dropdown"},G=["onClick"],q={class:"param-input-area"},J={key:1,class:"search-modal-body"},j={class:"result-area"},Y={key:1,class:"no-results"},$={class:"search-modal-footer"};var z=(0,n.pM)({__name:"SearchModal",props:{visible:{type:Boolean},searchMethods:{}},emits:["close","confirm"],setup(e,{expose:t,emit:a}){const l=e,o=(0,n.KR)("body");(0,n.sV)(()=>{o.value="#application-layout"});const i=a,r=(0,n.KR)(0),c=(0,n.KR)(0),u=(0,n.KR)(0),d=(0,s.$e)((0,s.fV)("dynamiclist","list","searchResults",[],!1,{},[],"Results")),p=(0,n.KR)(!1),f=(0,n.KR)(3),v=(0,n.EW)(()=>l.searchMethods[u.value]||null),g=(0,n.EW)(()=>l.searchMethods.slice(0,f.value)),m=(0,n.EW)(()=>l.searchMethods.slice(f.value)),h=(0,n.EW)(()=>l.searchMethods.length>f.value),y=(0,n.EW)(()=>1===l.searchMethods.length?v.value.name:"Search"),k=(0,n.EW)(()=>"Search Result");function A(e){console.log(e.value)}async function b(){if(v.value)try{const e=v.value.paramTree?.root?.currentValue||{};console.log("执行搜索:",{method:v.value.name,params:e,url:v.value.serviceUrl});const t=await U.executeSearch(v.value,e);if(t.success&&t.data){const e=t.data.map((e,t)=>(0,s.fV)("dict","dict",`result${t+1}`,{},!1,{selected:!1},[...Object.entries(e).map(([e,t])=>(0,s.fV)("string","leaf",e,String(t),!0,{},[],v.value.resultHeaderDisplay?.[e]||e))])),a=(0,s.$e)((0,s.fV)("dynamiclist","list","searchResults",[],!1,{},e,`搜索结果 (${t.total}条) - ${t.message||""}`));d.setRoot(a.root),console.log(t.data),console.log(e),console.log(a.root),c.value=1}else{console.error("搜索失败:",t.message||t.error);const e=(0,s.$e)((0,s.fV)("dynamiclist","list","searchResults",[],!1,{},[(0,s.fV)("dict","dict","error",{},!1,{},[(0,s.fV)("string","leaf","message",t.message||"搜索失败",!0,{},[],"错误信息"),(0,s.fV)("string","leaf","error",t.error||"未知错误",!0,{},[],"错误详情")])],"搜索失败"));d.setRoot(e.root),c.value=1}}catch(e){console.error("搜索执行失败:",e);const t=(0,s.$e)((0,s.fV)("dynamiclist","list","searchResults",[],!1,{},[(0,s.fV)("dict","dict","error",{},!1,{},[(0,s.fV)("string","leaf","message","网络请求失败",!0,{},[],"错误信息"),(0,s.fV)("string","leaf","error",e instanceof Error?e.message:"未知错误",!0,{},[],"错误详情")])],"搜索异常"));d.setRoot(t.root),c.value=1}}function V(){c.value=0}function L(){i("close")}function C(){const e={method:v.value,params:v.value.paramTree?.root?.currentValue,results:d.root?.currentValue,selectedResults:d.root?.children.filter(e=>e.config.selected).map(e=>e.currentValue),firstSelectedResult:d.root?.children.find(e=>e.config.selected)?.currentValue};i("confirm",e),L()}function T(){L()}function w(e){u.value=e,p.value=!1}function S(e){d.setRoot(e.root),c.value=1}return(0,n.wB)(()=>l.visible,e=>{e&&(c.value=0,u.value=0,1!==l.searchMethods.length||l.searchMethods[0].paramTree||b())}),t({setSearchResults:S}),(e,t)=>e.visible?((0,n.uX)(),(0,n.CE)("div",{class:"search-modal-backdrop",onClick:T,key:r.value},[((0,n.uX)(),(0,n.Wv)(n.Im,{to:o.value},[t[8]||(t[8]=(0,n.Lk)("span",{class:"gray-layer"},null,-1)),(0,n.Lk)("div",{class:"search-modal",onClick:t[1]||(t[1]=(0,n.D$)(()=>{},["stop"]))},[(0,n.Lk)("div",F,[(0,n.Lk)("h3",null,(0,n.v_)(0===c.value?y.value:k.value),1),(0,n.Lk)("button",{class:"close-button",onClick:L},t[2]||(t[2]=[(0,n.Lk)("span",null,"×",-1)]))]),0===c.value?((0,n.uX)(),(0,n.CE)("div",K,[e.searchMethods.length>1?((0,n.uX)(),(0,n.CE)("div",O,[(0,n.Lk)("div",X,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,n.C4)(["method-tab",{active:u.value===t}]),onClick:e=>u.value=t},(0,n.v_)(e.name),11,W))),128)),h.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"method-tab more-tab",onClick:t[0]||(t[0]=e=>p.value=!p.value)}," ... ")):(0,n.Q3)("",!0)]),p.value&&h.value?((0,n.uX)(),(0,n.CE)("div",_,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(m.value,(e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:f.value+t,class:(0,n.C4)(["dropdown-item",{active:u.value===f.value+t}]),onClick:e=>w(f.value+t)},(0,n.v_)(e.name),11,G))),128))])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",q,[(0,n.bF)(Q,{varTree:v.value?.paramTree||null,onUpdate:A},null,8,["varTree"])])])):(0,n.Q3)("",!0),1===c.value?((0,n.uX)(),(0,n.CE)("div",J,[(0,n.Lk)("div",j,[(0,n.R1)(d)?((0,n.uX)(),(0,n.Wv)(x.A,{key:0,tree:(0,n.R1)(d),readonly:!0},null,8,["tree"])):((0,n.uX)(),(0,n.CE)("div",Y,t[3]||(t[3]=[(0,n.Lk)("p",null,"暂无搜索结果",-1)])))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",$,[0===c.value?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"execute-button",onClick:b},t[4]||(t[4]=[(0,n.Lk)("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n.Lk)("path",{d:"M8 5V19L19 12L8 5Z",fill:"currentColor"})],-1)]))):(0,n.Q3)("",!0),1===c.value?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("button",{class:"back-button",onClick:V},t[5]||(t[5]=[(0,n.Lk)("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n.Lk)("path",{d:"M19 12H5M12 19L5 12L12 5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),(0,n.Lk)("button",{class:"cancel-button",onClick:L},t[6]||(t[6]=[(0,n.Lk)("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n.Lk)("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),(0,n.Lk)("button",{class:"confirm-button",onClick:C},t[7]||(t[7]=[(0,n.Lk)("svg",{class:"button-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,n.Lk)("path",{d:"M20 6L9 17L4 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))],64)):(0,n.Q3)("",!0)])])],8,["to"]))])):(0,n.Q3)("",!0)}});const H=(0,f.A)(z,[["__scopeId","data-v-a95204ae"]]);var Z=H;const ee={key:0,src:l,width:"20px"},te={key:1,src:o,width:"20px"},ae=["disabled"],ne=["disabled"],le=["checked"],oe=["checked","onChange"],se=["onClick"];var ie=(0,n.pM)({__name:"VarInput",props:{varTree:{},nodePath:{},readonly:{type:Boolean},config:{},indentLevel:{},showLabel:{type:Boolean},wrapperStyle:{},componentConfig:{}},emits:["update"],setup(e,{emit:t}){const a=e,l=t,o=(0,n.KR)(""),i=(0,n.KR)(null),c=(0,n.KR)(new Set),u=(0,n.KR)(!1),d=(0,n.EW)(()=>({allProps:a,validationError:o,nodeValue:i,currentNode:A.value,pathString:C.value,isLeafNode:S.value,isDictNode:P.value,isListNode:D.value,isDynamicList:x.value,effectiveReadonly:E.value,shouldRenderAsTable:R.value,reachedMaxLength:N.value,containerStyle:Q.value,inputStyle:M.value,nameDisplay:U.value,initNodeValue:re,getLeafComponent:ce,getPlaceholder:ue,getInputClass:de,getTableHeaders:ge,getChildConfig:me,handleValueChange:he,handleChildUpdate:ye,handleValidation:Ae,handleValidationError:be,addListItem:Ve,removeListItem:Le,createNewListItem:Pe,forceUpdate:f,forceUpdateKey:p.value,setNodeValue:T,getNodeValue:w,selectedRows:c.value,isAllSelected:u.value,toggleRowSelection:Ce,toggleAllSelection:Te,removeSelectedItems:Se,handleFocus:j,handleBlur:ke,focusCounter:y.value,searchButtonCounter:h.value,handleSearchButtonClick:Y,displaySearchButton:v.value})),p=(0,n.KR)(0),f=()=>{p.value++},v=(0,n.KR)(!1),m=(0,n.KR)(!1),h=(0,n.KR)(0),y=(0,n.KR)(0),k=(0,n.KR)(!1),A=(0,n.EW)(()=>a.varTree.findNodeByPath(a.nodePath)),b=(0,n.EW)(()=>A.value?.config?.searchMethods||[]),V=(0,n.EW)(()=>v.value&&b.value&&b.value.length>0),C=(0,n.EW)(()=>(0,r.n)(a.varTree,a.nodePath)),T=(e,t=!0,n=!0)=>{A.value&&(A.value.currentValue=e),t&&f(),n&&l("update",{path:a.nodePath,value:e,node:A.value||void 0})},w=()=>A.value?.currentValue,S=(0,n.EW)(()=>A.value&&A.value.isLeaf()),P=(0,n.EW)(()=>A.value&&"dict"===A.value.nodeType),D=(0,n.EW)(()=>A.value&&"list"===A.value.nodeType),x=(0,n.EW)(()=>D.value&&"dynamiclist"===A.value?.varType),E=(0,n.EW)(()=>a.readonly||A.value&&A.value.readonly),B=(0,n.EW)(()=>1!=a.config?.hideLabel&&(void 0==a.showLabel||0!=a.showLabel)),R=(0,n.EW)(()=>!!D.value&&["fixlist","dynamiclist"].includes(A.value?.varType??"")),N=(0,n.EW)(()=>{if(!x.value)return!1;const e=a.config?.maxLength;return!!e&&!!A.value?.children&&A.value.children.length>=e}),Q=(0,n.EW)(()=>({...a.wrapperStyle||{}})),M=(0,n.EW)(()=>({})),U=(0,n.EW)(()=>a.componentConfig?.nameDisplay||A.value?.getNameDisplay()||"未命名"),F=(0,n.EW)(()=>a.config?.classPrefix?a.config.classPrefix:C.value||C.value||"var-input"),K=(0,n.EW)(()=>{const e=A.value?.nodeType;return`wrapper ${F.value}--wrapper ${e}-node-varinput ${F.value}--${e}-node-varinput`}),O=(0,n.EW)(()=>`main ${F.value}--main`),X=(0,n.EW)(()=>`extra ${F.value}--extra`),W=(0,n.EW)(()=>`extra-table-buttons ${F.value}--extra-table-buttons`),_=(0,n.EW)(()=>`search-button ${F.value}--search-button`),G=(0,n.EW)(()=>A.value?.children?A.value.children.filter(e=>pe(e)&&"leaf"===e.nodeType):[]),q=(0,n.EW)(()=>A.value?.children?A.value.children.filter(e=>pe(e)&&("dict"===e.nodeType||"list"===e.nodeType)):[]),J=(0,n.EW)(()=>{if("dynamiclist"!==A.value?.varType)return[];if(!A.value?.config?.childTemplate)return A.value.children;const e=A.value.children.length,t=A.value.config?.rowProvided??3;if(e<t)for(let a=e;a<t;a++)A.value.addChild(Pe());return A.value.children});function j(){v.value=!E.value,h.value++}function Y(){h.value++,v.value=!1,m.value=!1,k.value=!E.value}function $(){m.value=!0}function z(){m.value=!1}function H(){k.value=!1}function ie(e){if(console.log("搜索确认",e),!A.value||!e)return void(k.value=!1);const t=A.value.config?.customSearchResultHandler;if(t&&"function"===typeof t)try{t(e,A.value)}catch(n){console.error("自定义搜索结果处理函数执行失败:",n)}else if(e.firstSelectedResult&&void 0!==e.firstSelectedResult.result)T(e.firstSelectedResult.result);else if(e.selectedResults&&e.selectedResults.length>0){const t=e.selectedResults[0];t&&void 0!==t.result&&T(t.result)}l("update",{path:a.nodePath,value:A.value.currentValue,node:A.value,action:"search_result"}),k.value=!1}function re(){S.value&&A.value&&(i.value=A.value.defaultValue)}function ce(){if(!A.value)return g;const e={string:g,number:g,date:L,selection:g,boolean:I};return e[A.value.varType]||g}function ue(){return""}function de(){const e=`${F.value}--readonly`,t=`${F.value}--error`;return{readonly:E.value,error:!!o.value,[e]:E.value,[t]:!!o.value}}function pe(e){return A.value?.config?.showWhiteList?e.name&&A.value.config.showWhiteList.includes(e.name):(!e.name||!(A.value.config?.hideList||[]).includes(e.name))&&!e.config?.hideSelf}function fe(e){return e.name&&A.value?.config?.childNameDisplayTranslation&&A.value.config.childNameDisplayTranslation[e.name]||null}function ve(e){return{nameDisplay:fe(e)}}function ge(){const e="值";if(void 0!==a.config?.childTemplate?.children&&a.config.childTemplate.children.length>0){const t=a.config.childTemplate.children.filter(e=>pe(e));return t.map(t=>t.nameDisplay||t.name||e)}const t=A.value?.children[0];if(!t)return[e];if("dict"===t.nodeType){const a=t.children.filter(e=>pe(e));return a.map(t=>t.nameDisplay||t.name||e)}return t.nameDisplay?[t.nameDisplay]:[e]}function me(e){return e.config||{}}function he(e){A.value&&(A.value.currentValue=e),l("update",{path:a.nodePath,value:e,node:A.value||void 0})}function ye(e){l("update",e)}function ke(){Ae();const e=h.value,t=y.value;setTimeout(()=>{h.value===e&&y.value===t&&(v.value=!1)},333)}function Ae(){}function be(e=""){o.value=e||""}function Ve(){if(!x.value||E.value)return;const e=Pe();e&&A.value&&(A.value.addChild(e),f(),l("update",{path:a.nodePath,action:"addItem",node:A.value}))}function Le(e){if(x.value&&!E.value&&A.value){A.value.removeChild(e),c.value.delete(e);const t=new Set;c.value.forEach(a=>{a>e?t.add(a-1):a<e&&t.add(a)}),c.value=t,we(),f(),l("update",{path:a.nodePath,action:"removeItem",index:e,node:A.value})}}function Ce(e){c.value.has(e)?c.value.delete(e):c.value.add(e),we()}function Te(){if(u.value)c.value.clear();else{c.value.clear();const e=A.value?.children?.length||0;for(let t=0;t<e;t++)c.value.add(t)}we()}function we(){const e=A.value?.children?.length||0;u.value=e>0&&c.value.size===e,A.value&&A.value.children.forEach((e,t)=>{A.value?.selectChild(t,c.value.has(t))})}function Se(){if(!x.value||E.value||0===c.value.size)return;const e=Array.from(c.value).sort((e,t)=>t-e);for(const t of e)A.value&&A.value.removeChild(t);c.value.clear(),u.value=!1,f(),l("update",{path:a.nodePath,action:"removeSelectedItems",node:A.value||void 0})}function Pe(){if(a.config?.childTemplate)return(0,s.bM)(a.config.childTemplate);const e=A.value?.children[A.value.children.length-1];return e?e.template():(0,s.bM)({name:"新项",varType:"string",nodeType:"leaf",defaultValue:""})}return(0,n.wB)(A,()=>{re()},{immediate:!0,deep:!0}),(0,n.wB)(()=>A.value?.children?.length,()=>{c.value.clear(),u.value=!1},{immediate:!0}),(e,t)=>{const a=(0,n.g2)("VarInput",!0);return(0,n.uX)(),(0,n.CE)("div",{class:(0,n.C4)(K.value),key:p.value},[(0,n.RG)(e.$slots,`${C.value}--wrapper`,(0,n._B)((0,n.Ng)(d.value)),()=>[(0,n.Lk)("div",{class:(0,n.C4)(O.value)},[(0,n.RG)(e.$slots,`${C.value}--main`,(0,n._B)((0,n.Ng)(d.value)),()=>[void 0!==e.config?.customComponent?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(`custom-component ${F.value}--custom-component`)},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.config.customComponent),{modelValue:A.value?.currentValue,readonly:E.value,placeholder:ue(),config:e.config,style:(0,n.Tr)(M.value),tree:e.varTree,node:A.value,nodePath:e.nodePath,varTree:e.varTree,class:(0,n.C4)(de()),onUpdate:ye,"onUpdate:modelValue":he,onBlur:ke,onValidationError:be},(0,n.eX)({_:2},[(0,n.pI)(e.$slots,(t,a)=>({name:a,fn:(0,n.k6)(t=>[(0,n.RG)(e.$slots,a,(0,n._B)((0,n.Ng)(t)))])}))]),1064,["modelValue","readonly","placeholder","config","style","tree","node","nodePath","varTree","class"]))],2)):((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,n.C4)(`var-input-container ${F.value}--var-input-container`),style:(0,n.Tr)(Q.value)},[S.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(`leaf-node ${F.value}--leaf-node`)},[(0,n.RG)(e.$slots,`${C.value}--var-label`,(0,n._B)((0,n.Ng)(d.value)),()=>[B.value?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,n.C4)(`var-label ${F.value}--var-label`)},(0,n.v_)(U.value),3)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",{class:(0,n.C4)(`leaf-input-container ${F.value}--leaf-input-container`)},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(ce()),(0,n.v6)({modelValue:A.value?.currentValue,readonly:E.value,placeholder:ue(),config:e.config,class:de(),style:M.value,tree:e.varTree,node:A.value,nodePath:e.nodePath},e.$attrs,{"onUpdate:modelValue":he,onBlur:ke,onValidationError:be,onFocus:j}),(0,n.eX)({_:2},[(0,n.pI)(e.$slots,(t,a)=>({name:a,fn:(0,n.k6)(t=>[(0,n.RG)(e.$slots,a,(0,n._B)((0,n.Ng)(t)))])}))]),1040,["modelValue","readonly","placeholder","config","class","style","tree","node","nodePath"])),e.$slots[`${C.value}--extra`]?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(X.value)},[(0,n.RG)(e.$slots,`${C.value}--extra`,(0,n._B)((0,n.Ng)(d.value)))],2)):(0,n.Q3)("",!0),V.value?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,n.C4)(`search-button-container ${F.value}--search-button-container`)},[(0,n.RG)(e.$slots,`${C.value}--search-button`,(0,n._B)((0,n.Ng)(d.value)),()=>[(0,n.Lk)("button",{class:(0,n.C4)(_.value),onClick:Y,onMouseenter:$,onMouseleave:z},[m.value?((0,n.uX)(),(0,n.CE)("img",ee)):((0,n.uX)(),(0,n.CE)("img",te))],34)])],2)):(0,n.Q3)("",!0)],2),o.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(`error-message ${F.value}--error-message`)},(0,n.v_)(o.value),3)):(0,n.Q3)("",!0)],2)):P.value?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,n.C4)(`dict-node ${F.value}--dict-node`)},[B.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(`dict-header ${F.value}--dict-header`)},[(0,n.RG)(e.$slots,`${C.value}--var-label`,(0,n._B)((0,n.Ng)(d.value)),()=>[B.value?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,n.C4)(`var-label ${F.value}--var-label`)},(0,n.v_)(U.value),3)):(0,n.Q3)("",!0)])],2)):(0,n.Q3)("",!0),e.$slots[`${C.value}--extra`]?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,n.C4)(X.value)},[(0,n.RG)(e.$slots,`${C.value}--extra`,(0,n._B)((0,n.Ng)(d.value)))],2)):(0,n.Q3)("",!0),(0,n.Lk)("div",{class:(0,n.C4)(`dict-content ${F.value}--dict-content`),style:(0,n.Tr)({paddingLeft:e.indentLevel+"px"})},[G.value.length>0?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(`dict-leaf-section ${F.value}--dict-leaf-section`)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(G.value,(t,l)=>((0,n.uX)(),(0,n.Wv)(a,(0,n.v6)({key:t.name+"_leaf_"+l,varTree:e.varTree,nodePath:[...e.nodePath,t.name],readonly:E.value??!1,config:me(t),indentLevel:0,showLabel:!0,componentConfig:ve(t),class:`dict-item dict-item--${t.nodeType} ${F.value}--dict-item ${F.value}--dict-item--${t.nodeType}`,onUpdate:ye,onFocus:j},{ref_for:!0},e.$attrs),(0,n.eX)({_:2},[(0,n.pI)(e.$slots,(t,a)=>({name:a,fn:(0,n.k6)(t=>[(0,n.RG)(e.$slots,a,(0,n.v6)({ref_for:!0},t))])}))]),1040,["varTree","nodePath","readonly","config","componentConfig","class"]))),128)),e.$slots[`${C.value}--leaf`]?(0,n.RG)(e.$slots,`${C.value}--leaf`,(0,n._B)((0,n.v6)({key:0},d.value))):(0,n.Q3)("",!0)],2)):(0,n.Q3)("",!0),q.value.length>0?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,n.C4)(`dict-complex-section ${F.value}--dict-complex-section`)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(q.value,(t,l)=>((0,n.uX)(),(0,n.Wv)(a,(0,n.v6)({key:t.name+"_complex_"+l,varTree:e.varTree,nodePath:[...e.nodePath,t.name],readonly:E.value??!1,config:me(t),indentLevel:(e.indentLevel??0)+20,showLabel:!0,componentConfig:ve(t),class:`dict-item dict-item--${t.nodeType} ${F.value}--dict-item ${F.value}--dict-item--${t.nodeType}`,onUpdate:ye},{ref_for:!0},e.$attrs),(0,n.eX)({_:2},[(0,n.pI)(e.$slots,(t,a)=>({name:a,fn:(0,n.k6)(t=>[(0,n.RG)(e.$slots,a,(0,n.v6)({ref_for:!0},t))])}))]),1040,["varTree","nodePath","readonly","config","indentLevel","componentConfig","class"]))),128)),e.$slots[`${C.value}--complex-leaf`]?(0,n.RG)(e.$slots,`${C.value}--complex-leaf`,(0,n._B)((0,n.v6)({key:0},d.value))):(0,n.Q3)("",!0)],2)):(0,n.Q3)("",!0)],6)],2)):D.value?((0,n.uX)(),(0,n.CE)("div",{key:2,class:(0,n.C4)(`list-node ${F.value}--list-node`)},[B.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(`list-header ${F.value}--list-header`)},[(0,n.RG)(e.$slots,`${C.value}--var-label`,(0,n._B)((0,n.Ng)(d.value)),()=>[B.value?((0,n.uX)(),(0,n.CE)("label",{key:0,class:(0,n.C4)(`var-label ${F.value}--var-label`)},(0,n.v_)(U.value),3)):(0,n.Q3)("",!0)])],2)):(0,n.Q3)("",!0),(0,n.Lk)("div",{class:(0,n.C4)(`list-header-actions ${F.value}--list-header-actions`)},[x.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(`list-controls ${F.value}--list-controls`)},[E.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:Ve,disabled:!!N.value,class:(0,n.C4)(`btn-add ${F.value}--btn-add`)}," + ",10,ae)),E.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:Se,disabled:0===c.value.size,class:(0,n.C4)(`btn-remove-selected ${F.value}--btn-remove-selected`)}," - ",10,ne)),e.$slots[`${C.value}--extra-buttons`]?((0,n.uX)(),(0,n.CE)("div",{key:2,class:(0,n.C4)(W.value)},[(0,n.RG)(e.$slots,`${C.value}--extra-buttons`,(0,n._B)((0,n.Ng)(d.value)))],2)):(0,n.Q3)("",!0)],2)):(0,n.Q3)("",!0),e.$slots[`${C.value}--extra`]?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,n.C4)(X.value)},[(0,n.RG)(e.$slots,`${C.value}--extra`,(0,n._B)((0,n.Ng)(d.value)))],2)):(0,n.Q3)("",!0)],2),(0,n.Lk)("div",{class:(0,n.C4)(`list-content ${F.value}--list-content`)},[R.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(`table-container ${F.value}--table-container`)},[(0,n.Lk)("table",{class:(0,n.C4)(`list-table ${F.value}--list-table`)},[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{class:(0,n.C4)(`select-column ${F.value}--select-column`)},[(0,n.Lk)("label",{class:(0,n.C4)(`var-checkbox ${F.value}--var-checkbox`)},[(0,n.Lk)("input",{type:"checkbox",checked:u.value,onChange:Te,class:(0,n.C4)(`var-checkbox select-all-checkbox ${F.value}--select-all-checkbox`)},null,42,le),t[0]||(t[0]=(0,n.Lk)("span",{class:"checkmark"},null,-1))],2)],2),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ge(),(e,t)=>((0,n.uX)(),(0,n.CE)("th",{key:t},(0,n.v_)(e),1))),128))])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(J.value,(l,o)=>((0,n.uX)(),(0,n.CE)("tr",{key:`${l.name}_${l.index}_${o}`,class:(0,n.C4)(`list-row ${F.value}--list-row`)},[(0,n.Lk)("td",{class:(0,n.C4)(`select-cell ${F.value}--select-cell`)},[(0,n.Lk)("label",{class:(0,n.C4)(`var-checkbox ${F.value}--var-checkbox`)},[(0,n.Lk)("input",{type:"checkbox",checked:c.value.has(o),onChange:e=>Ce(o),class:(0,n.C4)(`row-select-checkbox ${F.value}--row-select-checkbox`)},null,42,oe),t[1]||(t[1]=(0,n.Lk)("span",{class:"checkmark"},null,-1))],2)],2),"dict"===l.nodeType?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(l.children.filter(e=>pe(e)),(t,s)=>((0,n.uX)(),(0,n.CE)("td",{key:s,class:(0,n.C4)(`list-cell ${F.value}--list-cell`)},[(0,n.bF)(a,(0,n.v6)({varTree:e.varTree,nodePath:[...e.nodePath,o.toString(),t.name],readonly:E.value??!1,config:me(t),showLabel:!1,componentConfig:ve(l),onUpdate:ye},{ref_for:!0},e.$attrs),(0,n.eX)({_:2},[(0,n.pI)(e.$slots,(t,a)=>({name:a,fn:(0,n.k6)(t=>[(0,n.RG)(e.$slots,a,(0,n.v6)({ref_for:!0},t))])}))]),1040,["varTree","nodePath","readonly","config","componentConfig"])],2))),128)):((0,n.uX)(),(0,n.CE)("td",{key:1,class:(0,n.C4)(`list-cell ${F.value}--list-cell`)},[(0,n.bF)(a,(0,n.v6)({varTree:e.varTree,nodePath:[...e.nodePath,o.toString()],readonly:E.value??!1,config:me(l),showLabel:!0,componentConfig:ve(l),onUpdate:ye},{ref_for:!0},e.$attrs),(0,n.eX)({_:2},[(0,n.pI)(e.$slots,(t,a)=>({name:a,fn:(0,n.k6)(t=>[(0,n.RG)(e.$slots,a,(0,n.v6)({ref_for:!0},t))])}))]),1040,["varTree","nodePath","readonly","config","componentConfig"])],2))],2))),128))])],2)],2)):((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,n.C4)(`list-items ${F.value}--list-items`)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(A.value?.children,(t,l)=>((0,n.uX)(),(0,n.CE)("div",{key:`${t.name}_${t.index}_${l}`,class:(0,n.C4)(`list-item ${F.value}--list-item`),style:(0,n.Tr)({paddingLeft:e.indentLevel+"px"})},[(0,n.Lk)("div",{class:(0,n.C4)(`list-item-header ${F.value}--list-item-header`)},[(0,n.Lk)("span",{class:(0,n.C4)(`item-index ${F.value}--item-index`)},"["+(0,n.v_)(l)+"]",3),x.value&&!E.value?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:e=>Le(l),class:(0,n.C4)(`btn-remove-inline ${F.value}--btn-remove-inline`)}," 删除 ",10,se)):(0,n.Q3)("",!0)],2),(0,n.bF)(a,(0,n.v6)({varTree:e.varTree,nodePath:[...e.nodePath,l.toString()],readonly:E.value??!1,config:me(t),showLabel:!0,componentConfig:ve(t),indentLevel:(e.indentLevel??0)+20,onUpdate:ye},{ref_for:!0},e.$attrs),(0,n.eX)({_:2},[(0,n.pI)(e.$slots,(t,a)=>({name:a,fn:(0,n.k6)(t=>[(0,n.RG)(e.$slots,a,(0,n.v6)({ref_for:!0},t))])}))]),1040,["varTree","nodePath","readonly","config","componentConfig","indentLevel"])],6))),128))],2))],2)],2)):(0,n.Q3)("",!0)],6))])],2)]),(0,n.bF)(Z,{visible:k.value,searchMethods:b.value,onClose:H,onConfirm:ie},null,8,["visible","searchMethods"])],2)}}});const re=(0,f.A)(ie,[["__scopeId","data-v-dbd4c8f2"]]);var ce=re},7294:function(e,t,a){"use strict";a.d(t,{c6:function(){return i},m_:function(){return l},md:function(){return s}});var n=a(1750);const l={modelValue:{type:String,default:""},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:""},config:{type:Object,default:()=>({})},node:{type:Object,default:null},tree:{type:Object,default:null},nodePath:{type:Array,default:()=>[]}},o={"enter-from-node":(e,t,a)=>e instanceof n.wK&&"string"===typeof t,"input-from-node":(e,t,a)=>e instanceof n.wK&&"string"===typeof t},s={"update:modelValue":e=>"string"===typeof e,blur:e=>"string"===typeof e,enter:e=>"string"===typeof e,"validation-error":e=>"string"===typeof e&&e.length>0,focus:()=>!0,...o},i={"update:modelValue":e=>"boolean"===typeof e,blur:e=>"string"===typeof e,enter:e=>"string"===typeof e,"validation-error":e=>"string"===typeof e&&e.length>0,...o}},7299:function(e,t,a){"use strict";e.exports=a.p+"img/manage-sales-quotations.e57c1fa7.svg"},7887:function(e,t,a){"use strict";e.exports=a.p+"img/open-eye.3c88951c.svg"},7998:function(e,t,a){"use strict";a.d(t,{A:function(){return i}});var n=a(5796),l=a(6177),o=(0,n.pM)({__name:"VarBox",props:{tree:{},indentLevel:{},wrapperStyle:{},path:{},hideLabel:{type:Boolean}},emits:["update"],setup(e,{emit:t}){const a=e,o=t;function s(e){o("update",e)}const i=(0,n.EW)(()=>1!=a.hideLabel);return(e,t)=>a.tree?((0,n.uX)(),(0,n.Wv)(l.A,(0,n.v6)({key:0,varTree:a.tree,nodePath:a.path??[],readonly:a.tree.root?.readonly,config:a.tree.root?.config,indentLevel:a.indentLevel,showLabel:i.value,wrapperStyle:a.wrapperStyle,onUpdate:s},e.$attrs,{key:a.tree.forceUpdateKey.value}),(0,n.eX)({_:2},[(0,n.pI)(e.$slots,(t,a)=>({name:a,fn:(0,n.k6)(t=>[(0,n.RG)(e.$slots,a,(0,n._B)((0,n.Ng)(t)))])}))]),1040,["varTree","nodePath","readonly","config","indentLevel","showLabel","wrapperStyle"])):(0,n.Q3)("",!0)}});const s=o;var i=s},8196:function(e,t,a){"use strict";e.exports=a.p+"img/manage-outbound-deliveries.598383e3.svg"}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,l,o){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],o=e[u][2];for(var i=!0,r=0;r<n.length;r++)(!1&o||s>=o)&&Object.keys(a.O).every(function(e){return a.O[e](n[r])})?n.splice(r--,1):(i=!1,o<s&&(s=o));if(i){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,l,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,n){return a.f[n](e,t),t},[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{13:"4b2314f7",118:"c54747ad"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{13:"e72b6552",118:"1635c4bc"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="site:";a.l=function(n,l,o,s){if(e[n])e[n].push(l);else{var i,r;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(r=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=n),e[n]=[l];var p=function(t,a){i.onerror=i.onload=null,clearTimeout(f);var l=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),l&&l.forEach(function(e){return e(a)}),t)return t(a)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),r&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,l,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",a.nc&&(s.nonce=a.nc);var i=function(a){if(s.onerror=s.onload=null,"load"===a.type)l();else{var n=a&&a.type,i=a&&a.target&&a.target.href||t,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+i+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=n,r.request=i,s.parentNode&&s.parentNode.removeChild(s),o(r)}};return s.onerror=s.onload=i,s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var l=a[n],o=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(o===e||o===t))return l}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){l=s[n],o=l.getAttribute("data-href");if(o===e||o===t)return l}},n=function(n){return new Promise(function(l,o){var s=a.miniCssF(n),i=a.p+s;if(t(s,i))return l();e(n,i,null,l,o)})},l={524:0};a.f.miniCss=function(e,t){var a={13:1,118:1};l[e]?t.push(l[e]):0!==l[e]&&a[e]&&t.push(l[e]=n(e).then(function(){l[e]=0},function(t){throw delete l[e],t}))}}}(),function(){var e={524:0};a.f.j=function(t,n){var l=a.o(e,t)?e[t]:void 0;if(0!==l)if(l)n.push(l[2]);else{var o=new Promise(function(a,n){l=e[t]=[a,n]});n.push(l[2]=o);var s=a.p+a.u(t),i=new Error,r=function(n){if(a.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,l[1](i)}};a.l(s,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,o,s=n[0],i=n[1],r=n[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(r)var u=r(a)}for(t&&t(n);c<s.length;c++)o=s[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self["webpackChunksite"]=self["webpackChunksite"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],function(){return a(1282)});n=a.O(n)})();
//# sourceMappingURL=app.aa0b938e.js.map