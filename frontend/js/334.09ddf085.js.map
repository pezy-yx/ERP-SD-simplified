{"version":3,"file":"js/334.09ddf085.js","mappings":"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","sources":["webpack://site/./src/views/postingIncomingPayments/displayJournalEntry.vue?f54f","webpack://site/./src/views/postingIncomingPayments/displayJournalEntry.vue","webpack://site/./src/views/postingIncomingPayments/displayJournalEntry.vue?0b7a"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createStaticVNode as _createStaticVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"journal-entry-detail-page\" }\nconst _hoisted_2 = { class: \"detail-header\" }\nconst _hoisted_3 = { key: 0 }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"loading-state\"\n}\nconst _hoisted_5 = {\n  key: 1,\n  class: \"error-state\"\n}\nconst _hoisted_6 = {\n  key: 2,\n  class: \"details-content\"\n}\nconst _hoisted_7 = { class: \"overview-section\" }\nconst _hoisted_8 = { class: \"detail-grid\" }\nconst _hoisted_9 = { class: \"line-items-section\" }\nconst _hoisted_10 = {\n  key: 0,\n  class: \"query-results-list\",\n  style: {\"width\":\"100%\"}\n}\nconst _hoisted_11 = { class: \"material-document-rows-container\" }\nconst _hoisted_12 = { class: \"row-item company-code\" }\nconst _hoisted_13 = { class: \"row-item account\" }\nconst _hoisted_14 = { class: \"row-item journal-entry\" }\nconst _hoisted_15 = { class: \"row-item journal-entry-type\" }\nconst _hoisted_16 = { class: \"row-item journal-entry-date\" }\nconst _hoisted_17 = { class: \"actions-footer\" }\nconst _hoisted_18 = {\n  key: 3,\n  class: \"no-data-state\"\n}\n\nimport { ref, onMounted } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\n\r\ninterface LineItem {\r\n    postingViewItem: string;\r\n    glAccount: string;\r\n    credit: string; // 根据您的mock，这些是字符串，如果实际是数字，请改为 number\r\n    debit: string;  // 根据您的mock，这些是字符串，如果实际是数字，请改为 number\r\n    currency: string;\r\n}\r\n\r\ninterface JournalEntryDetailData {\r\n    journalEntryId: string;\r\n    companyCode: string;\r\n    account: string;\r\n    journalEntryType: string;\r\n    journalEntryDate: string;\r\n    postingDate: string;\r\n    postingPeriod: string;\r\n    amount: string; // 根据您的mock，这里是字符串，如果实际是数字，请改为 number\r\n    assignment: string;\r\n    currency: string;\r\n    createdBy: string;\r\n    lineItems: { // 现在 lineItems 是一个对象\r\n        [key: string]: LineItem; // 键是 'item1', 'item2' 等，值是 LineItem 类型\r\n    };\r\n}\r\n// >>> 修改结束 <<<\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'displayJournalEntry',\n  setup(__props) {\n\r\nconst route = useRoute();\r\nlet API_BASE_URL = window.API_BASE_URL || '';\r\nonMounted(() => {\r\n  API_BASE_URL = window.API_BASE_URL || ''\r\n})\r\n\r\nconst journalEntryNumber = ref<string | null>(null);\r\nconst journalEntryDetails = ref<JournalEntryDetailData | null>(null); // 明确类型\r\nconst isLoading = ref(true);\r\nconst error = ref<string | null>(null);\r\n\r\n// >>> 修改：更新 JournalEntryDetailData 接口以匹配新的后端结构 <<<\r\nonMounted(async () => {\r\n    journalEntryNumber.value = route.params.id as string;\r\n\r\n    if (!journalEntryNumber.value) {\r\n        error.value = 'Journal Entry Number not provided.';\r\n        isLoading.value = false;\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/api/finance/journalEntryDetails`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ journalEntryId: journalEntryNumber.value })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            console.log(\"no ok\");\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const result = await response.json();\r\n\r\n        if (result.success && result.data) {\r\n            journalEntryDetails.value = result.data as JournalEntryDetailData;\r\n        } else {\r\n            error.value = result.message || 'Failed to load journal entry details.';\r\n        }\r\n    } catch (e: any) {\r\n        error.value = 'Error fetching details: ' + e.message;\r\n        console.error(e);\r\n    } finally {\r\n        isLoading.value = false;\r\n    }\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"header\", _hoisted_2, [\n      _cache[3] || (_cache[3] = _createElementVNode(\"h1\", null, \"Journal Entry Details\", -1)),\n      (journalEntryNumber.value)\n        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, [\n            _cache[2] || (_cache[2] = _createTextVNode(\"For Journal Entry: \")),\n            _createElementVNode(\"strong\", null, _toDisplayString(journalEntryNumber.value), 1)\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    (isLoading.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \" Loading details... \"))\n      : (error.value)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"p\", null, _toDisplayString(error.value), 1),\n            _createElementVNode(\"button\", {\n              onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$router.go(-1)))\n            }, \"Go Back\")\n          ]))\n        : (journalEntryDetails.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n              _createElementVNode(\"section\", _hoisted_7, [\n                _cache[14] || (_cache[14] = _createElementVNode(\"h3\", null, \"Overview\", -1)),\n                _createElementVNode(\"div\", _hoisted_8, [\n                  _createElementVNode(\"div\", null, [\n                    _cache[4] || (_cache[4] = _createElementVNode(\"strong\", null, \"Journal Entry ID:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.journalEntryId), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _cache[5] || (_cache[5] = _createElementVNode(\"strong\", null, \"Company Code:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.companyCode), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _cache[6] || (_cache[6] = _createElementVNode(\"strong\", null, \"Account:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.account), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _cache[7] || (_cache[7] = _createElementVNode(\"strong\", null, \"Entry Type:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.journalEntryType), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _cache[8] || (_cache[8] = _createElementVNode(\"strong\", null, \"Journal Entry Date:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.journalEntryDate), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"Posting Date:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.postingDate), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _cache[10] || (_cache[10] = _createElementVNode(\"strong\", null, \"Posting Period:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.postingPeriod), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _cache[11] || (_cache[11] = _createElementVNode(\"strong\", null, \"Amount:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.amount) + \" \" + _toDisplayString(journalEntryDetails.value.currency), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _cache[12] || (_cache[12] = _createElementVNode(\"strong\", null, \"Assignment:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.assignment), 1)\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _cache[13] || (_cache[13] = _createElementVNode(\"strong\", null, \"Created By:\", -1)),\n                    _createTextVNode(\" \" + _toDisplayString(journalEntryDetails.value.createdBy), 1)\n                  ])\n                ])\n              ]),\n              _createElementVNode(\"section\", _hoisted_9, [\n                _cache[17] || (_cache[17] = _createElementVNode(\"h3\", null, \"Line Items\", -1)),\n                (journalEntryDetails.value.lineItems)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                      _createElementVNode(\"div\", _hoisted_11, [\n                        _cache[16] || (_cache[16] = _createStaticVNode(\"<div class=\\\"material-document-row-header\\\" data-v-4dd6e9fd><div class=\\\"header-item company-code\\\" data-v-4dd6e9fd>Posting View Item</div><div class=\\\"header-item account\\\" data-v-4dd6e9fd>G/L Account</div><div class=\\\"header-item journal-entry\\\" data-v-4dd6e9fd>Debit</div><div class=\\\"header-item journal-entry-type\\\" data-v-4dd6e9fd>Credit</div><div class=\\\"header-item journal-entry-date\\\" data-v-4dd6e9fd>Currency</div><div class=\\\"header-item\\\" data-v-4dd6e9fd></div></div>\", 1)),\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(journalEntryDetails.value.lineItems, (item, index) => {\n                          return (_openBlock(), _createElementBlock(\"div\", {\n                            key: index,\n                            class: \"material-document-row\"\n                          }, [\n                            _createElementVNode(\"span\", _hoisted_12, _toDisplayString(item.postingViewItem), 1),\n                            _createElementVNode(\"span\", _hoisted_13, _toDisplayString(item.glAccount), 1),\n                            _createElementVNode(\"span\", _hoisted_14, _toDisplayString(item.debit), 1),\n                            _createElementVNode(\"span\", _hoisted_15, _toDisplayString(item.credit), 1),\n                            _createElementVNode(\"span\", _hoisted_16, _toDisplayString(item.currency), 1),\n                            _cache[15] || (_cache[15] = _createElementVNode(\"span\", { class: \"row-item arrow-icon\" }, \"▶\", -1))\n                          ]))\n                        }), 128))\n                      ])\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _createElementVNode(\"div\", _hoisted_17, [\n                _createElementVNode(\"button\", {\n                  onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$router.go(-1))),\n                  class: \"btn\"\n                }, \"Back to Payment\")\n              ])\n            ]))\n          : (_openBlock(), _createElementBlock(\"div\", _hoisted_18, \" No details found. \"))\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\n\r\nconst route = useRoute();\r\nlet API_BASE_URL = window.API_BASE_URL || '';\r\nonMounted(() => {\r\n  API_BASE_URL = window.API_BASE_URL || ''\r\n})\r\n\r\nconst journalEntryNumber = ref<string | null>(null);\r\nconst journalEntryDetails = ref<JournalEntryDetailData | null>(null); // 明确类型\r\nconst isLoading = ref(true);\r\nconst error = ref<string | null>(null);\r\n\r\n// >>> 修改：更新 JournalEntryDetailData 接口以匹配新的后端结构 <<<\r\ninterface LineItem {\r\n    postingViewItem: string;\r\n    glAccount: string;\r\n    credit: string; // 根据您的mock，这些是字符串，如果实际是数字，请改为 number\r\n    debit: string;  // 根据您的mock，这些是字符串，如果实际是数字，请改为 number\r\n    currency: string;\r\n}\r\n\r\ninterface JournalEntryDetailData {\r\n    journalEntryId: string;\r\n    companyCode: string;\r\n    account: string;\r\n    journalEntryType: string;\r\n    journalEntryDate: string;\r\n    postingDate: string;\r\n    postingPeriod: string;\r\n    amount: string; // 根据您的mock，这里是字符串，如果实际是数字，请改为 number\r\n    assignment: string;\r\n    currency: string;\r\n    createdBy: string;\r\n    lineItems: { // 现在 lineItems 是一个对象\r\n        [key: string]: LineItem; // 键是 'item1', 'item2' 等，值是 LineItem 类型\r\n    };\r\n}\r\n// >>> 修改结束 <<<\r\n\r\nonMounted(async () => {\r\n    journalEntryNumber.value = route.params.id as string;\r\n\r\n    if (!journalEntryNumber.value) {\r\n        error.value = 'Journal Entry Number not provided.';\r\n        isLoading.value = false;\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/api/finance/journalEntryDetails`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ journalEntryId: journalEntryNumber.value })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            console.log(\"no ok\");\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        const result = await response.json();\r\n\r\n        if (result.success && result.data) {\r\n            journalEntryDetails.value = result.data as JournalEntryDetailData;\r\n        } else {\r\n            error.value = result.message || 'Failed to load journal entry details.';\r\n        }\r\n    } catch (e: any) {\r\n        error.value = 'Error fetching details: ' + e.message;\r\n        console.error(e);\r\n    } finally {\r\n        isLoading.value = false;\r\n    }\r\n});\r\n</script>\r\n\r\n<template>\r\n<div class=\"journal-entry-detail-page\">\r\n    <header class=\"detail-header\">\r\n    <h1>Journal Entry Details</h1>\r\n    <p v-if=\"journalEntryNumber\">For Journal Entry: <strong>{{ journalEntryNumber }}</strong></p>\r\n    </header>\r\n\r\n    <div v-if=\"isLoading\" class=\"loading-state\">\r\n    Loading details...\r\n    </div>\r\n\r\n    <div v-else-if=\"error\" class=\"error-state\">\r\n    <p>{{ error }}</p>\r\n    <button @click=\"$router.go(-1)\">Go Back</button>\r\n    </div>\r\n\r\n    <div v-else-if=\"journalEntryDetails\" class=\"details-content\">\r\n    <section class=\"overview-section\">\r\n        <h3>Overview</h3>\r\n        <div class=\"detail-grid\">\r\n        <div><strong>Journal Entry ID:</strong> {{ journalEntryDetails.journalEntryId }}</div>\r\n        <div><strong>Company Code:</strong> {{ journalEntryDetails.companyCode }}</div>\r\n        <div><strong>Account:</strong> {{ journalEntryDetails.account }}</div>\r\n        <div><strong>Entry Type:</strong> {{ journalEntryDetails.journalEntryType }}</div>\r\n        <div><strong>Journal Entry Date:</strong> {{ journalEntryDetails.journalEntryDate }}</div>\r\n        <div><strong>Posting Date:</strong> {{ journalEntryDetails.postingDate }}</div>\r\n        <div><strong>Posting Period:</strong> {{ journalEntryDetails.postingPeriod }}</div>\r\n        <div><strong>Amount:</strong> {{ journalEntryDetails.amount }} {{ journalEntryDetails.currency }}</div>\r\n        <div><strong>Assignment:</strong> {{ journalEntryDetails.assignment }}</div>\r\n        <div><strong>Created By:</strong> {{ journalEntryDetails.createdBy }}</div>\r\n        </div>\r\n    </section>\r\n\r\n    <section class=\"line-items-section\">\r\n        <h3>Line Items</h3>\r\n        <div v-if=\"journalEntryDetails.lineItems\" class=\"query-results-list\" style=\"width: 100%;\">\r\n            <div class=\"material-document-rows-container\">\r\n                <div class=\"material-document-row-header\">\r\n                    <div class=\"header-item company-code\">Posting View Item</div>\r\n                    <div class=\"header-item account\">G/L Account</div>\r\n                    <div class=\"header-item journal-entry\">Debit</div>\r\n                    <div class=\"header-item journal-entry-type\">Credit</div>\r\n                    <div class=\"header-item journal-entry-date\">Currency</div>\r\n                    <div class=\"header-item\"></div>\r\n                </div>\r\n                <div v-for=\"(item,index) in journalEntryDetails.lineItems\" :key=\"index\" class=\"material-document-row\">\r\n                    <span class=\"row-item company-code\">{{ item.postingViewItem }}</span>\r\n                    <span class=\"row-item account\">{{ item.glAccount }}</span>\r\n                    <span class=\"row-item journal-entry\">{{ item.debit }}</span>\r\n                    <span class=\"row-item journal-entry-type\">{{ item.credit }}</span>\r\n                    <span class=\"row-item journal-entry-date\">{{ item.currency }}</span>\r\n                    <span class=\"row-item arrow-icon\">▶</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <div class=\"actions-footer\">\r\n        <button @click=\"$router.go(-1)\" class=\"btn\">Back to Payment</button>\r\n    </div>\r\n    </div>\r\n    <div v-else class=\"no-data-state\">\r\n    No details found.\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<style scoped>\r\n/* ... (样式代码保持不变，如果需要调整表格列宽或间距，请自行调整) ... */\r\n.journal-entry-detail-page {\r\nheight: 100%;\r\npadding: 20px;\r\nmargin: 20px;\r\nbackground-color: var(--theme-color-page);\r\nborder-radius: 8px;\r\nbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\nmin-height: calc(100vh - 80px); /* 确保页面有最小高度 */\r\n}\r\n\r\n.detail-header {\r\npadding-bottom: 15px;\r\nmargin-bottom: 20px;\r\ntext-align: center;\r\n}\r\n\r\n.detail-header h1 {\r\ncolor: var(--theme-color-dark);\r\nmargin-bottom: 5px;\r\n}\r\n\r\n.detail-header p {\r\ncolor: #666;\r\nfont-size: 1.1em;\r\n}\r\n\r\n.loading-state, .error-state, .no-data-state {\r\ntext-align: center;\r\npadding: 50px 0;\r\ncolor: #888;\r\n}\r\n\r\n.error-state p {\r\n    color: red;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.detail-grid {\r\ndisplay: grid;\r\ngrid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\ngap: 15px;\r\nmargin-bottom: 30px;\r\npadding: 10px;\r\nborder-radius: 5px;\r\nbackground-color: var(--theme-color-page);\r\n}\r\n\r\n.detail-grid div strong {\r\ncolor: #333;\r\n}\r\n\r\n.detail-grid div {\r\n    font-size: 0.95em;\r\n    color: #555;\r\n    margin-right: auto;\r\n}\r\n\r\n.actions-footer {\r\nmargin-top: 40px;\r\ntext-align: right;\r\nborder-top: 1px solid #eee;\r\npadding-top: 20px;\r\n}\r\n\r\n.btn {\r\n    min-width: 120px;\r\n    display: inline-flex; /* 使内容居中更方便 */\r\n    align-items: center; /* 垂直居中 */\r\n    justify-content: center; /* 水平居中 */\r\n    padding: 8px 25px;\r\n    border: 2px solid transparent; /* 初始透明边框 */\r\n    border-radius: 5px;\r\n    background-color: var(--btn-default-bg); \r\n    color:var(--btn-default-text);\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    text-decoration: none; /* 移除可能的下划线（如果是a标签）*/\r\n    cursor:default;\r\n    outline: none; /* 移除默认焦点轮廓 */\r\n    transition: all 0.3s ease; /* 平滑过渡所有属性 */\r\n}\r\n\r\n.btn:hover {\r\n    background-color: var(--btn-hover-bg); /* 悬停时改变背景色 */\r\n    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15); /* 悬停时加深阴影 */\r\n    transform: translateY(-2px); /* 悬停时轻微上浮 */\r\n    color: var(--btn-hover-text); /* 悬停时改变文字颜色 */\r\n}\r\n\r\n.btn:active {\r\n    background-color: var(--btn-active-bg); /* 点击时改变背景色 */\r\n    box-shadow: 0 2px 4px var(--btn-active-shadow);\r\n    transform: translateY(0); /* 点击时恢复位置 */\r\n}\r\n\r\n.btn:focus {\r\n    border-color: var(--btn-focus-border); /* 获得焦点时显示蓝色边框 */\r\n    box-shadow: 0 0 0 0.2rem var(--btn-focus-shadow); /* 焦点光晕 */\r\n}\r\n\r\n.query-results-list {\r\n    width: 100%;\r\n    font-size: 1em;\r\n    color: var(--color-text-primary);\r\n}\r\n\r\n.material-document-rows-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n}\r\n\r\n.header-item, .row-item {\r\n    align-self: center;\r\n    padding: 0 10px; /* Add horizontal padding for text */\r\n    box-sizing: border-box; /* Include padding in width calculation */\r\n}\r\n\r\n/* 调整列宽比例以适应新增的勾选框列 */\r\n.checkbox-header, .checkbox-cell {\r\n    flex-basis: 3%;\r\n    text-align: center;\r\n}\r\n.company-code { flex-basis: 20%; text-align: center;}\r\n.account { flex-basis: 20%; text-align: center;}\r\n.journal-entry { flex-basis: 20%; text-align: center;}\r\n.journal-entry-type { flex-basis: 18%; text-align: center;} /* 调整 */\r\n.journal-entry-date { flex-basis: 18%; text-align: center;}\r\n.arrow-icon { flex: 0 0 4%; text-align: right; padding-right: 20px;} /* 调整 */\r\n\r\n.material-document-row-header,\r\n.material-document-row {\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    /* border-bottom: 1px solid var(--theme-color-lighter); */\r\n    padding: 8px 0; /* Add padding for better spacing */\r\n    transition: all 0.3s ease; /* 添加过渡效果 */\r\n}\r\n\r\n.material-document-row {\r\n    cursor: pointer; /* 将光标设置为指针，表示可点击 */\r\n    position: relative; /* 确保 box-shadow 在堆叠上下文中正确显示 */\r\n    transition: background-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;\r\n}\r\n\r\n.material-document-row:hover {\r\n    background-color: var(--theme-color-lighter);\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* 悬停时阴影更明显，模拟“浮起” */\r\n    transform: translateY(-2px); /* 悬停时轻微上移，增加层次感 */\r\n}\r\n\r\n.material-document-row:active {\r\n    /* 点击时下沉效果 */\r\n    background-color: var(--theme-color-table-header-bg); /* 可以选择更深一点的颜色 */\r\n    transform: translateY(1px); /* 向下移动1px，模拟“下沉” */\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* 阴影变小或移除，模拟“压平” */\r\n}\r\n.material-document-row:last-child {\r\n    border-bottom: none;\r\n}\r\n\r\n.material-document-row-header {\r\n    background-color: var(--theme-color-table-header-bg);\r\n    font-weight: bold;\r\n    color: var(--theme-color-table-header-text);\r\n}\r\n</style>","import script from \"./displayJournalEntry.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./displayJournalEntry.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./displayJournalEntry.vue?vue&type=style&index=0&id=4dd6e9fd&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4dd6e9fd\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","key","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","style","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_defineComponent","__name","setup","__props","route","useRoute","API_BASE_URL","window","onMounted","journalEntryNumber","ref","journalEntryDetails","isLoading","error","async","value","params","id","response","fetch","method","headers","body","JSON","stringify","journalEntryId","ok","console","log","Error","status","result","json","success","data","message","e","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_createTextVNode","_toDisplayString","_createCommentVNode","onClick","$event","$router","go","companyCode","account","journalEntryType","journalEntryDate","postingDate","postingPeriod","amount","currency","assignment","createdBy","lineItems","_createStaticVNode","_Fragment","_renderList","item","index","postingViewItem","glAccount","debit","credit","__exports__"],"sourceRoot":""}